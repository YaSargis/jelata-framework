# Current Version
Jelata Framework v. 0.0.6

# Getting Started
Jelata Framework is a tool combining a framework and development environment that you can use in your browser. 
The Jelata Framework is designed to simplify the development task with ready-made components that already have a bundle with data in the database.  
To start using you will need:  
                        <ul>
							<li>python 3 (recommended to use python versions older than 3.4)</li>
							<li>PostgreSQL DBMS (PostgreSQL version 9.5 is recommended)</li>
							<li>node js </li>
						</ul>
						<p>For python, you must install the following libraries:</p>
                        <ul>
							<li>tornado v. 4.5.3</li>
							<li>momoko</li>
							<li>xlsx2html</li>
						</ul>
						
<pre>pip install -Iv tornado==4.5.3 
pip install momoko
pip install xlsx2html
</pre>

<p>For start report service go to the path ./reports and install all modules and start node server (or use pm2 deamon).</p>
<pre>npm i
node index.js
</pre>

Next, you need to create the project database by running the script from the framework.sql file (If you already have a database to which you want to connect, you need to create all the objects from the framework.sql script in your database).
Base name can be renamed.
The last step is to check the settings for connecting to the database server in the settings.json file, if everything is correct, then start the server:

<pre>
python3 run_server.py
</pre>
After starting the server, in the browser, go to http://127.0.0.1:8080 and in the user menu click on the login item

<p><b>login:</b> admin</p>
<p><b>password:</b> 123</p>
<p>PS Be sure to change the administrator password before release.</p>
<p>For see template components	follow the link  http://127.0.0.1:8080/list/test</p>


Templates: 
<ul>
	<li><a href="https://github.com/YaSargis/jelata-framework-ant-frontend">and design</a></li>
	<li><a href="https://github.com/YaSargis/jelata-framework-frontend-materialize">materialize</a></li>
</ul>
You can write your own front-end for framework 

## Authors

* **Kazaryan Sargis**


<h2><strong class="ql-size-huge">Jelata Framework</strong></h2><p><br></p><p>To get started make sure:</p><ul><li>all project files are in a folder called&nbsp;<strong>jelataframework</strong>&nbsp;.</li><li>all settings, including those for connecting to the database, are correctly specified in the&nbsp;<strong>settings.json</strong>&nbsp;file</li><li>your database contains all data and objects from&nbsp;<strong>framework.sql</strong>&nbsp;file</li></ul><p><br></p><p>To start the server, type&nbsp;<strong><em>python3 run_server.py</em></strong>&nbsp;on Linux systems and&nbsp;<strong><em>python run_server.py</em></strong>&nbsp;on windows systems (if python is version 3).</p><p>To start the print server, you need to have node js&gt; 6 v, install all dependencies for the project in the reports folder, for this, type the command&nbsp;<strong><em>npm i</em></strong></p><h3><br></h3><h3><strong class="ql-size-large">Main Settings</strong></h3><p>The main project settings can be accessed through&nbsp;<span style="color: rgb(255, 255, 255); background-color: rgb(0, 21, 41);">Project Settings-&gt; Global Project Settings -&gt; Global Settings</span>&nbsp;or via the path / getone / mainsettings.&nbsp;All settings are stored in the settings.json file and are duplicated in the database in the framework.mainsettings table.&nbsp;Basic properties:</p><ul><li><em><u>db connection string</u></em>&nbsp;- DB<em><u>&nbsp;connection string</u></em></li><li><em><u>project server port</u></em>&nbsp;- the port on which the web server is running</li><li><em><u>main domain</u></em>&nbsp;- project domain in production</li><li><em><u>primary authorization</u></em>&nbsp;- sign of authorization, whether the project requires mandatory authorization to work</li><li><em><u>redirect401</u></em>&nbsp;- redirects to this path in case of 401 error status</li><li><em><u>home page</u></em>&nbsp;- the main page of the project</li><li><em><u>login_url</u></em>&nbsp;- login page</li><li><em><u>reports_url</u></em>&nbsp;- report service server</li><li><em><u>ischat</u></em>&nbsp;- show the chat icon in the lower right corner</li><li><em><u>template</u>&nbsp;</em>- project template (ant, materialize)</li></ul><p><br></p><p><br></p><h3><strong class="ql-size-large">Views</strong></h3><p><strong><em>﻿</em>View are</strong>&nbsp;the main components (configurations for rendering and data linking) used in the project.&nbsp;They are located in the framework.views table and also in the auxiliary tables:&nbsp;<em>framework.config (framework.defaultval, framework.select_condition, framework.visible_condition), framework.actions (framework.act_parametrs, framework.act_visible_condions), framework.filters.&nbsp;</em>The data is&nbsp;<strong>heaped</strong>&nbsp;using the&nbsp;<strong>framework</strong>&nbsp;function&nbsp;<strong>. "Fn_view_getByPath" (_path varchar, _viewtype varchar, out outjson json)</strong>&nbsp;and processed using the&nbsp;<em>/libs/admin.py</em>&nbsp;and&nbsp;<em>/libs/sql_migration.py files</em>&nbsp;.</p><p>We recommend creating and editing them from the admin panel, which is located in the menu item&nbsp;<span style="color: rgb(255, 255, 255); background-color: rgb(0, 21, 41);">Project Settings-&gt; Components -&gt; Views</span>&nbsp;, or along the path / list / views.</p><p>The&nbsp;<em><u>main properties of a view</u></em>&nbsp;are:</p><ul><li><strong><em>table</em></strong>&nbsp;- the main table,</li><li><strong><em>path</em></strong>&nbsp;- path,</li><li><strong><em>title</em></strong>&nbsp;- title,</li><li><strong><em>roles</em></strong>&nbsp;- the roles of users with view rights (roles are in the<em>&nbsp;framework.roles</em>&nbsp;table),</li><li><strong><em>classname</em></strong>&nbsp;- the name of the CSS class that can be applied to the entire component,</li><li><strong><em>viewtype</em></strong>&nbsp;- component type (view)<strong>&nbsp;,</strong></li><li><strong><em>subscrible</em></strong>&nbsp;- opens a web-socket through which you can send messages and update the view (<em>&nbsp;framework.viewsnotification</em>&nbsp;table).&nbsp;And for table types (tiles, table)</li><li><strong><em>pagination</em></strong>&nbsp;- turns on paging.</li></ul><p><br></p><p>Using the&nbsp;<strong><em>showsql</em></strong>&nbsp;button,&nbsp;<strong><em>you</em></strong>&nbsp;can get the SQL script that turned out according to your config.</p><p><br></p><p>At the moment there are 4 types of components in operation:</p><ul><li>table - table</li><li>tiles - tiled list</li><li>form full - a form that instantly saves data (saves data after entering)</li><li>form not mutable - form without immediate saving</li></ul><p><br></p><p>A link is attached to each type in the system, by which you can go to this view.</p><p>For type&nbsp;<strong><em>table</em></strong>&nbsp;-&nbsp;<em>/ list / &lt;path&gt;</em></p><p>Для&nbsp;<strong><em>form full</em></strong>&nbsp;и&nbsp;<strong><em>form not mutable&nbsp;</em></strong><em>- /getone/&lt;path&gt;</em></p><p>For&nbsp;<strong><em>tiles</em></strong>&nbsp;type&nbsp;-&nbsp;<em>/ tiles / &lt;path&gt;</em></p><p><br></p><p>A very important point is&nbsp;<strong>passing parameters</strong>&nbsp;in the address bar to the specified view, since&nbsp;these parameters are filters for the view.</p><p>For example, we have a view available on the path / list / myview with the field myfieldid, if we pass to the path / list / myview? Myfieldid = 13, then we will get records with myfieldid = 13, but myfieldid is not the name of the field in the table, and the "title" parameter in the config-e view (see the description for config).</p><p>For views of type form full and form not mutable, it is necessary to pass a parameter narrowing the returned lines to 1, most often this is an explicit id indication, for example, / getone / myform? Id = 1</p><p>To create a record in the form, you must specify a non-existent id, most often it is id = 0 (/ getone / myform? Id = 0).</p><p><br></p><p><strong><em>relation parameter:</em></strong></p><p>the relation parameter is needed to pass the name of the table fields, in which you need to write values ​​to the table when creating a record, except for those explicitly passed, their values ​​must also be indicated in the address bar in the parameters with the table field name and value.</p><p>For example, we add a record to the table mytable, which is specified as the main one in the view myview, of type form full, for this we went along the path&nbsp;<em><u>/ getone / myview? Id = 0,</u></em>&nbsp;and since&nbsp;this is form full, then after the first change in the input, a request will be sent to save the data and a record will be created, but for example the table logically requires one more mandatory (not null) field - nnull_field, and in order to fill it in, we pass its name to the relation parameter -&nbsp;<em>relation = nnull_field,</em>&nbsp;and the nnull_field parameter with the value&nbsp;<em>nnull_field = 1,</em>&nbsp;as a result, for a full-fledged work, we get the path&nbsp;<em><u>/ getone / myview? id = 0 &amp; relation = nnull_field &amp; nnull_field = 1</u></em>&nbsp;.</p><p>If you need to pass several parameters, then we list them separated by commas, for example:&nbsp;<em><u>/ getone / myview? Id = 0 &amp; relation = field1, field2 &amp; field1 = 1 &amp; field2 = teststring</u></em></p><p><br></p><p><strong><em>userid:</em></strong></p><p>If there is a&nbsp;<strong><em>userid</em></strong>&nbsp;field in the table&nbsp;, then when the row is changed by standard means (form full and action of type Save and Delete), the current user will be written.</p><p><br></p><p>Each type of view component has its own settings -&nbsp;<strong>config,</strong>&nbsp;depending on the type.</p><p><br></p><h4><strong><em>Description of config fields - a:</em></strong></h4><ul><li><em><u>column_order</u></em>&nbsp;- the order in which the field is displayed</li><li><em><u>fn</u></em>&nbsp;is a function, for the type of columnar function, this is also a field, the value of which is returned by the specified plpgsql function, it also depends on the fncolumns parameter - parameters passed to the function, for example SELECT id, fn1 (id) FROM mytable, where fn1 is the value fn.&nbsp;It is most often used for simple functions, such as displaying a color, calculating something, or when foreign key relationships are not specified, which does not allow building further joins, or when there are ambiguous and complex relationships between tables in the database.&nbsp;It can slow down the work, check the speed of the function.</li><li><em><u>fncolumns</u></em>&nbsp;- parameters passed to the function</li><li><em><u>col</u></em>&nbsp;- the name of the field in the table</li><li><em><u>title</u></em>&nbsp;- the name of the field in the component, you can also filter data by the value of this field using the incoming parameters in the address bar, for example / list / myview? field title = test title</li><li><em><u>type</u></em>&nbsp;- the type of the field, the behavior of the field, its display and connection with data depends on this, for a more detailed description of each type, read the column types below</li><li><em><u>visible</u></em>&nbsp;- the sign of displaying the field, if true, then the user sees it on the component, if false, then the user does not see it, but the data is returned and can be manipulated</li><li><em><u>required</u></em>&nbsp;- whether it is mandatory to specify a filter for this field, protects against user attempts to change the value of the specified filter and view all records, use as needed</li><li><em><u>orderby</u></em>&nbsp;- sort by this field</li><li><em><u>orderbydesc</u></em>&nbsp;- rotate sorting, only works if orderby is selected</li><li><em><u>updatable</u></em>&nbsp;- used for a view of type form full, updates the data after each save, also used to update the entire composition (read below)</li><li><em><u>classname</u></em>&nbsp;- the application of css styles, the name of the css class</li><li><em><u>editable</u></em>&nbsp;- used for the table type - an editable cell in a table, makes it possible to change data inside a table cell</li><li><em><u>join</u></em>&nbsp;- if there is a connection with another table, it applies JOIN instead of LEFT JOIN, the connection with another table is stipulated in the relation field and the presence of a foreign key in the table.</li><li><em><u>width</u></em>&nbsp;- width, you can use 100px, 70%, or markup from 1-24, 24 is the whole line, by default 12 is half</li><li><em><u>roles</u></em>&nbsp;- the roles that the field is available to</li><li><em><u>relation</u></em>&nbsp;- the table with which the field is associated using a foreign key.&nbsp;In the case of the types select_api, typehead_api, multiselect_api, multitypehead_api - the path to the API method (read more in the description of types), in the case of the types multiselect, multitypehead - the table where the values ​​will be taken from (for more details, read the description of the types).</li><li><em><u>relationcolums</u></em>&nbsp;- fields that can be pulled from the relation table (LEFT JOIN), are also used as fields for values ​​of types select, typehead, etc.&nbsp;It is also possible to build joins based on links from expanded fields, the only condition is that the foreign key must be specified</li><li><em><u>select_condition</u></em>&nbsp;- conditions for fields of selct types, typehead for a list of values ​​from the table specified in relation</li><li><em><u>visible_condition</u></em>&nbsp;- field display conditions</li><li><em><u>defaultval</u></em>&nbsp;- the value that the filter goes to the sql query condition, for example WHERE field1 = 1</li></ul><h4><br></h4><h4><strong><em>Config-a field types:</em></strong></h4><ul><li><em><u>label</u></em>&nbsp;- the type for displaying the value - html component label</li><li><em><u>text</u></em>&nbsp;- html input of type text</li><li><em><u>number</u></em>&nbsp;- html input c типом number</li><li><em><u>phone</u></em>&nbsp;- html input with phone mask</li><li><em><u>password</u></em>&nbsp;- html input of type password.&nbsp;If this type is selected for a field, then the value written to the database is encrypted in md5.&nbsp;No value is returned to the form, input will always be empty.</li><li><em><u>textarea</u></em>&nbsp;- html textarea component</li><li><em><u>texteditor</u></em>&nbsp;- text editor, saves formatted text as html</li><li><em><u>autocomplete</u></em>&nbsp;- autocomplete, searches for data across the entire table by the entered excerpt, returns the entered text and found data as a list (only form)</li><li><em><u>certificate</u></em>&nbsp;- selection of a certificate of existing digital signatures, it may not work, because&nbsp;requires an extension in the browser and a script to work with the extension (only form)</li><li><em><u>checkbox</u></em>&nbsp;- for boolean types - html input of type checkbox</li><li><em><u>codeEditor</u></em>&nbsp;- code editor (ace editor based) (form only)</li><li><em><u>color</u></em>&nbsp;- display color</li><li><em><u>colorpicker</u></em>&nbsp;- color<em><u>&nbsp;picker</u></em>&nbsp;, writes a hash code (only form)</li><li><em><u>colorrow</u></em>&nbsp;- colors the text of a row in a table in the specified color (table only)</li><li><em><u>date</u></em>&nbsp;- date picker</li><li><em><u>datetime</u></em>&nbsp;- date and time picker</li><li><em><u>time</u></em>&nbsp;-<em><u>&nbsp;time</u></em>&nbsp;selection</li><li><br></li><li><em><u>files</u></em>&nbsp;- same as file, only for multiple downloads</li><li><em><u>filelist</u></em>&nbsp;- only to show files uploaded using file or files</li><li><em><u>image</u></em>&nbsp;- loading an image type file</li><li><em><u>images</u></em>&nbsp;- same as images, only for bulk upload</li><li><em><u>gallery</u></em>&nbsp;- only for displaying files uploaded using image or images</li><li>innerHtml - embeds html (it is dangerous to use without checking the incoming data for inline scripts)</li><li><em><u>link</u></em>&nbsp;- a link, can display just a link, for example http://github.com, if you return it in text.&nbsp;Or you can return a json object of type {title: 'mylink', link: 'mypath', target: '_ blank'}</li><li><em><u>multidate</u></em>&nbsp;- multiple date selection, saves to array ["2018-01-01", "2018-01-02"] (form only)</li><li><em><u>select</u></em>&nbsp;- html component select - drop-down list, used only if the relation field contains a table from a foreign key field, and the relationcolums specifies fields that will serve as values ​​for the list, if one field is selected, then it will be recorded and displayed if selected two fields, for example ["id", "title"], then id will be written as a value to the base, and title will be displayed for selection, if 3 or more fields are selected, then the first will be written, and all the rest will be concatenated for display.&nbsp;You can also apply a condition for displaying a list by specifying it in select_condition.&nbsp;It is important that the select type gives only 300 records from the table, if there are more records, we recommend using the typehead type.</li><li><em><u>typehead</u></em>&nbsp;- html component select - with search, works on the same principle as the select type, but requires a search string that the user enters, the search is performed over the entire table specified in the relation, according to the fields specified in relationcolums.</li><li><em><u>multiselect</u></em>&nbsp;- works on the principle of the select type, but does not require a foreign key, the table can be specified independently in the admin panel of the config.&nbsp;Multiple choice.&nbsp;Saves an array of selected values ​​to the JSON database, for example [15,155,14], so the field in the table must be of json type.</li><li><em><u>multitypehead</u></em>&nbsp;- works on the principle of the multiselect type, only with search</li><li><em><u>select_api</u></em>- works on the principle of the select type, but instead of a table link, the relation specifies the path to the API method (for example / api / gettables), which returns data for the list.&nbsp;The API method must be POST, must return an object with the outjson key containing an array of objects like {label: "val1", value: "1"}, where value is written to the database, and label is to be displayed to the user.&nbsp;Those.&nbsp;the method response should look like this: {outjson: [{label: "val1", value: "1"}, {"label": "val2", value: "2"}, ...]}.&nbsp;The body of the method will contain the object {config: [...], data: {...}, inputs: {...}}, where config is the config view, data is all the current data on the form, inputs are these are the current address bar parameters and can be used to manipulate data in your API method.&nbsp;Important,</li><li><em><u>typehead_api</u></em>&nbsp;- the same as the select type, but additionally the parameter goes subtr - the search query</li><li><em><u>multiselect_api</u></em>&nbsp;- works on the principles of multiselect and select_api, multiple choice, receives data from the API method, saves an array of selected data to a database table.&nbsp;It also accepts a parameter val - in which the current value, return a list by val, to initialize the form with a filled value.</li><li><em><u>multitypehead_api</u></em>&nbsp;- works on the principles of multitypehead and typehead_api, multiple selection, receives data from the method API, sends the substr parameter for search, saves an array of selected data to a database table.&nbsp;It also accepts a parameter val - in which the current value, return a list by val, to initialize the form with a filled value.</li><li><em><u>rate</u></em>&nbsp;- asterisks for ratings, we recommend using with the numeric type, because&nbsp;ratings can be 4.5, 2.5, etc.</li><li><em><u>tags</u></em>&nbsp;- tags, saves an array of entered lines, adds to the array on onEnter, stores in the database in a json field</li><li><em><u>array</u></em>&nbsp;is a table that has a one-to-many relationship with the main one, you can display it as a table, but with the names of the fields, as indicated in the database.&nbsp;Not recommended for use unless urgently needed.&nbsp;Configurable in relationcolums.</li><li><em><u>diagram</u></em>&nbsp;- выводит диаграмму в виде графика, Формат данных {"datasets" : [{"label" : "MyDiagram", "x" : ["1","2","3","4","5"], "color" : "green"}], "y" : ["1","2","3","4","5"]}</li></ul><p><br></p><h4><strong>Filters:</strong></h4><p>For the types of views - table and tiles, it is possible to add filters.</p><p>Filters have several basic properties.</p><ul><li>title is the title to display the filter,</li><li>col or columns - fields by which to filter data,</li><li>type - type,</li><li>position - location,</li><li>order - order.</li></ul><p>Filters are distinguished in two categories, the first - is the location on the page -&nbsp;<strong><em><u>position</u></em></strong>&nbsp;, the second - this type of filter.</p><p>At the moment, two options are available by location, these are&nbsp;<em>Up</em>&nbsp;- on top of the form and&nbsp;<em>Right</em>&nbsp;- on the right, in the drop-down window.</p><p><br></p><p>By types:</p><ul><li><em><u>period</u></em>&nbsp;- specified for a field of type date, filters data by two specified dates of the period, mydatefield&gt; = filterdate1 and mydatefield &lt;= filterdate2</li><li><em><u>date_between</u></em>&nbsp;- specified for a field of type date, filters data according to the principle mydatefield&gt; = filterdate and mydatefield &lt;= filterdate</li><li><em><u>check</u></em>&nbsp;- used for a field with boolean data type, checkbox - with values ​​true / false / null</li><li><em><u>substr</u></em>&nbsp;- search for a substring in a string.&nbsp;(lower (myfield) like lower (concat ('%', _ substr, '%')))</li><li><em><u>typehead</u></em>&nbsp;- search in several fields, you can also search by specifying the search values ​​separated by a space, in the case when 3 or more fields are specified.&nbsp;Good for searching by last name, first name, but may not work for a single field that contains values ​​with problems.</li><li><em><u>select</u></em>&nbsp;- select a filter value from the drop-down list, for fields with a foreign key, for the filter to work, the field must have a table in the relation and two fields in relationcolums must be specified - the value and the field to display, for example ["id", "title" ]</li><li><em><u>multiselect</u></em>&nbsp;- the same as select, only multiple choice, i.e.&nbsp;the filter will not be t1.myselectfield = val, but t1.myselectfield in (select value from json_array_elements (val))</li><li><em><u>multijson</u></em>&nbsp;- intersection of two arrays, one is the field value, the second is the selected array in the filter</li></ul><p><br></p><h4><strong>Actions:</strong></h4><p><br></p><p>The main functionality for managing a view is action.&nbsp;Framework.actions tables.&nbsp;Basic properties:</p><ul><li><em>title</em>&nbsp;- the name of the button, or action</li><li><em>type</em>&nbsp;- type of action (see types of actions)</li><li><em>isforevery</em>&nbsp;- for each row, used for table and tiles</li><li><em>ismain</em>&nbsp;- fires on double click on a row, used for table and tiles</li><li><em>act</em>&nbsp;- path</li><li><em>classname</em>&nbsp;- CSS class</li><li><em>icon</em>&nbsp;- icon, antd icon v3. * https://3x.ant.design/components/icon/</li><li><em>actapitype</em>&nbsp;- the type of the API method, in case the type is API, GET, POST, PUT, DELETE</li><li><em>actapirefresh</em>&nbsp;- update the form after performing an action of the API type</li><li><em>parametrs</em>&nbsp;- parameters, read more description of parameters</li><li><em>act_visible_condition</em>&nbsp;- visibility conditions</li></ul><p><br></p><p>Action types:</p><ul><li><em>Link</em>&nbsp;- follow the link (without reloading the page)</li><li><em>LinkTo</em>&nbsp;- opens in a new page</li><li><em>API</em>&nbsp;- calling the API of the method, if the method returns message - it will be shown as a notification, if _redirect - it will redirect to the specified path</li><li><em>Delete</em>&nbsp;- delete a record, it is used only in views such as tables and tiles, isforevery must be true, i.e.&nbsp;fires only for a row in a table</li><li><em>Save</em>&nbsp;- saving data in the form form not mutable</li><li><em>Save &amp; Redirect</em>&nbsp;- saving data in the form not mutable and redirecting to the path specified in act</li><li><em>OnLoad</em>&nbsp;is an API method that is executed before the component is loaded, so you can, for example, download or update data before loading</li><li><em>Expand</em>&nbsp;- an expanding component of a table row, is used only in a view of the table type - in act, the path to the getone or list component is indicated, for example / list / myview or / getone / myview, parameters are also passed to parametrs</li><li><em>Modal</em>&nbsp;- a modal window, opens the view specified in the act in the modal window, passing parameters, after closing the window, updates the view, the path to the component must be getone or list, for example / list / myview or / getone / myview, parameters are also passed to parameters</li></ul><p><br></p><p>Description of parameters:</p><p>Parameters in actions have several basic properties and rules.&nbsp;title is the name of the parameter, then you should choose where to get the value for the parameter, it is possible to take from the component data - val_desc, specify a constant - const, or take it from the address bar - input.&nbsp;If&nbsp;<em>isforevery</em>&nbsp;false is used in table or tiles, and val_desc is specified, then the value will be taken from the first record of the table, but it may not appear, so be careful using a similar construction.&nbsp;For the onLoad action type, only the Input value can be used.</p><p><br></p><p>Service parameters:</p><p>_sub_title - If you pass the _sub_title parameter, then in the view, in addition to the main title, there will be a subtitle with the parameter value:</p><p>?id=1&amp;_sub_title=My SubTitle</p><p>relation - The relation parameter is described above</p><p><br></p><p>Global parameters:</p><p>_checked_ - if you pass the constant _checked_ in the parameter value, you can pass an array of identifiers selected in the table, for this checker: true must be specified in the main view properties, only for the table type</p><p>_userid_ - if you pass the constant _userid_ in the parameter value, then you can pass the identifier of the current user, it can also be passed to config in defaulval, select_condition</p><p>_orgid_ - if you pass the constant _orgid_ in the parameter value, then you can pass the identifier of the current organization, the current user, it can also be passed to config in defaulval, select_condition</p><p>_orgs_ - if you pass the constant _orgs_ in the parameter value, then you can pass the JSON array identifiers of all organizations, the current user, they can also be passed to config in defaulval, select_condition</p><p>_sesid_ - session identifier</p><p>_viewid_ - view id from&nbsp;<em>framework.views</em>&nbsp;table</p><p><br></p><h3><strong class="ql-size-large">Composition</strong></h3><p><br></p><p>Compositions is a component in which you can combine several views into one, available at the path / composition / &lt;mycompopath&gt;.</p><p>Composition properties:</p><ul><li><strong><em>title</em></strong>&nbsp;- title of the composition - title,</li><li><strong><em>path</em></strong>&nbsp;- the path of the composition along this path the component will be available,</li><li><strong><em>viscond_function</em></strong>&nbsp;is a function that returns a json array of view identifiers that need to be displayed, takes as input all the address bar parameters - inputs and path of the composition, an example of the<span style="color: rgb(196, 26, 22);">&nbsp;framework.fn_views_compo_visible</span>&nbsp;function.</li><li><strong><em>config - a</em></strong>&nbsp;list of views to display.</li></ul><p>Config, in turn, contains view display properties,</p><ul><li><strong><em>rownum</em></strong>&nbsp;- the order</li><li><strong><em>width</em></strong>&nbsp;- width from 1 to 24, by default it is always 24 - full screen.&nbsp;those.&nbsp;100%,</li><li><strong><em>path</em></strong>&nbsp;- object containing id, path, viewtype - view identifier, path and view type.</li></ul><p><br></p><p>The parameters are passed the same as they should come to the view.&nbsp;those.&nbsp;if you combined in view table and getone of the same table and sent id = 0, then it will apply to both views.</p><p>Compositions update data if there is at least one updatable in the view in the config (in the config).</p><p>The database is stored in the framework.compos table.</p><p><br></p><h3><strong class="ql-size-large">Trees</strong></h3><p><br></p><p>Tree is a tree-like menu where you can specify items and a view or composition corresponding to an item, you can also specify parent records, for each item you need to specify a name and an icon.&nbsp;Trees are available along the path / trees / &lt;mytreepath&gt;, where &lt;mytreepath&gt; is the path of the tree.&nbsp;It is also possible to specify the main item that will open when the tree is initialized.&nbsp;You can get to the desired tree item by specifying # &lt;item identifier&gt; in the address bar, for example: / trees / &lt;mytreepath&gt;? Oid = 12 # 15, where # 15 is the item identifier.&nbsp;The parameters in the tree, as well as in the composition, are passed through to the view.</p><p><br></p><p><br></p><h3><strong class="ql-size-large">SPAPI</strong></h3><p>SpApi are API methods that are stored in the framework.spapi table and are executed on the principle of direct execution of the specified function, i.e.&nbsp;each method has its own pl / pgsql function.&nbsp;The function must have an input injson parameter of the JSON type, into which the body and request parameters will be passed.&nbsp;The function can return any data type, the message and _redirect return service parameters are described in the API action type.&nbsp;API methods have the following properties:</p><ul><li>method name - the name of the API method, the method is available at the path / api / &lt;method name&gt;</li><li>function - plpgsql function</li><li>methotype - API type of the method, get, post, put, delete</li><li>roles - user roles for which the method is available, if nothing is selected, the method will be available to everyone, even to unauthorized users</li></ul><p>The method is available at the path / api / &lt;mymethodname&gt;</p><p><br></p><h3><strong class="ql-size-large">Menu</strong></h3><p>The table - framework.menus - stores data about the menus that are added to the project and their location, i.e.&nbsp;Left Menu - left menu, Header Menu - top menu, etc. The table - framework.mainmenu - stores the menu list.&nbsp;In order to add / edit a menu, go to the menu item&nbsp;<span style="color: rgb(255, 255, 255); background-color: rgb(0, 21, 41);">Project Settings -&gt; Auxiliary settings -&gt; Menu Settings</span>&nbsp;.</p><p>Properties:</p><ul><li>title - the title of the menu item</li><li>parent - parent record</li><li>roles - the roles for which the menu item is available</li><li>order by - the order of the item</li><li>path - path</li><li>icon - item icon https://3x.ant.design/components/icon/</li><li>no session - show menu item only if user is not logged in</li><li>ws messagetype - specify the type of notification from the framework.notification table, add a counter</li><li>is title - whether to show the title of the item</li></ul><p><br></p><h3><strong class="ql-size-large">Notifications</strong></h3><p>Sending notifications to a project is possible by adding records to the framework.notification table.&nbsp;Basic properties:</p><ul><li>message - message</li><li>messagetype - notification type, specified in the menu, for the 'notifs' counter by default</li><li>for_userid - identifier of the user for whom the notification</li><li>sended_sessions - sessions received notifications</li><li>isread - read</li><li>sessid - session for which notification, if for_userid is not specified</li></ul><h3><br></h3><h3><strong class="ql-size-large">User CSS</strong></h3><p>user.css is a file connected to the project's index.html.&nbsp;You can write new CSS classes in this file by going to the menu item&nbsp;<span style="color: rgb(255, 255, 255); background-color: rgb(0, 21, 41);">Project Settings -&gt; Global Project Settings -&gt; User Css</span>&nbsp;.</p><p><br></p><p><br></p><p><strong class="ql-size-large">Updates</strong></p><ul><li>Added functions for transferring views from one database to another</li></ul><p><span style="color: rgb(0, 102, 204);">framework. "fn_view_genJson"</span>&nbsp;- getting JSON view for transfer</p><p><span style="color: rgb(240, 102, 102);">framework."fn_view_fromJson"</span>&nbsp;- добавление view из JSON</p><p><br></p><ul><li>Changing the interface language</li></ul><p>To change the interface language, in the jelataframework / files folder in the languages.js file, change the value of the LnG variable, RU and ENG are available, if necessary, you can add a translation to json LaNg by adding your language code to each array object, as a key and a translation, in as a value, for example: "List": {</p><p>"EN":"list:",</p><p>"RU":"Список:",</p><p><span style="background-color: rgb(255, 255, 0); color: rgb(230, 0, 0);">"CN": "List"</span></p><p>}</p><p><br></p><h1><strong>Presentation</strong></h1><ul><li><strong style="color: rgb(102, 185, 102);"> </strong><a href="https://github.com/YaSargis/jelata-framework/blob/master/files/create_table.gif" rel="noopener noreferrer" target="_blank" style="color: rgb(102, 185, 102);"><strong>create table</strong></a></li><li><strong style="color: rgb(102, 163, 224);"> </strong><a href="https://github.com/YaSargis/jelata-framework/blob/master/files/create_list_view.gif" rel="noopener noreferrer" target="_blank" style="color: rgb(102, 163, 224);"><strong>create list view</strong></a></li><li><a href="https://github.com/YaSargis/jelata-framework/blob/master/files/create_form_view.gif" rel="noopener noreferrer" target="_blank" style="color: rgb(240, 102, 102);"><strong>create form view</strong></a></li><li><span style="color: rgb(102, 185, 102);"> </span><a href="https://github.com/YaSargis/jelata-framework/blob/master/files/edit_and_delete.gif" rel="noopener noreferrer" target="_blank" style="color: rgb(102, 185, 102);"><strong>edit and delete</strong></a></li><li><a href="https://github.com/YaSargis/jelata-framework/blob/master/files/menu.gif" rel="noopener noreferrer" target="_blank" style="color: rgb(194, 133, 255);"><strong>menu</strong></a></li></ul>