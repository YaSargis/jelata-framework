!function(e){function t(t){for(var a,l,i=t[0],c=t[1],u=t[2],p=0,f=[];p<i.length;p++)l=i[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={0:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/build";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=c;o.push([634,1]),n()}({338:function(e){e.exports=JSON.parse('{"api":{"_url":""},"chat":true,"profile":true,"userorg":"/getone/user_account"}')},603:function(e,t,n){},627:function(t,n,a){"use strict";var r=a(0),o=a.n(r),l=a(150),i=a(91),c=a(338),u=c,s=c.api,p=a(1214),f=a(174),m=a(1218),d=a(12),y=a(345),g=a(1219),h=a(64),b=a(27),v=a.n(b),O=a(334),E=a.n(O),k=a(6),j=a(1229),w=a(28),S=a.n(w),C=a(335),P=a.n(C),D=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};P()({method:e,url:s._url+n,data:t,withCredentials:!0,headers:{Auth:localStorage.getItem("sesid")}}).then((function(e){a(e.data)}),(function(e){r(e);var t="Unknown error";e.response&&e.response.data&&e.response.data.message?t=e.response.data.message:console.log(n,":",e),j.a.error({message:"Error",description:t});var a=localStorage.getItem("redirect401");a&&"undefined"!==a&&"null"!==a||(a="/login"),e.response&&401===e.response.status&&window.location.pathname!==a&&window.location.replace(a)}))},I=a(631),x=a(124);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}I.a.TextArea,x.a.Option;var A=y.a.SubMenu,N=function(e){D("POST",{settings:e},"/api/saveusersettings")};function F(e,t,n){if((e=e||{})[0]&&(e=e[0]),n||(n={}),t&&0!==t.length){var a=!0;return t.forEach((function(t){if(">"===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]>t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]>t.value)&&a;else if("==="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key].toString()===t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value].toString()===t.value)&&a;else if("<"===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]<t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]<t.value)&&a;else if("!=="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key].toString()!==t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value].toString()!==t.value)&&a;else if(">="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]>=t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]>=t.value)&&a;else if("<="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]<=t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]<=t.value)&&a;else if("===null"===t.operation.js)a=(null===e[t.col.key]||void 0===e[t.col.key])&&a;else if("!==null"===t.operation.js)a=null!==e[t.col.key]&&void 0!==e[t.col.key]&&a;else if("indexOf"===t.operation.js)a=!!(e[t.col.key]&&-1!==e[t.col.key].indexOf(t.value)||n[t.col.value]&&-1!==n[t.col.value].indexOf(t.value))&&a;else if("likeOr"===t.operation.js){var r=t.value.split(",");if(_.isEmpty(r))return a=!1;var o=function(e){var t=!1,n=[];return[e].forEach((function(e){r.forEach((function(t){var a=e.includes(t);n.push(a)}))})),n.find((function(e){return!0===e}))&&(t=!0),t};a=!!(e[t.col.key]&&o(e[t.col.key])||n[t.col.value]&&o(n[t.col.value]))&&a}else"in"===t.operation.js?a=t.value.split(",").filter((function(n){return null!==e[t.col.key]&&void 0!==e[t.col.key]&&n.toString()===e[t.col.key].toString()})).length>0&&a:"not in"===t.operation.js?a=0===t.value.split(",").filter((function(n){return null!==e[t.col.key]&&void 0!==e[t.col.key]&&n===e[t.col.key].toString()})).length&&a:"contain"===t.operation.js&&(a="object"===T(e[t.col.key])&&(e[t.col.key]||[]).filter((function(e){return e==t.value})).length>0)})),a}return!0}var M=function(e,t,n,a,r){var o=t.parametrs,l=(t.paramtype,"");if(o){var i=o.filter((function(e){return"link"===e.query_type}));i.length>0&&(l="/"),i.forEach((function(t,i){if(t.paramcolumn)l+=e[(_.find(n,(function(e){return e.title===t.paramcolumn.value}))||{}).key]+"/";else if(t.paraminput)l+=a[t.paraminput]+"/";else{var c=t.paramconst;"_checked_"===c&&(c=JSON.stringify(r||[])),l+=c+"/"}o.length!==i+1&&(l+="&")}));var c=o.filter((function(e){return"query"===e.query_type}));c.length>0&&(l+="?"),c.forEach((function(t,i){if(!t.paramt||"sample"===t.paramt){if(t.paramcolumn)l+=t.paramtitle+"="+e[(_.find(n,(function(e){return e.title===t.paramcolumn.value}))||{}).key];else if(t.paraminput)l+=t.paramtitle+"="+a[t.paraminput];else{var c=t.paramconst;"_checked_"===c&&(c=JSON.stringify(r||[])),l+=t.paramtitle+"="+c}o.length!==i+1&&(l+="&")}}))}return l};function L(e,t,n,a,r){e&&e[0]&&(e=e[0]);var o="";return-1===t.act.indexOf("?")&&(o="?"),t.parametrs&&t.parametrs.forEach((function(t){if(t.paramcolumn){var l=t.paramcolumn;o+=t.paramtitle+"="+(e[(_.find(n,(function(e){return e.title===l.value||e.fn&&e.title===l.value}))||{}).key]||a[(_.find(n,(function(e){return e.title===l.value}))||{}).title])+"&"}else if(t.paraminput)o+=t.paramtitle+"="+a[t.paraminput]+"&";else{var i=t.paramconst;"_checked_"===i&&(i=JSON.stringify(r||[])),o+=(t.paramtitle?t.paramtitle+"=":"")+i+"&"}})),o=o.substring(0,o.length-1)}var z=function(e,t,n,a,r){var o="";o=t.isforevery?M(e,t,n,a):L(e,t,n,a),r.push(t.act+o)},R=function(){return function(e,t,n){if(Array.isArray(t))return t.length>0?t.map((function(t,n){return t.childs&&t.childs>0?o.a.createElement(A,{key:t.id||n+"user",title:o.a.createElement("span",null,o.a.createElement(d.a,{type:t.icon}),o.a.createElement("span",null,t.istitle?t.title:null),t.ws?o.a.createElement("b",{style:{color:"blue"}}," "+t.notif_count):null)},e(e,t.items||[],t.childs>0)):o.a.createElement(y.a.Item,{key:t.id||n+"user"},o.a.createElement(l.b,{to:t.to,title:t.title},o.a.createElement(d.a,{type:t.icon}),o.a.createElement("span",null,t.istitle?t.title:null),t.ws?o.a.createElement("b",{style:{color:"blue"}}," "+t.notif_count):null))})):null}},U=Object(k.a)(Object(k.d)("custom_menu","changeMenu",[]),Object(k.d)("user_detail","changeUserDetail",{}),Object(k.d)("collapsed","changeCollapsed",!1),Object(k.c)({getMenu:function(e){var t=e.changeMenu,n=e.changeUserDetail;e.changeLoading;return function(){D("GET",{},"/api/menus",(function(e){t(e.outjson.menus),n(e.outjson.userdetail),localStorage.setItem("usersettings",JSON.stringify(e.outjson.userdetail.usersettings)),localStorage.setItem("homepage",e.outjson.homepage),localStorage.setItem("ischat",e.outjson.ischat),localStorage.setItem("redirect401",e.outjson.redirect401),localStorage.setItem("login_url",e.outjson.login_url)}),(function(e){console.log("err menus:",e)}))}},menu_creator:R,menuCollapseStateSave:function(e){var t=e.changeCollapsed;return function(e){var n=JSON.parse(localStorage.getItem("usersettings"))||{views:{}};n.menuCollapse=e,N(n),localStorage.setItem("usersettings",JSON.stringify(n)),t(e)}}}),Object(k.c)({handleGlobalWS:function(e){var t=e.getMenu;return function(){var e=document.location.href.split("//")[1];e="ws://"+(e=e.split("/")[0])+"/global_ws";var n=new WebSocket(e);n.onopen=function(){n.send(JSON.stringify({}))},n.onmessage=function(e){JSON.parse(e.data).forEach((function(e){j.a.success({message:e.message}),D("GET",{id:e.id},"/api/setsended")})),t()}}}}),Object(k.b)({componentDidMount:function(){var e=this.props,t=e.changeCollapsed,n=e.handleGlobalWS,a=e.getMenu,r=JSON.parse(localStorage.getItem("usersettings"));r&&void 0!==r.menuCollapse&&t(r.menuCollapse);var o=localStorage.getItem("sesid");o||(o=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),localStorage.setItem("sesid",o)),document.cookie="sesid="+o,localStorage.getItem("redirect401")||localStorage.setItem("redirect401","/login"),localStorage.getItem("login_url")||localStorage.setItem("login_url","/login"),a(),n()},UNSAFE_componentWillMount:function(){document.getElementsByTagName("body")[0].classList.remove("login_bckg")},componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=(t.set_first_id,t.location,t.handleChatWS);t.set_chat_id,t.handleGlobalWS;e.chatId!==n&&((void 0).close(),a())}}));var Y=Object(k.a)()((function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),document.title="Home",location.href=localStorage.getItem("homepage")||"/composition/home",o.a.createElement("div",null)})),K=a(4),H=a.n(K),J=a(612),B=a.n(J),G=a(1224),V=a(1222),W=a(1220),q=a(1233),X=a(1227),Q=a(1228),Z=a(1234),$=a(630),ee=a(1225),te=a(90),ne=a(1231),ae=a(1216),re=a(171),oe=a(632),le=a(1221),ie=a(94),ce=a(252),ue=a(1232),se=a(23),pe=a.n(se),fe=a(613);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=ye(t).call(this,e))||"object"!==me(r)&&"function"!=typeof r?ge(a):r).state={displayColorPicker:!1,color:e.currentColor},n.handleClick=n.handleClick.bind(ge(n)),n.handleClose=n.handleClose.bind(ge(n)),n.handleChange=n.handleChange.bind(ge(n)),n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,e),n=t,(a=[{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){this.setState({color:e.hex}),this.props.onChangeInput(e.hex,this.props.localConfig)}},{key:"render",value:function(){var e=this.props,t=(e.currentColor,e.onChangeInput,pe()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"".concat(this.state.color)},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}));return o.a.createElement("div",null,o.a.createElement("div",{style:t.swatch,onClick:this.handleClick},o.a.createElement("div",{style:t.color})),this.state.displayColorPicker?o.a.createElement("div",{style:t.popover},o.a.createElement("div",{style:t.cover,onClick:this.handleClose}),o.a.createElement(fe.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}])&&de(n.prototype,a),r&&de(n,r),t}(o.a.Component),ve=(a(1047),a(341)),Oe=a.n(ve),Ee=a(614),ke=a.n(Ee);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ve.Quill.register("modules/imageResize",ke.a);var Pe=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]],De=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=_e(t).call(this,e))||"object"!==je(r)&&"function"!=typeof r?Se(a):r).state={text:e.currentText},n.handleChange=n.handleChange.bind(Se(n)),n.modules={toolbar:Pe,imageResize:{}},n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,e),n=t,(a=[{key:"handleChange",value:function(e){this.setState({text:e}),this.props.onChangeInput(e,this.props.localConfig)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Oe.a,{value:this.state.text,onChange:this.handleChange,formats:this.formats,modules:this.modules}))}}])&&we(n.prototype,a),r&&we(n,r),t}(o.a.Component),Ie=a(1217),xe=a(1223),Te=a(1215),Ae=p.a.Header,Ne=xe.a.Title,Fe=Object(k.a)(Object(k.d)("menu","changeMenu",[]),Object(k.d)("usermenu","changeUsermenu",[]),Object(k.c)({menu_creator:R}))((function(e){var t=e.children,n=e.extra,a=e.title,r=e.subtitle,l=e.className;return o.a.createElement(Ae,{className:l||"",style:{background:"#fff",padding:0}},o.a.createElement(f.a,null,o.a.createElement(Te.a,{style:{margin:0}}),n||null,a?o.a.createElement(Ne,{level:4,style:{display:"inline-block",marginRight:"10px"}},a):null,r?o.a.createElement("span",{className:"ant-page-header-title-view-sub-title"},r):null,t||null))})),Me=a(259),Le=G.a.Panel,ze=Object(k.a)(Object(k.d)("indeterminate","changeInder",!0),Object(k.d)("apiData","changeApiData",{}),Object(k.c)({handlerColumnHider:function(e){e.basicConfig;var t=e.changeTS,n=e.path;return function(e,a){var r=JSON.parse(localStorage.getItem("usersettings"))||{},o={};if(r.views||(r.views={}),r.views[n]&&(o=r.views[n]),o.hide){var l=v.a.findIndex(o.hide,(function(e,t){return e===a.title}));-1!==l?o.hide.splice(l,1):o.hide.push(a.title)}else o.hide=[a.title];localStorage.setItem("usersettings",JSON.stringify(r)),r.views[n]=o,N(r),t(r.views)}},handlerFilters:function(e){var t=e.filters,n=e.changeFilters;return function(e,a){t[e]=a,n(t)}},handlerTriCheck:function(e){var t=e.filters,n=e.changeFilters,a=e.changeInder;return function(e,r){null==r&&(a(!1),t[e]=!0,n(t)),!0===r&&(t[e]=!1,n(t)),!1===r&&(a(!0),t[e]=null,n(t))}},handlerGetTable:function(e){e.listConfig,e.filters;var t=e.apiData,n=e.changeApiData;return function(e){D("GET",{},"/api/gettable?id="+e.id,(function(a){t[e.title]=a.outjson,n(t)}))}}}))((function(e){e.filter;var t=e.filters,n=e.allProps,a=e.getData,r=e.changeLoading,l=e.changeFilter,i=e.changeFilters,c=e.handlerFilters,u=e.handlerGetTable,s=e.handlerTriCheck,p=(e.handlerColumnHider,e.apiData),m=e.indeterminate,y=(e.listColumns,e.arr_hide,e.reduxUser,e.pagination),g=e.changePagination;return o.a.createElement("div",null,o.a.createElement(f.a,{key:"sawad2",gutter:4},o.a.createElement(G.a,{bordered:!1,defaultActiveKey:["up_filter"],expandIcon:function(e){var t=e.isActive;return o.a.createElement(d.a,{type:"caret-right",rotate:t?90:0})}},o.a.createElement(Le,{header:"",key:"up_filter"},n.filters&&Array.isArray(n.filters)&&n.filters.filter((function(e){return"2"==e.position})).length>0?n.filters.filter((function(e){return"2"==e.position})).map((function(e,n){return o.a.createElement(f.a,null,function(){switch(e.type){case"substr":return[o.a.createElement(ie.a,{key:"s44",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s33",span:24},o.a.createElement(I.a.Search,{placeholder:e.title||"...",value:t[e.column],size:"small",onKeyUp:function(e){13===e.keyCode&&(a(a),r(!0),l(!1))},onChange:function(t){return c(e.column,t.target.value)}}))];case"date_between":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement("input",{placeholder:e.title||"...",value:t[e.column],type:"date",className:"ant-input",onChange:function(t){return c(e.column,t.target.value)}}))];case"multijson":case"select":case"multiselect":var n;return n="multijson"===e.type||"multiselect"===e.type?t[e.column]||[]:t[e.column],[o.a.createElement(ie.a,{key:"s3",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s4",span:24},o.a.createElement(x.a,{labelInValue:"multijson"===e.type||"multiselect"===e.type,mode:"multijson"===e.type||"multiselect"===e.type?"multiple":"default",showSearch:!0,value:t[e.column],placeholder:e.title,style:{width:"100%"},onFocus:function(){return u(e)},onDeselect:function(a){"multijson"!==e.type&&"multiselect"!==e.type||(t[e.column]=n.filter((function(e){return e&&e.key!==a.key})),c(e.column,t[e.column]))},onSelect:function(n,a){"multijson"===e.type||"multiselect"===e.type?(n.value=n.key,Array.isArray(t[e.column])?t[e.column].push(n):t[e.column]=[n]):t[e.column]=n,c(e.column,t[e.column])}},p[e.title]&&Array.isArray(p[e.title])?p[e.title].map((function(e,t){return o.a.createElement(Option,{key:t,item:e,value:e.value},e.label)})):null))];case"typehead":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(I.a.Search,{placeholder:e.title||"...",value:t[e.title],onKeyUp:function(e){13===e.keyCode&&(a(a),r(!0),l(!1))},onChange:function(t){return c(e.title,t.target.value)}}))];case"period":var i=[];return t[e.column]&&(t[e.column].date1&&i.push(H()(t[e.column].date1,"YYYY-MM-DD"))),t[e.column]&&(t[e.column].date2&&i.push(H()(t[e.column].date2,"YYYY-MM-DD"))),[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(W.a.RangePicker,{value:i,format:"YYYY-MM-DD",onKeyUp:function(e){13===e.keyCode&&(a(a),r(!0),l(!1))},locale:Me.a,onChange:function(t,n){var a={date1:n[0],date2:n[1]};c(e.column,a)}}))];case"check":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(te.a,{placement:"topLeft",title:e.title||""},o.a.createElement(re.a,{checked:t[e.column]||null,indeterminate:m,onClick:function(){s(e.column,t[e.column])}},e.title)))];default:return o.a.createElement(ie.a,null,e.type)}}())})):null,o.a.createElement(f.a,{key:"sawad3",gutter:4},o.a.createElement(h.a,{type:"link",icon:"check",onClick:function(){y.pagenum=1,g(y),a(a),r(!0)}},"ok"),o.a.createElement(h.a,{type:"link",style:{color:"red"},icon:"close",onClick:function(){i(t={}),r(!0),y.pagenum=1,g(y),a(a,{})}},"clean"))))))})),Re=a(617),Ue=a.n(Re),Ye=a(618),Ke=a.n(Ye),He=a(104);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},We=Object(k.a)(Object(k.e)((function(e){var t=e.inState;return{options:(void 0===t?{options:[]}:t).options}}),{set_state:function(e){return function(t){var n=Be({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(k.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig;return function(e,r){D("POST",{data:t,inputs:r,config:a},e.select_api,(function(e){var t=_.sortBy(e.outjson,["value"]);n({options:t})}),(function(e){}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){var l;l=S.a.parse(n.search),r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],l[e.value.value]=n):l[e.col.value]=e.const})),D("POST",{inputs:l,config:r,id:o,substr:e},"/api/select",(function(e){var t=_.sortBy(e.outjson,["value"]);a({options:t})}),(function(e){})))}}}),Object(k.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(e?e.value:"",n)}}}),Object(k.b)({componentDidMount:function(){var e=this.props,t=e.config,n=e.data,a=e.onFocusApi,r=e.onFocus,o=e.inputs;"select_api"===t.type?a(t,o):r(null,n[t.key])},componentDidUpdate:function(e){var t=this.props;t.config,t.data,t.onFocusApi,t.onFocus,t.inputs}}))((function(e){var t=e.onChange,n=e.data,a=void 0===n?{}:n,r=e.inputs,l=e.config,i=e.options,c=void 0===i?[]:i,u=e.onFocus,s=e.onFocusApi,p=_.findIndex(c,(function(e){return e.value===a[l.key]}));return o.a.createElement(He.a,{styles:{menuPortal:function(e){return Be({},e,{zIndex:9999})},dropdownIndicator:function(e){return Be({},e,{padding:4})},clearIndicator:function(e){return Be({},e,{padding:4})},control:function(e){return Be({},e,{minHeight:0})},input:function(e){return Be({},e,{padding:0})},valueContainer:function(e){return Be({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return Be({},e,{color:"#cdbfc7"})}},menuPlacement:"auto",menuPortalTarget:document.body,placeholder:"Choose from thr list",isClearable:!0,isDisabled:l.read_only||!1,value:c[p]||"",options:c,onFocus:function(){"select_api"===l.type?s(l,r):u("")},onChange:t,onKeyDown:Ve})}));function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=Object(k.a)(Object(k.e)((function(e){var t=e.inState;return{options:(void 0===t?{options:[]}:t).options}}),{set_state:function(e){return function(t){var n=Xe({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(k.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig;return function(e,r){D("POST",{data:t,inputs:r,config:a},e.select_api,(function(e){var t=_.sortBy(e.outjson,["value"]);n({options:t})}),(function(e){}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){var l;l=S.a.parse(n.search),r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],l[e.value.value]=n):l[e.col.value]=e.const})),D("POST",{inputs:l,config:r,id:o,substr:e},"/api/select",(function(e){var t=_.sortBy(e.outjson,["value"]);a({options:t})}),(function(e){})))}}}),Object(k.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(e?e.value:"",n)}}}),Object(k.b)({componentDidMount:function(){var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"multiselect_api"===t.type?a(t,n[t.key]):r(null,n[t.key])}}))((function(e){e.onChange;var t=e.onChangeInput,n=e.data,a=void 0===n?{}:n,r=e.inputs,l=e.config,i=e.options,c=void 0===i?[]:i,u=e.onFocus,s=e.onFocusApi,p=[];a[l.key]&&(_.isArray(a[l.key])&&a[l.key].forEach((function(e){c.forEach((function(t){t.value===e&&p.push(t)}))})));return o.a.createElement(He.a,{styles:{menuPortal:function(e){return Xe({},e,{zIndex:9999})},dropdownIndicator:function(e){return Xe({},e,{padding:4})},clearIndicator:function(e){return Xe({},e,{padding:4})},control:function(e){return Xe({},e,{minHeight:0})},input:function(e){return Xe({},e,{padding:0})},valueContainer:function(e){return Xe({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return Xe({},e,{color:"#cdbfc7"})}},menuPortalTarget:document.body,menuPlacement:"auto",placeholder:"Choose from the list",isMulti:!0,isClearable:!0,isDisabled:l.read_only||!1,value:p,options:c,onKeyDown:function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},onFocus:function(){"multiselect_api"===l.type?s(l,r):u("")},onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n[1].action){case"select-option":a[l.key]?a[l.key].push(n[1].option.value):a[l.key]=[n[1].option.value];break;case"pop-value":case"remove-value":a[l.key]=_.filter(a[l.key],(function(e){return e!==n[1].removedValue.value}));break;case"clear":a[l.key]=[]}t(a[l.key],l)}})})),$e=a(175),et=a(33),tt=a(251);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot={},lt=function(e){return e.selectProps.loading?o.a.createElement(et.z.NoOptionsMessage,e,o.a.createElement(ce.a,{tip:"..."})):o.a.createElement(et.z.NoOptionsMessage,e,o.a.createElement($e.a,null))},it=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},ct=Object(k.a)(Object(k.e)((function(e){var t=e.inState,n=void 0===t?{options:{},loading:!1,status:!1}:t;return{options:n.options,loading:n.loading,status:n.starus}}),{set_state:function(e){return function(t){var n=at({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(k.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig,r=e.name,o=e.config;return function(e,l,i){return n({loading:!0}),ot[r]&&clearTimeout(ot[r]),new Promise((function(n,c){ot[r]=setTimeout((function(){D("POST",{data:t,inputs:i,config:a},o.select_api+"?substr="+(l||e),(function(e){var t=_.sortBy(e.outjson,["value"]);n(t)}),(function(e){}))}),e?2e3:1)})).then((function(t){if(e)return n({loading:!1,options:t}),t;n({options:t,loading:!1,status:!0})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){return new Promise((function(a,l){ot[name]=setTimeout((function(){var l=S.a.parse(n.search);r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],l[e.value.value]=n):l[e.col.value]=e.const})),D("POST",{inputs:l,config:r,val:e,id:o,ismulti:null},"/api/select",(function(e){var t=_.sortBy(e.outjson,["value"]);a(t)}),(function(e){})))}),e?1e3:1)})).then((function(t){if(e)return a({options:t}),t;a({options:t,status:!0})}))}}}),Object(k.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(null===e?"":e.value,n)}}}),Object(k.b)({componentDidMount:function(){var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"typehead_api"===t.type?a(null,n[t.key]):r(null,n[t.key])},componentDidUpdate:function(e){var t=this.props,n=t.config,a=(t.options,t.data),r=t.onFocusApi,o=t.onFocus;a!==e.data&&a[n.key]!==e.data[n.key]&&("typehead_api"===n.type?r(null,a[n.key]):o(null,a[n.key]))}}))((function(e){e.name;var t=e.onChange,n=e.onFocusApi,a=e.onFocus,r=e.data,l=e.inputs,i=e.config,c=e.options,u=void 0===c?[]:c,s=e.loading,p=e.status,f=_.findIndex(u,(function(e){return e.value===r[i.key]}));return p||null===r[i.key]?o.a.createElement(tt.a,{styles:{menuPortal:function(e){return at({},e,{zIndex:9999})},dropdownIndicator:function(e){return at({},e,{padding:4})},clearIndicator:function(e){return at({},e,{padding:4})},control:function(e){return at({},e,{minHeight:0})},input:function(e){return at({},e,{padding:0})},valueContainer:function(e){return at({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return at({},e,{color:"#cdbfc7"})}},menuPlacement:"auto",menuPortalTarget:document.body,loading:s,components:{NoOptionsMessage:lt,LoadingMessage:function(){return o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(ce.a,{tip:"Загрузка данных"}))}},isClearable:!0,placeholder:"Введите для поиска",cacheOptions:!0,isDisabled:i.read_only||!1,value:u[f]||null,defaultOptions:u,loadOptions:function(e){return"typehead_api"===i.type?n(e):a(e)},onFocus:function(){"typehead_api"===i.type?n(null,r[i.key],l):a(null,r[i.key])},onChange:t,onKeyDown:it}):o.a.createElement(ce.a,null)}));function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft={},mt=function(e){return e.selectProps.loading?o.a.createElement(et.z.NoOptionsMessage,e,o.a.createElement(ce.a,{tip:"..."})):o.a.createElement(et.z.NoOptionsMessage,e,o.a.createElement($e.a,null))},dt=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},yt=Object(k.a)(Object(k.e)((function(e){var t=e.inState,n=void 0===t?{options:[],loading:!1,status:!1}:t;return{options:n.options,loading:n.loading,status:n.status}}),{set_state:function(e){return function(t){var n=st({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(k.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig,r=e.config,o=e.name;return function(e,l,i){return n({loading:!0}),ft[o]&&clearTimeout(ft[o]),new Promise((function(n,c){ft[o]=setTimeout((function(){D("POST",{data:t,inputs:i,config:a,val:e,id:l,ismulti:!0,substr:l||e},r.select_api,(function(e){var t=_.sortBy(e.outjson,["value"]);n(t)}),(function(e){}))}),e?2e3:1)})).then((function(t){if(console.log("resSS",t),e)return n({loading:!1,options:t,status:!0}),t;n({options:t,loading:!1,status:!0})})).catch((function(e){return n({loading:!1,status:!0})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=new Promise((function(a,i){ft[name]=setTimeout((function(){var i=S.a.parse(n.search);r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),"multitypehead"===r.type&&null===l&&(l=!0,o=null),D("POST",{inputs:i,config:r,val:e,id:o,ismulti:!0},"/api/select",(function(e){var t=_.sortBy(e.outjson,["value"]);a(t)}),(function(e){})))}),e?1e3:1)}));return i.then((function(t){if(e)return t;a({options:t,status:!0})}))}}}),Object(k.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(null===e?"":e.value,n)}}}),Object(k.b)({componentDidMount:function(){console.log("herecdm");var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"multitypehead_api"===t.type?a(null,n[t.key]):r(null,n[t.key])}}))((function(e){e.name,e.onChange;var t,n=e.onFocusApi,a=e.onFocus,r=e.data,l=e.inputs,i=e.config,c=e.options,u=void 0===c?[]:c,s=e.loading,p=e.status,f=e.onChangeInput;return t=function(e,t){var n=[];return e&&(_.isArray(e)&&e.forEach((function(e){t.forEach((function(t){t.value===e&&n.push(t)}))}))),n}(r[i.key],u),p||null===r[i.key]?o.a.createElement(tt.a,{styles:{menuPortal:function(e){return st({},e,{zIndex:9999})},dropdownIndicator:function(e){return st({},e,{padding:4})},clearIndicator:function(e){return st({},e,{padding:4})},control:function(e){return st({},e,{minHeight:0})},input:function(e){return st({},e,{padding:0})},valueContainer:function(e){return st({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return st({},e,{color:"#cdbfc7"})}},isMulti:!0,menuPlacement:"auto",menuPortalTarget:document.body,loading:s,components:{NoOptionsMessage:mt,LoadingMessage:function(){return o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(ce.a,{tip:"..."}))}},isClearable:!0,placeholder:"Введите для поиска",cacheOptions:!0,isDisabled:i.read_only||!1,value:t,defaultOptions:u,onKeyDown:dt,loadOptions:function(e){return"multitypehead_api"===i.type?n(e):a(e,r[i.key])},onFocus:function(){"multitypehead_api"===i.type?n(null,r[i.key],l):a(null,r[i.key])},onChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];switch(t[1].action){case"select-option":r[i.key]?r[i.key].push(t[1].option.value):r[i.key]=[t[1].option.value];break;case"pop-value":case"remove-value":r[i.key]=_.filter(r[i.key],(function(e){return e!==t[1].removedValue.value}));break;case"clear":r[i.key]=[]}f(r[i.key],i)}}):o.a.createElement(ce.a,null)})),gt=function(t,n,a,r,l,i,c,u,s,p,f){var m=[];return t.forEach((function(y,g){if("__checker__"==y.key&&m.push({dataField:y.key,text:y.title,title:y.title,editable:!1,headerFormatter:function(){return o.a.createElement("input",{onChange:function(e){var a=t.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key,r=[];e.target.checked&&n.forEach((function(e){r.push(e[a])})),u(r)},type:"checkbox"})}}),y.visible&&0===r.filter((function(e){return e===y.title})).length&&"__checker__"!==y.key){var h=y.classname+" "+(y.editable?"editable":"");m.push({dataField:y.key,text:y.title,title:function(){return y.title},events:{onDoubleClick:function(e,r,o,c,u){var s=_.find(a,(function(e){return!0===e.ismain&&F(n[u],e.act_visible_condition,l.inputs)}));if(s)switch(s.type){case"Link":z(n[u],s,t,l.inputs,i)}}},headerTitle:!0,editable:y.editable,style:{maxWidth:y.width,minWidth:y.width},searchable:!0,headerStyle:{width:y.width,maxWidth:y.width,minWidth:y.width},classes:"__actions__"===y.col?"tab_actions":h,headerClasses:"__actions__"===y.col?"tab_actions ant-table-header-column ant-table-column-has-actions":"ant-table-header-column ant-table-column-has-actions",sort:c,sortCaret:function(e,t){return e?"asc"===e?o.a.createElement("span",{style:{fontSize:9}},o.a.createElement(d.a,{style:{color:"red"},type:"caret-up"}),o.a.createElement(d.a,{type:"caret-down"})):"desc"===e?o.a.createElement("span",{style:{fontSize:9}},o.a.createElement(d.a,{type:"caret-up"}),o.a.createElement(d.a,{style:{color:"red"},type:"caret-down"})):null:o.a.createElement("span",{style:{fontSize:9}},o.a.createElement(d.a,{type:"caret-up"}),o.a.createElement(d.a,{type:"caret-down"}))},onSort:function(e,t){var n=l.inputs,a="";"desc"===t&&(a=t);var r=[{col:y.col,desc:a,fn:y.fn,fncols:y.fncolumns,related:y.related,t:y.t}];n.orderby=r,l.inputs=n,s({params:l},f(f))},editorRenderer:function(a,r,i,c,u,f){var m=n[u],d=m[c.dataField];switch(y.type){case"text":case"number":case"password":return o.a.createElement(I.a,{type:y.type,value:d,onChange:function(e){n[u][c.dataField]=e.target.value,s({listData:n})},onBlur:function(e){return p(e.target.value,y,u)}});case"checkbox":return o.a.createElement(I.a,{type:y.type,checked:d,onChange:function(e){n[u][c.dataField]=e.target.checked,p(e.target.checked,y,u),s({listData:n})}});case"date":return o.a.createElement(W.a,{value:d?K(d,"DD.MM.YYYY"):null,onChange:function(e,t){n[u][c.dataField]=t,p(t,y,u),s({listData:n})},format:"DD.MM.YYYY"});case"datetime":return o.a.createElement(W.a,{value:d?K(d,"DD.MM.YYYY HH:mm"):null,onChange:function(t,a){n[u][c.dataField]=e,p(a,y,u),s({listData:n})},locale:locale,format:"DD.MM.YYYY HH:mm"});case"select":case"select_api":return o.a.createElement(We,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:y,data:m,inputs:l.inputs,onChangeInput:function(e){n[u][c.dataField]=e,s({listData:n}),p(e,y,u)},location:location,globalConfig:t});case"multiselect":case"multiselect_api":return o.a.createElement(Ze,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:y,data:m,inputs:l.inputs,onChangeInput:function(e){n[u][c.dataField]=e,p(e,y,u),s({listData:n})},location:location,globalConfig:t});case"typehead":case"typehead_api":return o.a.createElement(ct,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:y,data:m,inputs:l.inputs,onChangeInput:function(e){n[u][c.dataField]=e,p(e,y,u),s({listData:n})},location:location,globalConfig:t});case"multitypehead":case"multitypehead_api":return o.a.createElement(yt,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:y,data:m,inputs:l.inputs,onChangeInput:function(e){n[u][c.dataField]=e,p(e,y,u),s({listData:n})},location:location,globalConfig:t});default:return o.a.createElement("input",{value:d,onChange:function(e){n[u][c.dataField]=e.target.value,s({listData:n})},onBlur:function(e){return p(e.target.value,y,u)}})}}})}})),m};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=Object(k.a)(Object(k.e)((function(e){var t=e.inState;return{modal_open:(void 0===t?{modal_open:!1}:t).modal_open}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}))((function(e){var t=e.files,n=void 0===t?[]:t,a=e.modal_open,r=e.set_state;return _.isEmpty(n)?null:[o.a.createElement("img",{key:"s1",width:150,src:s._url+n[0].uri,onClick:function(){n[0].href?window.location.replace(n[0].href):r({modal_open:!0})}}),o.a.createElement(ee.a,{key:"s2",width:400,title:"Show",visible:a,onCancel:function(){return r({modal_open:!1})},footer:null},o.a.createElement(ae.a,{dotPosition:"top"},n.map((function(e){return o.a.createElement("div",{key:JSON.stringify(e)},o.a.createElement("img",{key:"s1",width:350,src:s._url+e.uri}))}))))]}));function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Et=G.a.Panel,kt=a(255),jt=a(1226),wt=Object(k.a)(Object(k.d)("indeterminate","changeInder",!0),Object(k.d)("apiData","changeApiData",{}),Object(k.c)({handlerColumnHider:function(e){e.basicConfig;var t=e.changeTS,n=e.path;return function(e,a){var r=JSON.parse(localStorage.getItem("usersettings"))||{},o={};if(r.views||(r.views={}),r.views[n]&&(o=r.views[n]),o.hide){var l=v.a.findIndex(o.hide,(function(e,t){return e===a.title}));-1!==l?o.hide.splice(l,1):o.hide.push(a.title)}else o.hide=[a.title];localStorage.setItem("usersettings",JSON.stringify(r)),r.views[n]=o,N(r),t(r.views)}},handlerFilters:function(e){var t=e.filters,n=e.changeFilters;return function(e,a){t[e]=a,n(t)}},handlerTriCheck:function(e){var t=e.filters,n=e.changeFilters,a=e.changeInder;return function(e,r){null==r&&(a(!1),t[e]=!0,n(t)),!0===r&&(t[e]=!1,n(t)),!1===r&&(a(!0),t[e]=null,n(t))}},handlerGetTable:function(e){e.listConfig,e.filters;var t=e.apiData,n=e.changeApiData;return function(e){D("GET",{},"/api/gettable?id="+e.id,(function(a){t[e.title]=a.outjson,n(t)}))}}}))((function(e){var t=e.filter,n=e.filters,a=e.allProps,r=e.getData,l=e.changeLoading,i=e.changeFilter,c=e.changeFilters,u=e.handlerFilters,s=e.handlerGetTable,p=e.handlerTriCheck,m=e.handlerColumnHider,d=e.apiData,y=e.indeterminate,g=e.listColumns,b=e.arr_hide,O=(e.reduxUser,e.pagination),E=e.changePagination;return o.a.createElement(jt.a,{visible:t,width:450,closable:!1,onClose:function(){return i(!t)},maskStyle:{backgroundColor:"rgba(0,0,0, 0.12)"}},o.a.createElement(f.a,{key:"sawad1",gutter:4},a.filters&&Array.isArray(a.filters)&&a.filters.filter((function(e){return 1===e.position})).length>0?a.filters.filter((function(e){return 1===e.position})).map((function(e,t){return o.a.createElement(ie.a,{key:t+"s",span:parseInt(e.width)||24},function(){switch(e.type){case"substr":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(I.a,{placeholder:e.title||"...",value:n[e.column],onKeyUp:function(e){13===e.keyCode&&(r(r),l(!0),i(!1))},onChange:function(t){return u(e.column,t.target.value)}}))];case"date_between":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement("input",{placeholder:e.title||"...",value:n[e.column],type:"date",className:"ant-input",onChange:function(t){return u(e.column,t.target.value)}}))];case"multijson":case"select":case"multiselect":var t;return t="multijson"===e.type||"multiselect"===e.type?n[e.column]||[]:n[e.column],[o.a.createElement(ie.a,{key:"s3",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s4",span:24},o.a.createElement(x.a,{labelInValue:"multijson"===e.type||"multiselect"===e.type,mode:"multijson"===e.type||"multiselect"===e.type?"multiple":"default",showSearch:!0,value:n[e.column],placeholder:e.title,style:{width:"100%"},onFocus:function(){return s(e)},onDeselect:function(a){"multijson"!==e.type&&"multiselect"!==e.type||(n[e.column]=t.filter((function(e){return e&&e.key!==a.key})),u(e.column,n[e.column]))},onSelect:function(t,a){"multijson"===e.type||"multiselect"===e.type?(t.value=t.key,Array.isArray(n[e.column])?n[e.column].push(t):n[e.column]=[t]):n[e.column]=t,u(e.column,n[e.column])}},d[e.title]&&Array.isArray(d[e.title])?d[e.title].map((function(e,t){return o.a.createElement(Option,{key:t,item:e,value:e.value},e.label)})):null))];case"typehead":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(I.a,{placeholder:e.title||"...",value:n[e.title],onKeyUp:function(e){13===e.keyCode&&(r(r),l(!0),i(!1))},onChange:function(t){return u(e.title,t.target.value)}}))];case"period":var a=[];return n[e.column]&&(n[e.column].date1&&a.push(H()(n[e.column].date1,"YYYY-MM-DD"))),n[e.column]&&(n[e.column].date2&&a.push(H()(n[e.column].date2,"YYYY-MM-DD"))),[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(W.a.RangePicker,{value:a,format:"YYYY-MM-DD",onKeyUp:function(e){13===e.keyCode&&(r(r),l(!0),i(!1))},locale:Me.a,onChange:function(t,n){var a={date1:n[0],date2:n[1]};u(e.column,a)}}))];case"check":return[o.a.createElement(ie.a,{key:"s1",span:24},o.a.createElement("label",null,e.title)),o.a.createElement(ie.a,{key:"s2",span:24},o.a.createElement(te.a,{placement:"topLeft",title:e.title||""},o.a.createElement(re.a,{checked:n[e.column]||null,indeterminate:y,onClick:function(){p(e.column,n[e.column])}},e.title)))];default:return o.a.createElement(ie.a,null,e.type)}}())})):null),o.a.createElement(Te.a,{key:"sawad2",style:{margin:"15px 0 0 0"}}),o.a.createElement(f.a,{key:"sawad3",gutter:4},o.a.createElement(h.a,{type:"link",icon:"check",onClick:function(){O.pagenum=1,E(O),r(r),l(!0)}},"ok"),o.a.createElement(h.a,{type:"link",icon:"delete",onClick:function(){c(n={}),l(!0),O.pagenum=1,E(O),r(r,{})}},"clean"),o.a.createElement(h.a,{type:"link",icon:"close",style:{color:"#ef1010"},onClick:function(){return i(!1)}},"close")),o.a.createElement(f.a,{key:"sawad5",gutter:4},o.a.createElement("br",null),o.a.createElement(ne.a,{size:"small",header:o.a.createElement("div",null,"SHOW/HIDE COLUMNS"),bordered:!0,dataSource:g,renderItem:function(e){return o.a.createElement(ne.a.Item,null,o.a.createElement(re.a,{checked:-1===v.a.findIndex(b,(function(t){return t===e.title})),onChange:function(t){return m(t,e)}},e.title))}})))}));function _t(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=[],It=Object(k.a)(Object(k.e)((function(e){var t=e.inState,n=void 0===t?{type_list:{},filter:!1,popup:{visible:!1,x:0,y:0},expandState:[],collapseAll:!1,localChangeCollapse:!1,localActiveKey:[]}:t;return{type_list:n.type_list,filter:n.filter,popup:n.popup,expandState:n.expandState,collapseAll:n.collapseAll,localChangeCollapse:n.localChangeCollapse,localActiveKey:n.localActiveKey}}),{set_state:function(e){return function(t){var n=Ct({},e);return v.a.keys(t).map((function(e){n[e]=t[e]})),n}},changeFilter:function(e){return function(t){return Ct({},e,{filter:t})}},changePopup:function(e){return function(t){return Ct({},e,{popup:t})}}}),Object(k.d)("loading","changeLoading",!1),Object(k.d)("listData","changeListData",[]),Object(k.d)("listColumns","changeListColumns",[]),Object(k.d)("listConfig","changeListConfig",[]),Object(k.d)("listActions","changeListActions",[]),Object(k.d)("pagination","changePagination",{pagenum:1,pagesize:20,foundcount:0}),Object(k.d)("basicConfig","changeBasicConfig",{}),Object(k.d)("print","changePrint",!1),Object(k.d)("filters","changeFilters",{}),Object(k.d)("isorderby","changeIsOrderBy",!1),Object(k.d)("params","changeParams",{inputs:{}}),Object(k.d)("ready","changeReady",!1),Object(k.d)("readyTable","changeReadyTable",!1),Object(k.d)("allProps","changeAllProps",{}),Object(k.d)("filterBlock","changeFilterBlock",!1),Object(k.d)("checked","changeChecked",[]),Object(k.d)("ts","changeTS",{}),Object(k.c)({get_params:function(e){return function(t){var n={},a=t||e;return e.compo?(n.inputs=S.a.parse(a.location.search),n.search=a.location.search,n.path=a.path,n.id_page=a.path):(n.inputs=S.a.parse(a.location.search),n.search=a.location.search,n.path=a.match,n.id_page=a.match.params.id_page),Ct({},n)}}}),Object(k.c)({getData:function(e){var t=e.pagination,n=e.print,a=e.filters,r=e.location,o=(e.history,e.basicConfig),l=e.changeBasicConfig,i=(e.get_params,e.set_state),c=e.changeListConfig,u=e.changeLoading,s=e.params,p=e.changeListData,f=e.changeListColumns,m=e.changePagination,d=e.compo,y=e.path,g=e.match,h=e.changeReadyTable,b=e.changeReady,v=e.changeAllProps,O=e.changeListActions,E=e.changeIsOrderBy;e.expand,e.changeTS;return function(e,k){u(!0);var w=Ct({},o),_=((JSON.parse(localStorage.getItem("usersettings"))||{views:{}}).views||{})[r.pathname]||{};_&&_.pagesize&&(t.pagesize=_.pagesize);new Promise((function(r,o){var h=d?y:g.params.id;D("POST",{pagination:t,print:n,filters:k||a,inputs:s.inputs},"/schema/list?path="+h,(function(n){if(n={data:n},d||s.inputs._doctitle_?s.inputs._doctitle_&&(document.title=s.inputs._doctitle_):document.title=n.data.title,t.foundcount=n.data.foundcount,n.data.subscrible){var a=document.location.href.split("//")[1];a="ws://"+(a=a.split("/")[0])+"/ws";var o=new WebSocket(a);Dt.push(o),o.onopen=function(){var e=(n.data.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.related}))[0]||{}).key,t=[];n.data.data.forEach((function(n){return t.push(n[e])})),o.send(JSON.stringify({viewpath:h,ids:t}))},o.onclose=function(e){e.wasClean?console.log("clear closed (list)"):console.log("ws message close failed")},o.onmessage=function(t){var n=JSON.parse(t.data);n.error?console.log("ws message send error"):n.forEach((function(t){j.a.success({message:t.notificationtext}),D("POST",{id:t.id},"/api/setsended"),e(e)}))},o.onerror=function(e){console.log("ws message send error")}}if(Array.isArray(n.data.config)){var y=[];n.data.config.forEach((function(e,t){var n=Ct({},e),a={title:n.title,onHeaderCell:function(e){return{onClick:function(){!1===e.sortOrder&&(e.sortOrder="ascend",b(!0))}}},dataIndex:n.key,sorter:n.sorter,sortOrder:n.sortOrder,width:n.width?100:n.width};0===t&&(a.key="key"),n.visible&&y.push(a)})),f(y)}var g=n.data.data.map((function(e){return e.key=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),e}));i({origin:Ct({},n.data)}),n.data.acts.filter((function(e){return e.isforevery&&"Expand"!==e.type&&"onLoad"!==e.type})).length>0&&n.data.config.push({col:"__actions__",title:"➥",key:"__actions__",visible:!0,editable:!1}),n.data.pagination&&n.data.config.unshift({col:"rownum",title:"#",key:"rownum",visible:!0,editable:!1}),n.data.checker&&n.data.config.unshift({col:"checker",title:"",key:"__checker__",visible:!0,editable:!1}),p(g),O(n.data.acts),c(n.data.config),m(t),E(n.data.isorderby),w.table=n.data.table,w.viewid=n.data.viewid,l(w),v(n.data),u(!1),r()}),(function(e){}))})).then((function(){b(!0),h(!0)}))}}}),Object(k.c)({handlerPaginationPage:function(e){var t=e.getData,n=e.changeReadyTable,a=e.pagination,r=e.changePagination,o=e.location;return function(e,l){a.pagenum=e,a.pagesize=l;var i=JSON.parse(localStorage.getItem("usersettings"))||{views:{}};i.views&&i.views[o.pathname]?i.views[o.pathname].pagesize=l:i.views&&!i.views[o.pathname]&&(i.views[o.pathname]={pagesize:l}),N(i),localStorage.setItem("usersettings",JSON.stringify(i)),n(!1),r(a),t(t)}},handleTableChange:function(e){var t=e.changeReady,n=e.getData,a=e.params,r=e.changeParams,o=e.allProps;return function(e,l,i){t(!1);var c=o.config.filter((function(e){return e.title===i.field}))[0],u=a.inputs,s=[];i.order&&("descend"===i.order?s.push({col:c.col,t:c.t,related:c.related||0,desc:"desc",over:!0,fn:c.fn,fncols:c.fncolumns}):s.push({col:c.col,t:c.t,related:c.related||0,desc:"",fn:c.fn,fncols:c.fncolumns})),u.orderby=s,r(Ct({},a)),n(n)}}}),Object(k.c)({onSaveRow:function(e){var t=e.getData,n=(e.onChangeData,e.set_state,e.listData),a=e.origin,r=(e.global,e.history),o=e.compo;return function(e,l,i){var c=v.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key,u=n[i],s={};new Promise((function(t,n){s.tablename=a.table,u[c]&&(s.id=u[c]),s.config=Ct({},l),s.value=e,s.viewid=a.viewid,l.related?(s.relatetable=s.tablename,s.tablename=l.table):s.tablename=a.table,t(s)})).then((function(e){D("POST",e,"/api/saverow",(function(e){e.outjson;if(t(t),j.a.success({message:"Сохранено"}),l.updatable&&o){var n="___hashhhh___=0.11";n=-1===location.search.indexOf("?")?"?"+n:"&"+n,r.push(location.pathname+location.search+n+location.hash)}}))})).catch((function(e){e&&(console.log("Unknown error:",e),j.a.error({message:"Error",description:e.response?e.response.data.message:"Unknown error"}))}))}}}),Object(k.c)({onChangeInput:function(e){var t=e.onSaveRow;return function(e,n,a){var r=e&&e.target?e.target.value:e;t(r,n,a)}},onChangeCollapse:function(e){var t=e.set_state;return function(e){t({localChangeCollapse:!0,localActiveKey:e})}}}),Object(k.b)({componentWillMount:function(){var e=this.props,t=e.pagination,n=e.location,a=e.params,r=e.match,o=e.search,l=e.path,i=e.compo,c=e.getData,u=e.changeParams,s=e.set_state;i?(a.path=l,a.inputs=S.a.parse(n.search),a.search=o,t.pagenum=1):(a.inputs=S.a.parse(n.search),a.search=n.search,a.path=r.params.match),s({type_list:n.pathname.split("/")[1]}),u(Ct({},a,{},t)),c(c)},componentWillUnmount:function(){Dt.forEach((function(e){return e.close()}))},componentDidUpdate:function(e){var t=this.props,n=t.btnCollapseAll,a=t.set_state;e.btnCollapseAll!==n&&a({localChangeCollapse:!1,collapseAll:n})},componentWillUpdate:function(e){var t=this.props,n=(t.match,t.getData),a=t.changeListColumns,r=t.changeReady,o=t.set_state,l=(t.filters,t.changeFilters),i=(t.path,t.compo),c=t.params,u=t.changeParams,s=t.pagination;if(e)if(i)c.path===e.params.path&&this.props.location.search===e.location.search||(c.inputs=S.a.parse(e.location.search),c.search=e.location.search,c.path=this.props.path,s.pagenum=1,r(!1),a({}),l({}),u(Ct({},c,{},s)),n(n,{}));else{if(this.props.match.params.id!==e.match.params.id)r(!1),s.pagenum=1,c.inputs=S.a.parse(e.location.search),a({}),l({}),n(n,{}),o({type_list:e.location.pathname.split("/")[1]})}}}));var xt=p.a.Content,Tt=G.a.Panel,At=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),Nt=It((function(e){var t=e.origin,n=void 0===t?{}:t,a=e.history,r=e.ready,l=e.allProps,i=e.getData,c=e.basicConfig,u=e.pagination,s=e.handlerPaginationPage,p=e.filters,m=e.filter,d=e.changeFilter,y=e.isorderby,g=e.listData,b=void 0===g?[]:g,O=e.listColumns,E=e.listActions,k=e.listConfig,j=e.params,w=e.changeFilters,_=e.compo,S=e.loading,C=e.changeLoading,P=(e.ts,e.type_list,e.handlerGetTable),D=e.changeTS,I=e.set_state,x=e.location,T=e.get_params,A=e.onChangeInput,N=e.expandState,L=e.collapseAll,R=e.onChangeCollapse,U=e.localChangeCollapse,Y=e.localActiveKey,K=e.changePagination,H=e.changeChecked,J=e.checked;if(r){var B=function(){return o.a.createElement(o.a.Fragment,null,_?o.a.createElement(Ft,{key:"sd1",actions:n.acts,origin:n,data:b,params:j,history:a,location:x,getData:i,checked:J,setLoading:C}):null,W,o.a.createElement("div",{key:"sd2",className:"size_table"},o.a.createElement(ce.a,{spinning:S,tip:"loading..."},"tiles"===n.viewtype?o.a.createElement("div",{className:l.classname&&""!==l.classname?l.classname:"fr_tiles"},(r?q:[]).map((function(e,t){return o.a.createElement(ue.a,{key:"tile_"+t,className:"tiles_el"},o.a.createElement(ie.a,null,k.filter((function(e){return"rownum"!==e.key})).map((function(n,r){return!0===n.visible?o.a.createElement("div",null," ","__actions__"!==n.key?o.a.createElement(ie.a,{span:n.width||12,key:"lfa_"+r,className:n.classname,style:{borderBottom:"1px dashed #ececec"},onDoubleClick:function(){var n=v.a.find(E,(function(t){return!0===t.ismain&&F(e,t.act_visible_condition,j.inputs)}));if(n)switch(n.type){case"Link":z(b[t],n,k,j.inputs,a)}}},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("b",null,n.title+": ")),o.a.createElement("div",null,e[n.key]))):o.a.createElement(ie.a,{span:24,key:"lfa_"+r,style:{borderBottom:"1px dashed #ececec"}},o.a.createElement("div",{className:"tiles_actions"},e[n.key]))):null}))))}))):o.a.createElement(o.a.Fragment,{key:At},o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Ue.a,{classes:l.classname&&""!==l.classname?l.classname:"tabtab list_table",keyField:"id",data:q,columns:X,expandRow:!!n.acts.filter((function(e){return"Expand"===e.type}))[0]&&Q,noDataIndication:function(){return o.a.createElement("label",{style:{color:"#c1bbbb"}},"...empty...")},cellEdit:Ke()({mode:"click",blurToSave:!0})}),o.a.createElement("label",{style:{fontSize:"9px"}},"count : ",l.foundcount))))))},V=(((JSON.parse(localStorage.getItem("usersettings"))||{views:{}}).views||{})[x.pathname]||{}).hide||[],W=function(e,t,n,a,r,l,i,c,u,s,p,m,d,y,g,b,v,O){return o.a.createElement(f.a,null,o.a.createElement(ie.a,{span:20},e.pagination?o.a.createElement(kt.a,{pageSizeOptions:["10","20","30","40","100"],current:c.pagenum,pageSize:c.pagesize,total:c.foundcount,showSizeChanger:e.ispagesize,size:"small",showTotal:s,onChange:p,onShowSizeChange:p}):null),o.a.createElement(ie.a,{span:4},o.a.createElement(h.a,{type:"dashed",style:{float:"right"},icon:"filter",onClick:function(){return y(!i)}}),o.a.createElement(wt,{getData:d,allProps:e,path:t.pathname,filter:i,changeFilter:y,filters:u,changeFilters:g,listConfig:n,listColumns:a,changeLoading:b,arr_hide:r,handlerGetTable:v,changeTS:O,basicConfig:l,pagination:c,changePagination:m})))}(l,x,k,O,V,c,m,u,p,(function(e){return l.isfoundcount?"count: ".concat(e):""}),s,K,i,d,w,C,P,D),q=function(e,t,n,a,r,l,i,c,u,s,p,f){var m=[];return e.forEach((function(e,d){var y={};Object.keys(e).forEach((function(n){var a=t.filter((function(e){return e.key===n}))[0],r=e[n],l=function(e,t){var n;return t.filter((function(e){return"colorrow"===e.type})).length>0&&(n=t.filter((function(e){return"colorrow"===e.type}))[0].key),e[n]};if(a&&a.visible)if("image"===a.type||"images"===a.type||"gallery"===a.type)y[n]=o.a.createElement(vt,{files:r||[]});else if("file"===a.type||"files"===a.type||"filelist"===a.type)y[n]=o.a.createElement("ul",null,(r||[]).map((function(e){return o.a.createElement("li",{key:e.uri},o.a.createElement("div",null,o.a.createElement("div",null,e.filename),o.a.createElement("div",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.uri},"download"))))})));else if("link"===a.type)y[n]=o.a.createElement("div",null,"object"!==Ot(r)?o.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"}," ",r):o.a.createElement("a",{href:(r||{link:""}).link,target:(r||{target:null}).target||"_blank",rel:"noopener noreferrer"},(r||{title:""}).title));else if("color"===a.type||"colorpicker"===a.type)y[n]=o.a.createElement("div",{style:{width:20,height:20,backgroundColor:r}});else if("select"===a.type||"typehead"===a.type)if(a.relation&&a.relationcolums&&a.relationcolums.length>0&&a.relationcolums.filter((function(e){return"id"!==e.value})).length>0&&a.relationcolums.filter((function(e){return"id"!==e.value}))[0].value){var i=a.relationcolums.filter((function(e){return"id"!==e.value}))[0].value,c=(t.filter((function(e){return e.col===i&&e.table===a.relation}))[0]||{}).key;r=e[c],y[n]=o.a.createElement("div",{style:{color:l(e,t)}},null!=r?"object"===Ot(r)?o.a.createElement("span",null,JSON.stringify(r)):r.toString().split("\n").map((function(e,t){return o.a.createElement("span",{key:t},e,o.a.createElement("br",null))})):"")}else y[n]=o.a.createElement("div",{style:{color:l(e,t)}},null!=r?"object"===Ot(r)?o.a.createElement("span",null,JSON.stringify(r)):r.toString().split("\n").map((function(e,t){return o.a.createElement("span",{key:t},e,o.a.createElement("br",null))})):"");else"array"===a.type?y[n]=o.a.createElement("div",null,r.length>0?o.a.createElement(G.a,{defaultActiveKey:["1"]},o.a.createElement(Et,{header:a.title,key:"1"},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,Object.keys(r[0]||{}).map((function(e){return o.a.createElement("th",{key:e},e)})))),o.a.createElement("tbody",null,r.map((function(e){return o.a.createElement("tr",{key:JSON.stringify(e)},Object.keys(e).map((function(t){return o.a.createElement("td",{key:t},e[t])})))})))))):o.a.createElement("div",null)):"checkbox"===a.type?y[n]=o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",disabled:!0,checked:r})):"innerHtml"===a.type?y[n]=o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}})):y[n]=o.a.createElement("div",{style:{color:l(e,t)}},null!=r?"object"===Ot(r)?o.a.createElement("span",null,JSON.stringify(r)):r.toString().split("\n").map((function(e,t){return o.a.createElement("span",{key:t}," ",e,o.a.createElement("br",null))})):"")}));var g=s();y.__actions__=o.a.createElement(Ft,{actions:n||[],origin:r||{},data:e||{},params:g,history:l,location:i,getData:function(){return u(u,a)},type:"table",checked:c,setLoading:f}),y.id=d;y.__checker__=o.a.createElement("div",null,o.a.createElement("input",{checked:function(e){var n=t.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key;return c.filter((function(t){return e[n]===t})).length>0}(e),onChange:function(n){var a=t.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key,r=e[a],o=c;n.target.checked?o.push(r):o=o.filter((function(e){return e!==r})),p(o)},type:"checkbox"})),m.push(y)})),m}(b,k,E,p,n,a,x,J,i,T,H,C),X=gt(k,b,E,V,j,a,y,H,I,A,i),Q=function(e,t,n,a,r,l,i){return{renderer:function(l,i){var c=r.acts.filter((function(n){return"Expand"===n.type&&F(e[i],n.act_visible_condition,t.inputs)}))[0],u={};if(c){u={search:M(e[i],c,n,a),pathname:c.act};var s=c.act.split("/")[1];switch(s){case"list":return o.a.createElement("div",null,o.a.createElement(Nt,{compo:!0,location:u,history:a,path:c.act.split("/")[2],id_page:c.act.split("/")[2]}));case"getone":return o.a.createElement("div",null,o.a.createElement(sn,{compo:!0,location:u,history:a,path:c.act.split("/")[2],id_page:c.act.split("/")[2]}));default:return function(){notification.open({message:"type ".concat(s," not correct  "),description:"use list or getone"})}}}},showExpandColumn:!0,expandByColumnOnly:!0,expanded:l,onExpand:function(e,t,n,a){if(r.acts.filter((function(e){return"Expand"===e.type}))[0]){var o=_t(l),c=e.id,u=o.findIndex((function(e){return e===c}));t?!o.includes(c)&&o.push(e.id):o.splice(u,1),i({expandState:o})}}}}(b,j,k,a,n,N,I);return o.a.createElement(G.a,{activeKey:U?Y:L?[]:["1"],onChange:R},o.a.createElement(Tt,{header:l.title.toUpperCase(),key:"1"},o.a.createElement(xt,{key:"s3",className:"f_content_app"},o.a.createElement("h3",null,j.inputs._sub_title),l.filters.filter((function(e){return 2===e.position})).length>0?o.a.createElement(ze,{getData:i,allProps:l,path:x.pathname,filter:m,changeFilter:d,filters:p,changeFilters:w,listConfig:k,listColumns:O,changeLoading:C,arr_hide:V,handlerGetTable:P,changeTS:D,basicConfig:c,pagination:u,changePagination:K}):null,_?null:o.a.createElement(Fe,{key:"s1",history:a,title:""},o.a.createElement(Ft,{actions:n.acts,origin:n,data:b,params:j,history:a,location:x,getData:i,checked:J,setLoading:C})),_?o.a.createElement("div",{className:"f_content_app"}," ",B()," "):o.a.createElement(ue.a,{key:"s2",size:"small",style:{margin:_?"":"10px"}},B()))),o.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n\t\t          .ant-collapse-content-box {padding:0 !important}\n\t\t          .tabtab { border-collapse: collapse; width: 100%;}\n\t\t        "}}))}return o.a.createElement(f.a,{style:{textAlign:"center",background:"rgba(0, 0, 0, 0.05)",borderRadius:"4px",marginBottom:"20px",padding:"150px 30px",margin:"20px 0"}}," ",o.a.createElement(ce.a,null)," ")})),Ft=Object(k.a)(Object(k.c)({}),Object(k.c)({goLink:function(e){var t=e.data,n=e.origin,a=e.location,r=e.history,o=e.checked;return function(e){var l="";l=e.isforevery?M(t,e,n.config,a?S.a.parse(a.search):{},o):L(t,e,n.config,a?S.a.parse(a.search):{},o),r.push(e.act+l)}},goLinkTo:function(e){var t=e.data,n=e.origin,a=e.location,r=(e.history,e.checked);return function(e){var o="";o=e.isforevery?M(t,e,n.config,a?S.a.parse(a.search):{},r):L(t,e,n.config,a?S.a.parse(a.search):{},r),window.open(e.act+o)}},onCallApi:function(e){var t=e.getData,n=e.origin,a=void 0===n?{}:n,r=e.data,o=e.location,l=e.params,i=e.checked,c=e.setLoading;return function(e){c(!0);var n=e.act;e.actapimethod&&"simple"!==e.actapimethod?c(!1):function(){var u={};"GET"===e.actapitype?n+=M(r,e,a.config,o?S.a.parse(o.search):null,i):u=function(e,t,n,a,r){var o={};return e.parametrs&&e.parametrs.map((function(e){if(!e.paramt||"simple"===e.paramt)if(e.paramcolumn)a&&a[0]&&(o[e.paramtitle]=a[0][(n.filter((function(t){return t.col===e.paramcolumn.label||t.title===e.paramcolumn.value}))[0]||{}).key]),!o[e.paramtitle]&&a&&(o[e.paramtitle]=a[(n.filter((function(t){return t.col===e.paramcolumn.label||t.title===e.paramcolumn.value}))[0]||{}).key]),o[e.paramtitle]||(o[e.paramtitle]=t[e.paramcolumn.value]);else if(e.paraminput)o[e.paramtitle]=t[e.paraminput];else{var l=e.paramconst;"_checked_"===l&&(l=JSON.stringify(r||[])),o[e.paramtitle]=l}})),o}(e,l.inputs,a.config,r,i);var s=a.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.related}))[0].key;D(e.actapitype,u,n,(function(n){n&&n.message&&j.a.success({message:n.message}),n&&n._redirect&&(window.location.href=n._redirect),e.isforevery?t(t,{}):t(r[s],t)}),(function(e){c(!1)}))}()}},onDelete:function(e){var t=e.getData,n=e.data,a=e.origin,r=e.setLoading;return function(){r(!0);var e=_.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;D("DELETE",{tablename:a.table,id:n[e],viewid:a.viewid||a.id},"/api/deleterow",(function(e){t(t)}),(function(e){r(!1)}))}},onModal:function(e){var t=e.getData,n=e.origin,a=e.data,r=e.location,l=e.history;return function(e){var i=e.act.split("/")[1],c=M(a,e,n.config,l);e.isforevery||(c=L(a,e,n.config,r?S.a.parse(r.search):{}));var u={search:c,pathname:e.act};ee.a.success({title:e.title,okType:"dashed",width:"85%",content:o.a.createElement("div",{style:{width:"100%"}},function(e,t,n){switch(e){case"list":case"tiles":return o.a.createElement("div",null,o.a.createElement(Nt,{compo:!0,location:t,history:l,path:n.act.split("/")[2],id_page:n.act.split("/")[2]}));case"getone":return o.a.createElement("div",null,o.a.createElement(sn,{compo:!0,location:t,history:l,path:n.act.split("/")[2],id_page:n.act.split("/")[2]}));default:return function(){j.a.open({message:"type ".concat(e," not correct  "),description:"use list or getone"})}}}(i,u,e)),okText:o.a.createElement(d.a,{type:"close"}),onOk:function(){var r=n.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.related}))[0].key;e.isforevery?t(t,{}):t(a[r],t)}})}},goBack:function(e){var t=e.history;return function(){t.goBack()}}}))((function(e){var t=e.actions,n=e.data,a=e.params,r=(e.loading,e.type),l=void 0===r?"form":r,i=(e.checked,e.onSave),c=e.goBack,u=e.goLink,s=e.goLinkTo,p=e.onDelete,f=e.onCallApi,m=(e.popup,e.calendar),y=e.onModal;return m&&(l="table"),_.filter(t,(function(e){if(e.isforevery=e.isforevery||!1,e.isforevery=_.isNumber(e.isforevery)?1===e.isforevery:e.isforevery,e.isforevery===("table"===l)&&F(n,e.act_visible_condition,a.inputs))return e})).filter((function(e){return"onLoad"!==e.type&&"Expand"!==e.type})).map((function(e,t){var n="table"!==l?o.a.createElement("span",null,e.title):null,a=(e.title,"table"!==l?"topLeft":"left"),r=function(e){switch(e.type){case"Link":u(e);break;case"LinkTo":s(e);break;case"Back":c(e);break;case"API":f(e);break;case"Save":i(e);break;case"Save&Redirect":i((function(){return u(e)}));break;case"Delete":p(e);break;case"Modal":y(e);break;case void 0:u(e)}},m=function(e){var t=e.el;return o.a.createElement("button",{className:"fm-btn fm-btn-sm "+t.classname,size:"small",title:t.title,onClick:function(){e.confirmed&&r(t)}},o.a.createElement(d.a,{type:t.icon}),n)};return o.a.createElement(te.a,{key:"s1"+t,placement:a,title:e.title||""},!0===e.actapiconfirm&&"API"===e.type||"Delete"===e.type?o.a.createElement(Ie.a,{placement:"bottom",title:"Confirm",okText:"Yes",cancelText:"No",onConfirm:function(){return r(e)}},o.a.createElement("a",{style:{display:"hide"}}),o.a.createElement(m,{confirmed:!1,el:e})):o.a.createElement(m,{confirmed:!0,el:e}))}))}));function Mt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=ee.a.confirm,Yt=[],Kt=Object(k.a)(Object(k.e)((function(e){var t=e.inState,n=void 0===t?{data:{},origin:{},id_title:null,carouselRef:o.a.createRef(),initIndex:0,collapseAll:!1,localChangeCollapse:!1,localActiveKey:[]}:t;return{data:n.data,origin:n.origin,id_title:n.id_title,carouselRef:n.carouselRef,initIndex:n.initIndex,collapseAll:n.collapseAll,localChangeCollapse:n.localChangeCollapse,localActiveKey:n.localActiveKey}}),{set_state:function(e){return function(t){var n=zt({},e);return v.a.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(k.c)({get_params:function(e){return function(t){var n={},a=t||e;return e.compo?(n.inputs=S.a.parse(a.location.search),n.search=a.location.search,n.path=a.path,n.id_page=a.path):(n.inputs=S.a.parse(a.location.search),n.search=a.location.search,n.path=a.match,n.id_page=a.match.params.id_page),zt({},n)}},setLoading:function(e){e.loading;var t=e.set_state;return function(e){t({loading:e})}},onChangeData:function(e){var t=e.set_state,n=e.data,a=void 0===n?{}:n;return function(e,n){var r,o=e,l=e&&e.target&&e.target.value;null!==e&&(o=e.target?e.target.value:e),e&&e.target&&(o=""===o?null:o),(r=zt({},a))[n.key]=o,""!==o&&""!==l||(r[n.key]=null),t({data:zt({},r)})}}}),Object(k.c)({getData:function(e){var t=e.get_params,n=e.origin,a=e.set_state,r=e.compo,o=e.setLoading;return function(e,l){var i=t();if(e){var c=v.a.filter(n.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;i.inputs[c]=e}D("POST",{inputs:i.inputs},"/schema/getone?path=".concat(i.id_page),(function(e){r||i.inputs._doctitle_?i.inputs._doctitle_&&(document.title=i.inputs._doctitle_):document.title=e.title;var t,n=e,c=S.a.parse(location.search),u={};if(c.relation&&(t=c.relation.split(",")),!c.relation&&i.inputs.relation&&(t=i.inputs.relation.split(",")),t||(t=[]),e.subscrible){var s=document.location.href.split("//")[1];s="ws://"+(s=s.split("/")[0])+"/ws";var p=new WebSocket(s);Yt.push(p);var f=(e.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.related}))[0]||{}).key;p.onopen=function(){var t=[];e.data.forEach((function(e){return t.push(e[f])})),p.send(JSON.stringify({viewpath:i.id_page,ids:t}))},p.onclose=function(e){e.wasClean?console.log("clear closed (getOne)"):console.log("ws close failed")},p.onmessage=function(t){var n=JSON.parse(t.data);n.error?console.log("ws message failed"):n.forEach((function(t){j.a.success({message:t.notificationtext}),D("POST",{id:t.id},"/api/setsended"),e.data[0]&&l(e.data[0][f],l)}))},p.onerror=function(e){j.a.error({message:"ws error"}),console.log("ws error:",e)}}t.forEach((function(e){u[e]=c[e]||i.inputs[e]}));var m={};m.viewid=n.id,m.tablename=n.table,m.relation=c.relation||i.inputs.relation||null,m.relationobj=u||{},a({data:zt({},e.data[0]),origin:zt({},e),global:zt({},m),loading:!1}),o(!1)}),(function(e){o(!1)}))}}}),Object(k.c)({onSaveRow:function(e){var t=e.getData,n=e.onChangeData,a=e.set_state,r=e.data,o=e.origin,l=e.global,i=void 0===l?{}:l,c=e.compo,u=e.history,s=e.get_params;return function(e,l){var p=v.a.filter(o.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;if("form not mutable"===o.viewtype)n(e,l);else if("form full"===o.viewtype){new Promise((function(t,n){var a=zt({},i);a.tablename=o.table,r[p]&&(a.id=r[p]),a.config=zt({},l),a.value=e,l.related&&(a.relatetable=a.tablename,a.tablename=l.table),t(a)})).then((function(n){D("POST",n,"/api/saverow",(function(n){var i=n.outjson;l.related?l.updatable&&t(r[p]||i.id,t):!r[p]&&!i||l.updatable?(r[p]||(r[p]=i.id),t(r[p]||i.id,t)):(i.id?(r[p]=i.id,r[l.key]=e):r=i,a({data:zt({},r)}));var f=s(),m=v.a.filter(o.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;if(l.updatable&&c&&(r[p]===f.inputs[m]||null===r[p]||void 0===r[p])){var d="___hashhhh___=0.11";d=-1===location.search.indexOf("?")?"?"+d:"&"+d,u.push(location.pathname+location.search+d+location.hash)}j.a.success({message:"OK",duration:2})}),(function(e){}))})).catch((function(e){e&&j.a.error({message:"Error",description:e.response?e.response.data.message:"Uncknown Error"})}))}}},onSubmitState:function(e){e.set_state;var t=e.data,n=void 0===t?{}:t,a=e.origin,r=void 0===a?{}:a;return function(e,t){v.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;var a=v.a.keys(r.data[0]),o={};a.map((function(e){r.data[0][e]!==n[e]&&(o[e]=n[e])}))}}}),Object(k.c)({onChangeInput:function(e){var t=e.onSaveRow;return function(e,n){var a=e;null!=e&&(a=e.target?e.target.value:e),void 0!==e&&""!==e||(a=null),t(a,n)}},onRemoveImg:function(e){var t=e.data,n=e.onSaveRow;return function(e){Ut({title:"delete file?",content:"",onOk:function(){var a=e.row,r=t[a.key];v.a.remove(r,(function(t){return t.uri===e.file_url})),n(r,a)},onCancel:function(){},okText:"Yes",cancelText:"No"}),j.a.info({message:"Do not forget save changes"})}},onRemoveFile:function(e){e.data;var t=e.onSaveRow;return function(e,n,a){Ut({title:"Delete file?",content:"",onOk:function(){v.a.remove(e,(function(e){return e.uri===n})),t(e,a)},onCancel:function(){},okText:"Yes",cancelText:"No"}),j.a.info({message:"Do not forget save changes"})}},onUploadFileChange:function(e){e.set_state;var t=e.data,n=e.origin,a=e.onSaveRow;return function(e,r,o){if(e.target&&e.target.files.length>0){var l=new FormData,i=v.a.filter(n.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;for(var c in e.target.files)t[r.key],l.append("file_"+c,e.target.files[c]);l.append("config",JSON.stringify(r)),t[i]&&l.append("id",t[i]),t[r.key]&&l.append("value",JSON.stringify(t[r.key])),r.related?(l.append("tablename",r.tablename),l.append("relatetable",n.table||NaN)):l.append("tablename",n.table||NaN),l.append("viewid",n.id),D("POST",l,"/upload_file",(function(e){a(e,r)}),(function(e){}))}}},onUpload:function(e){var t=e.set_state,n=e.data,a=e.origin;return function(e,r,o){var l=new FormData,i=v.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;l.append("file_0",e.file),l.append("config",JSON.stringify(r)),n[i]&&l.append("id",n[i]),n[r.key]&&l.append("value",JSON.stringify(n[r.key])),r.related?(l.append("tablename",r.tablename),l.append("relatetable",a.table||NaN)):l.append("tablename",a.table||NaN),l.append("viewid",a.id),D("POST",l,"/api/savefile",(function(e){var a=e.outjson;a.id?(n[i]=a.id,n[r.key]=JSON.parse(a.value)):n=a,t({data:zt({},n),uploaded:!1})}),(function(e){}))}},onSave:function(e){var t=e.data,n=e.set_state,a=e.global,r=e.origin,o=e.getData,l=e.compo,i=e.get_params,c=e.history,u=e.setLoading;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u(!0);var s=v.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;D("POST",{data:t,viewid:a.viewid,id:t[s],relation:a.relation,relationobj:a.relationobj},"/api/savestate",(function(a){var u=a.outjson,p=i(),f=v.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;if(r.config.filter((function(e){return e.updatable})).length>0&&l&&(t[s]==p.inputs[f]||null===t[s]||void 0===t[s])){var m="___hashhhh___=0.11";m=-1===location.search.indexOf("?")?"?"+m:"&"+m,c.push(location.pathname+location.search+m+location.hash)}u.id&&(t[s]=u.id),n({data:zt({},t),loading:!1}),j.a.success({message:"Ok"}),o(t[s]||u.id,o),e&&"function"==typeof e&&e()}),(function(e){n({loading:!1})}))}},handlerAutoComplete:function(e){var t=e.origin,n=e.set_state;return function(e,a){D("POST",{val:e,table:t.table,col:a.col},"/api/autocomplete",(function(e){var r=Mt(t.config);r.forEach((function(t,n){r[n].key===a.key&&(r[n].selectdata=e.outjson)})),t.config=r,n({origin:t})}),(function(e){}))}},onChangeCollapse:function(e){var t=e.set_state;return function(e){t({localChangeCollapse:!0,localActiveKey:e})}}}),Object(k.b)({componentDidMount:function(){this.props.getData(null,this.props.getData)},componentWillUnmount:function(){Yt.forEach((function(e){return e.close()}))},componentDidUpdate:function(e){var t=this.props,n=t.btnCollapseAll,a=t.set_state;e.btnCollapseAll!==n&&a({localChangeCollapse:!1,collapseAll:n})},UNSAFE_componentWillUpdate:function(e){var t=this.props,n=t.compo,a=t.getData,r=t.get_params,o=r(this.props),l=r(e);n?"/trees"!==e.location.pathname.slice(0,6)&&(e.location.search===this.props.location.search&&e.path===this.props.path||a()):o.id_page!==l.id_page&&a()}})),Ht=a(633);function Jt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=Object(k.a)(Object(k.e)((function(){return{}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(k.c)({changePicker:function(e){var t=e.set_state,n=e.config,a=e.data,r=e.onChangeData,o=e.onChangeInput,l=e.origin;return function(e,i){t({pickerVisible:!1});var c=a[n.key]?Jt(a[n.key]):[];c.includes(i)?j.a.error({message:"Date adding",duration:2.5}):(c.push(i),"form full"===l.viewtype?o(c,n):r(c,n))}},onCloseTag:function(e){var t=e.data,n=e.config,a=e.onChangeData,r=e.onChangeInput,o=e.origin;return function(e){var l=(t[n.key]?Jt(t[n.key]):[]).filter((function(t){return t!==e}));"form full"===o.viewtype?r(l,n):a(l,n)}}}))((function(e){var t=e.pickerVisible,n=void 0!==t&&t,a=e.set_state,r=e.changePicker,l=e.onCloseTag,i=e.config,c=e.data;return o.a.createElement("div",{style:{display:"flex",alignItems:"center",border:"1px solid grey",borderRadius:5,padding:2}},o.a.createElement("div",{style:{width:"content",flex:"10"}},c[i.key]&&c[i.key].map((function(e){return o.a.createElement(Ht.a,{key:e,closable:!0,onClose:function(){return l(e)}},e)})),n&&o.a.createElement(W.a,{size:"small",format:"DD.MM.YYYY",onChange:r}),!n&&o.a.createElement(Ht.a,{onClick:function(){return a({pickerVisible:!0})},style:{background:"#fff",borderStyle:"dashed"}},o.a.createElement(d.a,{type:"plus"}))))}));function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=Object(k.a)(Object(k.e)((function(e){var t=e.inState,n=void 0===t?{options:[],open:!1}:t;return{options:n.options,open:n.open}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(k.c)({getCertificates:function(e){var t=e.set_state;return function(){authorize.ecpPostInit().then((function(e){t({options:e.certs||[],open:!0})})).catch((function(e){j.a.error({message:"Error",description:e.status||"Can not found module"})}))}},onSave:function(e){var t=e.set_state;return function(){t({open:!1})}},onSelect:function(e){var t=e.onChangeInput,n=e.config;return function(e){t(e.thumbprint,n)}}}),Object(k.c)({onOpen:function(e){var t=e.getCertificates;return function(){t()}}}))((function(e){var t=e.data,n=e.config,a=e.open,r=void 0!==a&&a,l=e.options,i=void 0===l?[]:l,c=e.set_state,u=e.onSave,s=e.onOpen,p=e.onSelect,f=t[n.key];return[o.a.createElement(h.a,{onClick:s,key:"c1"},"Сhoose certificate"),o.a.createElement(ee.a,{key:"c2",title:"Choose the certificate",visible:r,onOk:u,onCancel:function(){return c({open:!1})}},o.a.createElement(ne.a,{header:o.a.createElement("h4",null,"Certificates list"),size:"small",dataSource:i,renderItem:function(e){return f===e.thumbprint?o.a.createElement(ne.a.Item,null,o.a.createElement(xe.a.Text,null,e.sname),o.a.createElement(d.a,{style:{right:"0",position:"absolute"},type:"check-circle"})):o.a.createElement(Ie.a,{placement:"top",title:"Confirm",onConfirm:function(){return p(e)},okText:"Yes",cancelText:"Close"},o.a.createElement(ne.a.Item,{className:"list-item-certificate"},o.a.createElement(xe.a.Text,null,e.sname)))}}))]})),Qt=function(e){var t=e.onClick,n=e.className;return o.a.createElement(d.a,{type:"left",onClick:t,className:n})},Zt=function(e){var t=e.onClick,n=e.className;return o.a.createElement(d.a,{type:"right",onClick:t,className:n})},$t=a(619),en=a.n($t),tn=a(622),nn=a.n(tn);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ln=p.a.Content,cn=G.a.Panel,un=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),sn=Kt((function(e){var t=e.location,n=e.history,a=e.set_state,r=e.get_params,l=e.onChangeInput,i=e.onChangeData,c=e.getData,u=e.onSave,p=e.carouselRef,y=e.initIndex,g=e.onChangeCollapse,b=e.onRemoveImg,v=e.onUpload,O=e.onUploadFileChange,E=e.uploaded,k=void 0!==E&&E,j=e.previewFile,w=void 0!==j&&j,S=e.collapseAll,C=e.localActiveKey,P=e.localChangeCollapse,D=(e.compo,e.loading),x=void 0===D||D,T=e.data,A=void 0===T?{}:T,N=e.origin,M=void 0===N?{}:N,L=e.handlerAutoComplete,z=e.onRemoveFile,R=e.visibleModal,U=void 0!==R&&R,Y=e.setLoading,H=M.config,J=void 0===H?{}:H,se=r(),pe=function(e){switch(A[e.key]=A.hasOwnProperty(e.key)?A[e.key]:null,e.type){case"label":return A[e.key]instanceof Object?o.a.createElement(V.a.Item,{key:"1,1",label:e.title},JSON.stringify(A[e.key])):o.a.createElement(V.a.Item,{key:"1,1",label:e.title},o.a.createElement("span",{className:"ant-form-text"}," ",_.isNull(A[e.key])?"":function(){switch(on(A[e.key])){case"string":return A[e.key].split("\n").map((function(e,t){return o.a.createElement("span",{key:t},e,o.a.createElement("br",null))}));default:return A[e.key]}}()," "));case"text":return o.a.createElement(V.a.Item,{key:"1.2",label:e.title},o.a.createElement(I.a,{disabled:e.read_only||!1,value:A[e.key]?A[e.key]:"",onChange:function(t){return i(t,e)},onBlur:function(t){return l(t,e)}}));case"textarea":return o.a.createElement(V.a.Item,{key:"d2.1",label:e.title},o.a.createElement(nn.a,{disabled:e.read_only||!1,value:A[e.key]?A[e.key]:"",onChange:function(t){return i(t,e)},onBlur:function(t){return l(t,e)}}));case"date":return o.a.createElement(V.a.Item,{key:"d3",label:e.title},o.a.createElement(W.a,{disabled:e.read_only||!1,value:A[e.key]?K(A[e.key],"DD.MM.YYYY"):null,onChange:function(t,n){return l(n,e)},format:"DD.MM.YYYY"}));case"autocomplete":return o.a.createElement(V.a.Item,{key:"4.b",label:e.title},o.a.createElement(q.a,{dataSource:e.selectdata?e.selectdata.map((function(e,t){return o.a.createElement(q.a.Option,{key:t,text:e.value},e.value)})):[],onSelect:function(t,n){return l({target:{value:n.props.text}},e)},onSearch:function(t){return L(t,e)},placeholder:"enter the value",value:A[e.key],onChange:function(t){return i(t,e)},onBlur:function(t){void 0===t&&l({target:{value:null}},e)}}));case"datetime":return o.a.createElement(V.a.Item,{key:"d3.1",label:e.title},o.a.createElement(W.a,{disabled:e.read_only||!1,value:A[e.key]?K(A[e.key],"DD.MM.YYYY HH:mm"):null,onChange:function(t,n){return l(n,e)},format:"DD.MM.YYYY HH:mm"}));case"number":return o.a.createElement(V.a.Item,{key:"d4",label:e.title},o.a.createElement(X.a,{disabled:e.read_only||!1,value:null===A[e.key]?null:A[e.key],onChange:function(t){i(t,e)},onBlur:function(t){return l(t,e)}}));case"rate":return o.a.createElement(V.a.Item,{key:e.key,label:e.title},o.a.createElement(Q.a,{allowHalf:!0,defaultValue:null===A[e.key]?0:A[e.key],onChange:function(t){i(t,e)}}));case"tags":return o.a.createElement(V.a.Item,{key:e.key,label:e.title},o.a.createElement("input",{className:"ant-input",value:A[e.key+e.key],onChange:function(t){var n={key:e.key+e.key};i(t,n)},onKeyPress:function(t){if("Enter"===t.key){var n=A[e.key]||[];n.push(t.target.value);var a={key:e.key+e.key};i(n,e),i("",a)}}}),o.a.createElement("button",{style:{display:"none"},title:"+"}),o.a.createElement("div",null,(A[e.key]||[]).map((function(t){return o.a.createElement(Tag,{key:t,closable:!0,onClose:function(){i(A[e.key].filter((function(e){return e!=t})),e)}},t)}))));case"password":return o.a.createElement(V.a.Item,{key:"d4.1",label:e.title},o.a.createElement(I.a.Password,{disabled:e.read_only||!1,value:A[e.key],onChange:function(t){return i(t,e)},onBlur:function(t){return l(t,e)},placeholder:"password"}));case"link":return o.a.createElement(V.a.Item,{key:"d4.1",label:e.title},o.a.createElement("div",null,"object"!==on(A[e.key])?o.a.createElement("a",{href:A[e.key],target:"_blank",rel:"noopener noreferrer"}," ",A[e.key]):o.a.createElement("a",{href:(A[e.key]||{link:""}).link,target:(A[e.key]||{target:null}).target||"_blank",rel:"noopener noreferrer"},(A[e.key]||{title:""}).title)));case"image":case"file":var n=[];return!A[e.key]||_.forEach(A[e.key],(function(t,a,r){n.push({row:e,uid:"-1",name:t.filename,status:"done",file_url:t.uri,url:s._url+t.uri})})),o.a.createElement(V.a.Item,{key:"d4.2",label:e.title},o.a.createElement(Z.a,{disabled:e.read_only||!1,listType:"image"===e.type?"picture-card":"text",fileList:n,customRequest:function(t){return v(t,e,!1)},onRemove:b,onPreview:function(e){var t=["img","jpg","png","gif"];!function(e){var n=!1;return t.forEach((function(t){n=n||e.split(".")[1]===t})),n}(e.name)?window.open(e.url,"_blank"):e.file_url?a({previewFile:e}):a({previewFile:!1})},onChange:O},n.length>0?null:k?o.a.createElement($.a,{type:"circle",percent:k||0}):o.a.createElement("div",{key:"d1.2",className:"file"===e.type?"getone__upload-file":null},"image"===e.type?o.a.createElement(d.a,{type:"plus"}):null,o.a.createElement("div",{className:"ant-upload-text"}," ","image"===e.type?"Upload image":"Upload file"))),o.a.createElement(ee.a,{visible:!!w,footer:null,onCancel:function(){return a({previewFile:!1})}},o.a.createElement("img",{alt:"example",style:{width:"100%"},src:w.url||""})));case"files":return o.a.createElement("div",{key:A[e.key]},o.a.createElement("input",{multiple:!0,onChange:function(t){return O(t,e,!1)},type:"file",placeholder:"placeholder"}),o.a.createElement("ul",{className:"getone__filelist"},A[e.key]?A[e.key].map((function(t){return o.a.createElement("li",{key:t.uri,className:"getone__filelist-item"},o.a.createElement("div",{style:{paddingLeft:20}},t.label||t.filename),o.a.createElement("div",{className:"getone__filelist-buttons"},o.a.createElement(te.a,{title:"Download",placement:"topLeft"},o.a.createElement(h.a,{icon:"download",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(s._url+t.uri)}})),o.a.createElement(te.a,{title:"Delete",placement:"topLeft"},o.a.createElement(h.a,{icon:"delete",size:"small",shape:"circle",style:{border:"1px solid grey",backgroundColor:"crimson"},onClick:function(){return z(A[e.key],t.uri,e)}}))))})):null));case"filelist":return o.a.createElement(V.a.Item,{key:"9.b",label:"Filelist"},o.a.createElement(ne.a,{itemLayout:"horizontal",locale:{emptyText:"..."},dataSource:A[e.key]?A[e.key]:[],renderItem:function(e){return o.a.createElement(ne.a.Item,null,o.a.createElement(ne.a.Item.Meta,{avatar:o.a.createElement(m.a,{icon:"file"}),title:o.a.createElement(te.a,{title:"Download",placement:"right"},o.a.createElement("a",{target:"_blank",href:e.src},e.filename))}))}}));case"images":return o.a.createElement("div",{key:A[e.key]},o.a.createElement("label",{htmlFor:"files",className:"getone__images-label"},"choose image"),o.a.createElement("input",{accept:".jpg, .jpeg, .png",id:"files",style:{visibility:"hidden",height:1},multiple:!0,onChange:function(t){return O(t,e,!1)},type:"file"}),o.a.createElement("div",{className:"getone__imageslist"},A[e.key]?A[e.key].map((function(t){return o.a.createElement(te.a,{title:t.label,key:t.uri},o.a.createElement("div",{key:t.uri,className:"getone__images-item",style:{background:'url("'.concat(t.src,'") 100% 100% no-repeat'),backgroundSize:"contain",backgroundPosition:"center center"}},o.a.createElement("div",{className:"getone__imageslist-buttons"},o.a.createElement(te.a,{title:"Show",placement:"topLeft"},o.a.createElement(h.a,{icon:"eye",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(s._url+t.uri)}})),o.a.createElement(te.a,{title:"Delete",placement:"topLeft"},o.a.createElement(h.a,{icon:"delete",size:"small",shape:"circle",style:{border:"1px solid grey",backgroundColor:"crimson"},onClick:function(){return z(A[e.key],t.uri,e)}})))))})):null));case"gallery":return o.a.createElement(V.a.Item,{key:"23.p",label:"Images list"},o.a.createElement("div",{className:"getone__imageslist"},A[e.key]?A[e.key].map((function(e,t){return o.a.createElement(te.a,{title:e.label,key:"gallerry"+e.uri},o.a.createElement("div",{key:e.uri,className:"getone__images-item",style:{background:'url("'.concat(e.src,'") 100% 100% no-repeat'),backgroundSize:"contain",backgroundPosition:"center center"}},o.a.createElement("div",{className:"getone__imageslist-buttons"},o.a.createElement(te.a,{title:"Show",placement:"topLeft"},o.a.createElement(h.a,{icon:"eye",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(s._url+e.uri)}})),o.a.createElement(te.a,{title:"Slider",placement:"topLeft"},o.a.createElement(h.a,{icon:"picture",size:"small",shape:"circle",style:{border:"1px solid grey",background:"GreenYellow"},onClick:function(){a({visibleModal:!0}),null!==p.current?p.goTo(t):a({initIndex:t})}})))))})):null),o.a.createElement(ee.a,{width:1300,visible:U,onCancel:function(){return a({visibleModal:!1})},footer:null},o.a.createElement(ae.a,{ref:function(e){return p=e},arrows:!0,nextArrow:o.a.createElement(Zt,null),prevArrow:o.a.createElement(Qt,null),infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,initialSlide:y},A[e.key]?A[e.key].map((function(e){return o.a.createElement("img",{src:e.src,key:e.uri})})):null)));case"select":case"select_api":return o.a.createElement(V.a.Item,{key:"5.b",label:e.title},o.a.createElement(We,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:A,inputs:se.inputs,onChangeInput:l,location:t,globalConfig:J}));case"multiselect":case"multiselect_api":return o.a.createElement(V.a.Item,{key:"12.b",label:e.title},o.a.createElement(Ze,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:A,inputs:se.inputs,onChangeInput:l,location:t,globalConfig:J}));case"typehead":case"typehead_api":return o.a.createElement(V.a.Item,{key:e.key,label:e.title},o.a.createElement(ct,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:A,inputs:se.inputs,onChangeInput:l,location:t,globalConfig:J}));case"multitypehead":case"multitypehead_api":return o.a.createElement(V.a.Item,{key:"7.b",label:e.title},o.a.createElement(yt,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:A,inputs:se.inputs,onChangeInput:l,location:t,globalConfig:J}));case"checkbox":return o.a.createElement(V.a.Item,{key:"d4.6",label:e.title},o.a.createElement(te.a,{placement:"topLeft",title:e.title||""},o.a.createElement(re.a,{disabled:J.read_only||!1,checked:A[e.key]||!1,onChange:function(t){l(t.target.checked,e)}},e.title)));case"certificate":return o.a.createElement(V.a.Item,{key:"d5",label:e.title},o.a.createElement(Xt,{config:e,data:A,location:t,onChangeInput:l}));case"time":return o.a.createElement(V.a.Item,{key:"d6",label:e.title},o.a.createElement(oe.a,{format:"HH:mm",placeholder:"Chose time",value:null===A[e.key]?null:K(A[e.key]||"","HH:mm"),onChange:function(t,n){""===n&&(n=null),l(n,e)}}));case"colorpicker":return o.a.createElement(V.a.Item,{key:"23c",label:e.title},o.a.createElement(be,{currentColor:A[e.key]||"#000000",onChangeInput:l,localConfig:e}));case"color":return o.a.createElement(V.a.Item,{key:"24c",label:e.title},o.a.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"".concat(A[e.key]),border:"2px solid grey"}}));case"texteditor":return o.a.createElement(V.a.Item,{key:"1t",label:e.title},o.a.createElement(De,{currentText:A[e.key]||"",onChangeInput:l,localConfig:e}));case"innerHtml":return o.a.createElement(V.a.Item,{key:"2t",label:e.title},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(A[e.key])}}));case"array":var r=A[e.key]?A[e.key].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{key:e.id})})):null,c=[];if(A[e.key])for(var u in A[e.key][0])c.push({title:"".concat(u).toUpperCase(),dataIndex:"".concat(u),key:"".concat(u)});return o.a.createElement(V.a.Item,{key:"32u",label:e.title},o.a.createElement(G.a,{defaultActiveKey:["1"]},o.a.createElement(cn,{key:1},o.a.createElement(le.a,{pagination:!1,dataSource:r,columns:c,scroll:{x:!0},className:"getone__table",locale:{emptyText:"..."}}))));case"codeEditor":return o.a.createElement(V.a.Item,{key:"2t",label:e.title},o.a.createElement(en.a,{mode:"python",value:A[e.key]||"",onChange:function(t){return i(t,e)},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}));case"phone":return o.a.createElement(V.a.Item,{key:"phone",label:e.title},o.a.createElement(B.a,{className:"ant-input",mask:"+9 (999) 999-99-99",value:A[e.key],onChange:function(t){return i(t,e)},onBlur:function(e){return l(e)}}));case"multidate":return o.a.createElement(V.a.Item,{key:"multidate",label:e.title},o.a.createElement(Vt,{config:e,data:A,onChangeInput:l,onChangeData:i,origin:M}));default:return o.a.createElement(V.a.Item,{key:"d22",label:e.title},e.type)}},fe=o.a.createElement(V.a,{layout:"vertical"},o.a.createElement(f.a,{gutter:8,type:"flex"},o.a.createElement(ie.a,{span:24},o.a.createElement(f.a,{type:"flex"},_.filter(J,(function(e){return(!0===e.visible||1===e.visible)&&F(A,e.visible_condition,se.inputs)})).map((function(e,t,n){var a=e.width?e.width>24?24:parseInt(e.width):12;return o.a.createElement(ie.a,{className:e.classname,span:a,key:"ss"+t},o.a.createElement("div",{className:e.classname},pe(e)))})))),o.a.createElement(ie.a,{span:24},o.a.createElement(Ft,{actions:M.acts,origin:M,data:A,params:se,history:n,location:t,getData:c,onSave:u,setLoading:Y}))));return o.a.createElement(G.a,{key:un,activeKey:P?C:S?[]:["1"],onChange:g},o.a.createElement(cn,{className:M.classname||"",header:(M.title||"").toUpperCase(),key:"1"},o.a.createElement("h3",null,se.inputs._sub_title),x?o.a.createElement(ce.a,{key:"sk",spinning:!0,tip:"Loading..."},o.a.createElement(ue.a,{className:"f_content_app"})):o.a.createElement(ln,{key:"s3",className:"f_content_app get_one_form"},fe)))})),pn=a(343);a(603);function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn=Object(k.a)(Object(k.e)((function(e){var t=e.inState,n=void 0===t?{legacy:!0,ecp:{},arr_scp:[]}:t;return{legacy:n.legacy,select_scp:n.ecp,sertificats:n.arr_scp}}),{set_state:function(e){return function(t){var n=mn({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}},setTypeLogin:function(e){return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.sertificats;return mn({},e,{legacy:t,sertificats:n})}},onSelectSert:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mn({},e,{select_scp:t})}}}),Object(k.d)("login","changeLogin",""),Object(k.d)("password","changePassword",""),Object(k.c)({onECP:function(e){var t=e.sertificats,n=void 0===t?[]:t,a=e.legacy,r=void 0===a||a,o=e.set_state,l=e.setTypeLogin;return function(){o({ready:!1}),_.isEmpty(n)?authorize?authorize.ecpInit().then((function(e){l(!r,e.certs)})).catch((function(e){j.a.error({message:"Error",description:e.status||"Can not found the module"}),o({ready:!0})})):(j.a.error({message:"Error",description:"Can not fount the module"}),o({ready:!0})):l(!r)}}}),Object(k.c)({handleSubmit:function(e){var t=e.form,n=e.legacy,a=e.select_scp;return function(e){e.preventDefault(),!0===n?t.validateFields((function(e,t){e||D("POST",{login:t.username,pass:t.password},"/auth/auth_f",(function(e){location.href="/"}))})):D("POST",a,"/auth/auth_crypto",(function(e){location.href="/"}))}}}),Object(k.b)({componentDidMount:function(){document.title="Log In",document.getElementsByTagName("body")[0].classList.add("login_bckg")}})),gn=(pn.a.TabPane,"Log in"),hn={visible:!0,title:"Remember me"},bn={visible:!0,title:"Forgot the password"},vn=V.a.create({name:"normal_login"})(yn((function(e){var t=e.legacy,n=e.sertificats,a=e.select_scp,r=e.onSelectSert,l=e.onECP,i=e.handleSubmit,c=e.form,u=(e.setTypeLogin,e.set_state,e.ready),s=void 0===u||u,p=c.getFieldDecorator;return o.a.createElement("div",{className:"tilt-in-fwd-tr login "+(t?"":"ecp_form_login")},o.a.createElement("div",{className:"login_title"},o.a.createElement("span",null,gn)),o.a.createElement("div",{className:"login_fields"},o.a.createElement(V.a,{onSubmit:i,className:"login-form"},t?[o.a.createElement(V.a.Item,{key:"s1"},p("username",{rules:[{message:"Please input your username!"}]})(o.a.createElement(I.a,{prefix:o.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),o.a.createElement(V.a.Item,{key:"s2"},p("password",{rules:[{message:"Please input your Password!"}]})(o.a.createElement(I.a,{prefix:o.a.createElement(d.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})))]:[o.a.createElement(V.a.Item,{key:"s1",className:"sertificat_block"},p("certificate",{rules:[{message:"Please select your certificat!"}]})(o.a.createElement(ne.a,{size:"small",dataSource:n,renderItem:function(e){return o.a.createElement(ne.a.Item,{key:e.id,className:"item_select_sert "+(e.thumbprint===a.thumbprint?"active":""),onClick:function(){return r(e)}},o.a.createElement(ne.a.Item.Meta,{title:e.sname,description:e.valid}))}})))],o.a.createElement(V.a.Item,null,hn.visible?p("remember",{valuePropName:"checked",initialValue:!0})(o.a.createElement(re.a,{style:{color:"#afb1be"}},hn.title||"Remember me")):null,hn.visible?o.a.createElement("a",{className:"login-form-forgot",href:""},bn.title||"Forgot password"):null),o.a.createElement(V.a.Item,null,o.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log In"),o.a.createElement("span",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("span",null,o.a.createElement("span",{style:{color:"#afb1be"}},"Or ")),o.a.createElement(h.a,{style:{margin:"7px 0"},size:"small",type:"dashed",ghost:!0,disabled:!s,onClick:l},t?"Log in by digital signature":"Log in by login/password"))))))}))),On=Object(k.a)(Object(k.b)({componentWillMount:function(){D("POST",{},"/auth/logout",(function(e){localStorage.clear(),window.location.replace("/")}),(function(e){}))}}))((function(){return o.a.createElement("div",null)}));function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _n=function(e){var t=e.history,n=e.path,a=e.compo,l=e.location,i=e.match,c=wn(Object(r.useState)({}),2),u=c[0],s=c[1],p=u.loading,m=void 0!==p&&p,d=u.values,y=void 0===d?{}:d,g=u.id_page,b=void 0===g?null:g,v=u.init,O=void 0!==v&&v,E=u.btnCollapseAll,k=void 0!==E&&E,j=wn(Object(r.useState)(l.search),2),w=j[0],C=j[1];function P(e){var t=kn({},u);_.keys(e).map((function(n){t[n]=e[n]})),s(t)}var I=l.search;function x(e,t){D("GET",{},"/api/compobypath?path=".concat(e,"&inputs=").concat(JSON.stringify(S.a.parse(l.search))),(function(n){document.title=n.outjson.title,P({id_page:e,loading:!1,init:!!t||O,values:kn({},n.outjson)})}),(function(e){}))}var T=a?n:i.params.id;function A(){P({btnCollapseAll:!k})}return Object(r.useEffect)((function(){b!==T&&null!==b?(s({loading:!0,values:{}}),x(T)):_.isNull(b)&&x(a?n:i.params.id,"init")}),[T]),w!==I&&y.visible_views&&(C(I),x(T)),o.a.createElement("div",{tabIndex:0,onKeyDown:function(e){48===e.keyCode&&e.altKey&&e.ctrlKey&&A()}},o.a.createElement(f.a,{key:"s2",style:{margin:"0 10px"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"right",padding:"10px 0"}},o.a.createElement(h.a,{type:"primary",ghost:!0,size:"small",onClick:A,icon:k?"plus-square":"minus-square"},k?"-":"+")),o.a.createElement(ce.a,{tip:"...",spinning:m||!1},b===T?m?null:y.config&&_.isArray(y.config)?y.config.map((function(e,n){return o.a.createElement(f.a,{key:n,gutter:8,type:"flex",justify:"center"},e.cols.map((function(e,n){return!y.visible_views||y.visible_views&&y.visible_views.filter((function(t){return t==e.path.id})).length>0?o.a.createElement(ie.a,{key:n,span:e.width||24},function(){switch(e.path.viewtype){case"table":case"tiles":return o.a.createElement(Nt,{compo:!0,path:e.path.path,history:t,location:l,btnCollapseAll:k});case"form full":case"form not mutable":return o.a.createElement("div",null,o.a.createElement("h4",null,null),o.a.createElement(sn,{compo:!0,path:e.path.path,history:t,location:l,values:y,btnCollapseAll:k}))}}()):o.a.createElement("div",null)})))})):null:null)))};function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=Object(k.a)(Object(k.d)("values","changeValues",{}),Object(k.d)("menu","changeMenu",[]),Object(k.d)("openedKeys","changeOpenedKeys",[]),Object(k.d)("rootKeys","changeRootKeys",[]),Object(k.d)("view","changeView",{}),Object(k.d)("params","changeParams",{inputs:{}}),Object(k.d)("ready","changeReady",!0),Object(k.c)({handlerOpenChange:function(e){var t=e.openedKeys,n=e.rootKeys,a=e.changeOpenedKeys;return function(e){var r=e.find((function(e){return-1===t.indexOf(e)}));-1===n.indexOf(r)?a(e):a(r||[])}}}),Object(k.c)({getData:function(e){var t=e.history,n=e.location,a=e.match,r=e.changeView,o=e.changeValues,l=e.changeReady,i=e.changeMenu,c=e.changeRootKeys;return function(){D("GET",{},"/api/treesbypath?path="+a.params.id,(function(e){document.title=e.outjson.title,o(Cn({},e.outjson));var a=e.outjson,u=a.branches,s=a.items,p=[],f=!!n.hash;if(_.isArray(u)&&!_.isEmpty(u)&&(u.map((function(e,a){if(!0===e.ismain&&!f){var o=_.find(s,(function(t){return t.key===e.key}));t.push(n.pathname+n.search+"#"+o.key),o.path&&o.treeviewtype>0&&r(o)}e.children&&p.push(e.key)})),i(u),n.hash)){var m=_.find(s,(function(e){return"#"+e.key===n.hash}));m.path&&m.treeviewtype>0&&r(m)}c(p),l(!0)}),(function(e){}))}}}),Object(k.c)({handlerSelectMenu:function(e){var t=e.changeReady,n=e.history,a=e.values,r=e.location,o=e.changeView;return function(e){var l=function(e,t){if(!t)return e;for(var n=t.split(","),a=0,r=n.length-1;a<r;a++){var o=e[n[a]];if(!o)break;e=o}return e[n[a]]}(e,"item,props,data"),i=_.find(a.items,(function(e){return e.key===l.key}));r.hash!=="#"+i.key&&(t(!1),n.push(r.pathname+r.search+"#"+i.key),i.path&&i.treeviewtype>0&&o(i))}}}),Object(k.b)({componentDidMount:function(){var e=this.props,t=e.getData,n=e.changeReady,a=e.params,r=e.changeParams,o=e.match,l=e.location;a.inputs=S.a.parse(l.search),a.path=o.params.match,a.search=l.search,r(Cn({},a)),n(!1),t()},componentDidUpdate:function(e){e.location.hash!==this.props.location.hash&&!1===this.props.ready&&this.props.changeReady(!0),e.location.search!==this.props.location.search&&(this.props.getData(),this.props.changeReady(!1))}})),In=y.a.SubMenu,xn=Dn((function(e){var t=e.history,n=e.location,a=e.getData,r=e.view,l=e.ready,i=e.openedKeys,c=e.menu,u=e.handlerOpenChange,s=e.handlerSelectMenu,m=e.values,g=e.params;function h(e,t){return e.map((function(e,n){return e.children?o.a.createElement(In,{key:e.key,data:e,title:o.a.createElement("span",null,o.a.createElement(d.a,{type:e.icon||""}),o.a.createElement("span",null,e.label||"--"))},t(e.children,t)):o.a.createElement(y.a.Item,{key:e.key,data:e},o.a.createElement("span",null,o.a.createElement(d.a,{type:e.icon||""}),o.a.createElement("span",null,e.label||"--")))}))}return[o.a.createElement(f.a,{key:"s2",gutter:8,style:{margin:"10px",background:"inherit !inherit"}},o.a.createElement(f.a,null,o.a.createElement(Ft,{actions:m.acts,origin:m,data:m.items,params:g,history:t,location:n,getData:a})),o.a.createElement(p.a,null,o.a.createElement(f.a,{style:{margin:"0 10px"}},o.a.createElement(y.a,{size:"small",mode:"horizontal",openKeys:i,onOpenChange:u,onClick:s},h(c,h))),o.a.createElement(p.a.Content,null,o.a.createElement(ce.a,{tip:"Loading...",spinning:!l},l?1===r.treeviewtype?function(){switch(r.viewtype){case"table":return o.a.createElement(f.a,{style:{margin:"0 10px"}},o.a.createElement(Nt,{compo:!0,path:r.path,history:t,location:n}));case"form full":case"form not mutable":return o.a.createElement(f.a,{style:{margin:"0 10px"}},o.a.createElement(sn,{compo:!0,path:r.path,history:t,location:n}))}}():2===r.treeviewtype?o.a.createElement(_n,{trees:!0,compo:!0,path:r.path,history:t,location:n}):null:null))))]}));function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=Object(k.a)(Object(k.d)("values","changeValues",{}),Object(k.d)("params","changeParams",[]),Object(k.d)("inputs","changeInputs",{}),Object(k.d)("selections","changeSelections",[]),Object(k.c)({getData:function(e){var t=e.match,n=e.changeValues,a=e.changeParams;return function(){D("GET",{},"/api/report?id="+t.params.id,(function(e){document.title=e.outjson.title,n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.outjson)),a(An(e.outjson.params))}),(function(e){}))}},getSelectOptions:function(e){var t=e.changeSelections,n=e.selections;return function(e,a,r){D("GET",{},"/api/methodinfo?id="+r,(function(a){"get"===a.data.outjson.methotypename?D("GET",{},"/api/".concat(a.data.outjson.methodname),(function(a){var r=n;r[e]=a.outjson,t(r)}),(function(e){})):Error("Methotypename of data are not GET request")}),(function(e){}))}},getReportFile:function(e){var t=e.inputs,n=e.values;return function(){var e="?";Object.keys(t).forEach((function(n){var a="object"===Tn(t[n])?JSON.stringify(t[n]):t[n];e+=n+"="+a+"&"})),e+="filename="+n.filename+"&template=.."+n.template_path,console.log("open report","/rep/"+n.path+e),window.open("/rep/"+n.path+e)}}}),Object(k.b)({componentDidMount:function(){(0,this.props.getData)()},componentDidUpdate:function(e){this.props.selections;e.selections}}))((function(e){var t=e.values,n=e.params,a=e.changeInputs,r=e.inputs,l=e.selections,i=e.getSelectOptions,c=e.getReportFile,u=t.title,s=He.a.Option;return[o.a.createElement(ue.a,{key:"1l"},o.a.createElement("h2",null,u),n.map((function(e){return o.a.createElement("div",{key:e.id+e.ptitle},function(){switch(e.typename){case"select":var t=e.id+e.ptitle;return o.a.createElement(ie.a,{span:24,key:t},o.a.createElement("div",null,o.a.createElement("b",null,e.ptitle)),o.a.createElement(He.a,{styles:{container:function(e){return Ln({},e,{width:"40%"})}},onChange:function(t){var n=r;n[e.func_paramtitle]=t,a(n)},defaultValue:r[e.func_paramtitle],onFocus:function(){return i(t,null,e.apimethod)},options:l[t]}));case"multiselect":return o.a.createElement("div",{key:e.ptitle+e.id},o.a.createElement("div",null,o.a.createElement("b",null,e.ptitle)),o.a.createElement(He.a,{isMulti:!0,styles:{container:function(e){return Ln({},e,{width:"70%"})}},onChange:function(){var t=r,n=arguments.length<=0?void 0:arguments[0];_.isNull(n)?delete t[e.func_paramtitle]:t[e.func_paramtitle]=n,a(t)},devaultValue:r[e.func_paramtitle],onFocus:function(){return i(t,null,e.apimethod)},options:l[t]}));case"typehead":return o.a.createElement("div",{key:e.title},o.a.createElement("div",null,o.a.createElement("b",null,e.ptitle)),o.a.createElement("div",null,o.a.createElement(q.a,{onFocus:function(){return i(t,null,e.apimethod)},placeholder:e.ptitle,filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())},dataSource:l[e.func_paramtitle],devaultValue:r[e.func_paramtitle],onChange:function(t){var n=r,o=l.find((function(e){return e.label===t}));n[e.func_paramtitle]=o,a(n)}},l&&l[t]?l[t].map((function(e){return o.a.createElement(s,{key:e.id+e.label,value:e.label},e.label)})):null)));default:return o.a.createElement("div",{key:e.ptitle+e.id},o.a.createElement("div",null,o.a.createElement("b",null,e.ptitle)),o.a.createElement(I.a,{style:{width:"30%"},onChange:function(t){var n=r;n[e.func_paramtitle]=t.target.value,a(n)},defaultValue:r[e.func_paramtitle],type:e.typename,placeholder:e.ptitle}))}}())})),o.a.createElement(h.a,{onClick:c,style:{marginTop:"10px"}},"Generate"))]})),Un=a(1230),Yn=function(e){var t=e.history,n=e.location;return o.a.createElement(Un.a,{status:"404",title:"404: Not found",subTitle:"".concat(n.pathname+n.search+n.hash),extra:o.a.createElement(h.a,{type:"primary",onClick:function(){return t.goBack()}},"Go Back")})},Kn=p.a.Header,Hn=p.a.Sider,Jn=p.a.Content,Bn=p.a.Footer;n.a=U((function(e){var t=e.user_detail,n=e.collapsed,a=e.custom_menu,r=e.menu_creator,c=e.menuCollapseStateSave;e.getMenu;return o.a.createElement(p.a,{className:"lay",style:{minHeight:"100vh"}},o.a.createElement(E.a,null,o.a.createElement("meta",{charset:"utf-8"})),a&&a.filter((function(e){return"Left Menu"===e.menutype})).length>0&&a.filter((function(e){return"Left Menu"===e.menutype}))[0].menu&&a.filter((function(e){return"Left Menu"===e.menutype}))[0].menu.length>0?o.a.createElement(Hn,{collapsible:!0,collapsed:n,onCollapse:function(e){c(e)}},!0===u.profile?o.a.createElement(f.a,{className:"profile"},o.a.createElement(m.a,{size:72,shape:"cyrcle",src:t.photo||null,icon:"user"}),o.a.createElement(f.a,null,o.a.createElement("span",{style:{color:"white"}},n?null:(t.fam||"")+" "+(t.im||""))),u.userorg?o.a.createElement(f.a,null,o.a.createElement(l.b,{to:u.userorg},n?o.a.createElement(d.a,{title:"org",type:"setting"}):t.orgname||"")):null):null,a&&v.a.find(a,(function(e){return"Left Menu"===e.menutype}))?o.a.createElement(y.a,{theme:"dark",mode:"vertical",inlineCollapsed:n,subMenuOpenDelay:.4},r(r,v.a.find(a,(function(e){return 1===e.id})).menu,!1)):null):null,o.a.createElement(p.a,null,o.a.createElement(Kn,{style:{padding:"0"}},a&&v.a.find(a,(function(e){return"Header Menu"===e.menutype}))?o.a.createElement(y.a,{mode:"horizontal"},r(r,v.a.find(a,(function(e){return 2===e.id})).menu,!1)):null),o.a.createElement(Jn,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/",component:Y,exact:!0}),o.a.createElement(i.a,{path:"/home",component:Y,exact:!0}),o.a.createElement(i.a,{path:"/login",component:vn,exact:!0}),o.a.createElement(i.a,{path:"/getone/:id_page",component:sn,exact:!0}),o.a.createElement(i.a,{path:"/list/:id",component:Nt,exact:!0}),o.a.createElement(i.a,{path:"/tiles/:id",component:Nt,exact:!0}),o.a.createElement(i.a,{path:"/composition/:id",component:_n,exact:!0}),o.a.createElement(i.a,{path:"/trees/:id",component:xn,exact:!0}),o.a.createElement(i.a,{path:"/report/:id",component:Rn}),o.a.createElement(i.a,{path:"/logout",component:On,exact:!0}),o.a.createElement(i.a,{component:Yn})),!0===localStorage.getItem("ischat")||"true"===localStorage.getItem("ischat")?o.a.createElement(l.b,{to:"/composition/chats"},o.a.createElement(d.a,{className:"dashboard__icon-chat",title:"Chat",type:"message",style:{fontSize:40,color:"#1890ff",position:"fixed",bottom:20,right:30}})):null),o.a.createElement(Bn,{style:{padding:"10px"}},a&&v.a.find(a,(function(e){return"Footer Menu"===e.menutype}))?o.a.createElement(y.a,null,r(r,v.a.find(a,(function(e){return 3===e.id})).menu,!1)):null)),o.a.createElement(g.a,null,o.a.createElement("div",{className:"ant-back-top-inner"},o.a.createElement(h.a,{type:"primary"},o.a.createElement(d.a,{type:"up-circle"})))))}))},629:function(e,t,n){"use strict";var a=n(147),r=n(607),o=n(239),l=n(69);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={custom_menu:[],usermenu:[],user_detail:{},isLogin:!0,collapsed:!1,open_keys:[],favorits_menu:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MENUAPP":return c({},e,{user_detail:t.user_detail,custom_menu:t.custom_menu,usermenu:t.usermenu,isLogin:t.status});case"GET_FAVORITS_MENU":return c({},e,{favorits_menu:t.payload});case"SET_LOGIN_STATUS":return c({},e,{isLogin:t.status});case"SET_OPEN_KEYS":return c({},e,{open_keys:t.keys});case"SET_COLLAPSE_STATUS":return c({},e,{collapsed:t.status});case"GET_CHAT_ID":return c({},e,{chatId:t.payload});case"IS_FIRST_ID":return c({},e,{is_first_id:t.status});case"IS_UNREADED_EXIST":return c({},e,{is_unreaded_exist:t.status});default:return e}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={isLoading:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADED":return m({},e,{isLoading:t.status});default:return e}};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={loading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATUS":return b({},e,{loading:t.payload});default:return e}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={getone:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GETONE":return j({},e,{getone:t.getone});default:return e}};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={viewtypes:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return P({},e,{},t.data);default:return e}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={isLoading:!1,data_form:{},data_comp:{}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMPOSITION_DATA":return A({},e,{isLoading:t.isLoading,data_form:t.data_form,data_comp:t.data_comp});default:return e}},L=Object(a.c)({router:o.routerReducer,helpers:E,user:p,loader:g,page:S,settings:x,composition:M}),z=function(e,t){return L(e,t)};n.d(t,"a",(function(){return U}));var R=Object(l.a)();var U=Object(a.d)(z,Object(a.a)(r.a,Object(o.routerMiddleware)(R)))},634:function(e,t,n){n(635),e.exports=n(811)},811:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),r=n(11),o=n.n(r),l=n(628),i=n(91),c=n(150),u=n(629),s=n(627),p=(n(1208),n(603),n(19)),f=n(626),m=n.n(f);n(305);o.a.render(a.a.createElement(l.a,{store:u.a},a.a.createElement(p.b,{locale:m.a},a.a.createElement(c.a,null,a.a.createElement(i.a,{component:s.a})))),document.getElementById("container")),e&&e.hot&&e.hot.accept()}.call(this,n(381)(e))},894:function(e,t,n){var a={"./af":406,"./af.js":406,"./ar":407,"./ar-dz":408,"./ar-dz.js":408,"./ar-kw":409,"./ar-kw.js":409,"./ar-ly":410,"./ar-ly.js":410,"./ar-ma":411,"./ar-ma.js":411,"./ar-sa":412,"./ar-sa.js":412,"./ar-tn":413,"./ar-tn.js":413,"./ar.js":407,"./az":414,"./az.js":414,"./be":415,"./be.js":415,"./bg":416,"./bg.js":416,"./bm":417,"./bm.js":417,"./bn":418,"./bn.js":418,"./bo":419,"./bo.js":419,"./br":420,"./br.js":420,"./bs":421,"./bs.js":421,"./ca":422,"./ca.js":422,"./cs":423,"./cs.js":423,"./cv":424,"./cv.js":424,"./cy":425,"./cy.js":425,"./da":426,"./da.js":426,"./de":427,"./de-at":428,"./de-at.js":428,"./de-ch":429,"./de-ch.js":429,"./de.js":427,"./dv":430,"./dv.js":430,"./el":431,"./el.js":431,"./en-SG":432,"./en-SG.js":432,"./en-au":433,"./en-au.js":433,"./en-ca":434,"./en-ca.js":434,"./en-gb":435,"./en-gb.js":435,"./en-ie":436,"./en-ie.js":436,"./en-il":437,"./en-il.js":437,"./en-nz":438,"./en-nz.js":438,"./eo":439,"./eo.js":439,"./es":440,"./es-do":441,"./es-do.js":441,"./es-us":442,"./es-us.js":442,"./es.js":440,"./et":443,"./et.js":443,"./eu":444,"./eu.js":444,"./fa":445,"./fa.js":445,"./fi":446,"./fi.js":446,"./fo":447,"./fo.js":447,"./fr":448,"./fr-ca":449,"./fr-ca.js":449,"./fr-ch":450,"./fr-ch.js":450,"./fr.js":448,"./fy":451,"./fy.js":451,"./ga":452,"./ga.js":452,"./gd":453,"./gd.js":453,"./gl":454,"./gl.js":454,"./gom-latn":455,"./gom-latn.js":455,"./gu":456,"./gu.js":456,"./he":457,"./he.js":457,"./hi":458,"./hi.js":458,"./hr":459,"./hr.js":459,"./hu":460,"./hu.js":460,"./hy-am":461,"./hy-am.js":461,"./id":462,"./id.js":462,"./is":463,"./is.js":463,"./it":464,"./it-ch":465,"./it-ch.js":465,"./it.js":464,"./ja":466,"./ja.js":466,"./jv":467,"./jv.js":467,"./ka":468,"./ka.js":468,"./kk":469,"./kk.js":469,"./km":470,"./km.js":470,"./kn":471,"./kn.js":471,"./ko":472,"./ko.js":472,"./ku":473,"./ku.js":473,"./ky":474,"./ky.js":474,"./lb":475,"./lb.js":475,"./lo":476,"./lo.js":476,"./lt":477,"./lt.js":477,"./lv":478,"./lv.js":478,"./me":479,"./me.js":479,"./mi":480,"./mi.js":480,"./mk":481,"./mk.js":481,"./ml":482,"./ml.js":482,"./mn":483,"./mn.js":483,"./mr":484,"./mr.js":484,"./ms":485,"./ms-my":486,"./ms-my.js":486,"./ms.js":485,"./mt":487,"./mt.js":487,"./my":488,"./my.js":488,"./nb":489,"./nb.js":489,"./ne":490,"./ne.js":490,"./nl":491,"./nl-be":492,"./nl-be.js":492,"./nl.js":491,"./nn":493,"./nn.js":493,"./pa-in":494,"./pa-in.js":494,"./pl":495,"./pl.js":495,"./pt":496,"./pt-br":497,"./pt-br.js":497,"./pt.js":496,"./ro":498,"./ro.js":498,"./ru":305,"./ru.js":305,"./sd":499,"./sd.js":499,"./se":500,"./se.js":500,"./si":501,"./si.js":501,"./sk":502,"./sk.js":502,"./sl":503,"./sl.js":503,"./sq":504,"./sq.js":504,"./sr":505,"./sr-cyrl":506,"./sr-cyrl.js":506,"./sr.js":505,"./ss":507,"./ss.js":507,"./sv":508,"./sv.js":508,"./sw":509,"./sw.js":509,"./ta":510,"./ta.js":510,"./te":511,"./te.js":511,"./tet":512,"./tet.js":512,"./tg":513,"./tg.js":513,"./th":514,"./th.js":514,"./tl-ph":515,"./tl-ph.js":515,"./tlh":516,"./tlh.js":516,"./tr":517,"./tr.js":517,"./tzl":518,"./tzl.js":518,"./tzm":519,"./tzm-latn":520,"./tzm-latn.js":520,"./tzm.js":519,"./ug-cn":521,"./ug-cn.js":521,"./uk":522,"./uk.js":522,"./ur":523,"./ur.js":523,"./uz":524,"./uz-latn":525,"./uz-latn.js":525,"./uz.js":524,"./vi":526,"./vi.js":526,"./x-pseudo":527,"./x-pseudo.js":527,"./yo":528,"./yo.js":528,"./zh-cn":529,"./zh-cn.js":529,"./zh-hk":530,"./zh-hk.js":530,"./zh-tw":531,"./zh-tw.js":531};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=894}});