!function(e){function t(t){for(var a,i,o=t[0],c=t[1],s=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);d.length;)d.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},l=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/build";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=c;l.push([651,1]),n()}({135:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="SET_STATUS",r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t({type:a,payload:e})}}},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"m",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"r",(function(){return E}));var a="GET_MENUAPP",r="SET_OPEN_KEYS",l="SET_LOGIN_STATUS",i="GET_FAVORITS_MENU",o="SET_COLLAPSE_STATUS",c="GET_CHAT_ID",s="IS_FIRST_ID",u="IS_UNREADED_EXIST",m=function(e){return function(t){t({type:a,user_detail:e.data.outjson.userdetail,usermenu:e.data.outjson.usermenu,custom_menu:e.data.outjson.menus,status:!0})}},d=function(){return function(e){e({type:a,user_detail:{},usermenu:[],custom_menu:[],status:!1,favorits_menu:[]})}},p=function(e){return function(t){t({type:l,status:e||!1})}},f=function(e){return function(t){t({type:r,keys:e||[]})}},h=function(){var e=JSON.parse(localStorage.getItem("allPages"));return function(t){t({type:i,payload:e||[]})}},g=function(e){return localStorage.setItem("allPages",JSON.stringify(e)),function(t){t({type:i,payload:e||[]})}},y=function(){var e=JSON.parse(sessionStorage.getItem("chat_id"));return function(t){t({type:c,payload:e||null})}},b=function(e){return sessionStorage.setItem("chat_id",JSON.stringify(e)),function(t){t({type:c,payload:e})}},v=function(e){return function(t){t({type:s,status:e||!1})}},E=function(e){return function(t){t({type:u,status:e||!1})}}},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="SET_SETTINGS",r=function(e){return function(t){t({type:a,data:e||{}})}}},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="SET_COMPOSITION_DATA",r=function(e){return function(t){t({type:a,isLoading:e.isLoading||!1,data_form:e.data_form||{},data_comp:e.data_comp||{}})}}},312:function(e,t,n){},358:function(e){e.exports=JSON.parse('{"api":{"url":"/","_url":"","ws":"/ws"},"chat":true,"profile":true,"userorg":"/getone/user_account"}')},644:function(t,n,a){"use strict";var r=a(0),l=a.n(r),i=a(95),o=a(266),c=a(23),s=a.n(c),u=(a(312),a(123)),m=a.n(u),d=a(362),p=a(1248),f=a(648),h=a(14),g=a(1257),y=a(184),b=a(68),v=a(28),E=a(4),O=a(21),j=a(91),w=a(1255),k=a(358),S=k,C=k.api,D=a(31),P=a.n(D),x=a(114),T=a.n(x),M=T.a.create({baseURL:C.url,timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),I=function(e,t){return M.get(e,{params:t||{}}).catch((function(e){throw w.a.error({message:"Ошибка",description:e.response.data.message||"Неопределенная ошибка"}),e.response}))},A=function(e,t){return M.get(e,{params:t||{}}).catch((function(e){throw e.response}))},L=function(e){var t=e.params||{};return M.post(e.url,e.data,{params:t})},z=function(e){return L(e).catch((function(e){throw w.a.error({message:"Ошибка",description:Un.searchByString(e,"response,data,message")||"Неопределенная ошибка"}),new Error("Ошибка")}))},F=function(e){return M.delete(e.url,{data:e.data}).catch((function(e){throw w.a.error({message:"Ошибка",description:Un.searchByString(e,"response,data,message")||"Неопределенная ошибка"}),new Error("Ошибка")}))};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var V=l.a.createElement("defs",null,l.a.createElement("style",null)),U=l.a.createElement("path",{d:"M392.533 443.733h34.134c10.24 0 17.066-6.826 17.066-17.066s-6.826-17.067-17.066-17.067h-34.134c-10.24 0-17.066 6.827-17.066 17.067s6.826 17.066 17.066 17.066zM631.467 409.6h-34.134c-10.24 0-17.066 6.827-17.066 17.067s6.826 17.066 17.066 17.066h34.134c10.24 0 17.066-6.826 17.066-17.066s-6.826-17.067-17.066-17.067z"}),R=l.a.createElement("path",{d:"M651.947 696.32c10.24-6.827 17.066-13.653 27.306-23.893l6.827-6.827 20.48-20.48c3.413-3.413 6.827-6.827 10.24-13.653 6.827-10.24 13.653-20.48 17.067-30.72 10.24-17.067 17.066-34.134 23.893-54.614 34.133 0 61.44-44.373 61.44-102.4 0-17.066-3.413-34.133-6.827-47.786 3.414-20.48 6.827-40.96 6.827-58.027s-6.827-30.72-10.24-47.787c-3.413-6.826-3.413-13.653-6.827-20.48l-17.066-153.6C774.827 51.2 709.973 0 634.88 0H382.293c-71.68 0-133.12 51.2-143.36 119.467L204.8 269.653c-3.413 13.654 0 30.72 3.413 44.374 3.414 10.24 3.414 17.066 3.414 23.893v20.48c0 13.653-3.414 23.893 0 37.547-3.414 13.653-6.827 30.72-6.827 47.786 0 58.027 27.307 102.4 61.44 102.4 17.067 58.027 44.373 105.814 78.507 139.947 6.826 6.827 13.653 13.653 20.48 17.067 3.413 3.413 6.826 3.413 6.826 6.826 6.827 3.414 13.654 6.827 20.48 13.654 3.414 3.413 10.24 3.413 13.654 6.826 6.826 3.414 10.24 6.827 17.066 6.827 6.827 3.413 13.654 3.413 20.48 6.827 3.414 0 10.24 3.413 13.654 3.413 10.24 3.413 23.893 3.413 37.546 3.413 54.614 0 105.814-20.48 153.6-54.613h3.414zM269.653 512h-3.413c-10.24 0-27.307-27.307-27.307-68.267 0-13.653 3.414-30.72 6.827-40.96v-10.24c-3.413-10.24 0-20.48 0-30.72V337.92c0-10.24-3.413-20.48-3.413-30.72 23.893 13.653 54.613 20.48 95.573 27.307h3.413c6.827 0 10.24-3.414 13.654-6.827 3.413-3.413 3.413-10.24 3.413-17.067-10.24-23.893-17.067-47.786-17.067-71.68 0-95.573 75.094-170.666 170.667-170.666s170.667 75.093 170.667 170.666c0 23.894-6.827 47.787-17.067 71.68-3.413 6.827-3.413 13.654 3.413 17.067 3.414 3.413 10.24 6.827 17.067 6.827 37.547-6.827 68.267-17.067 88.747-30.72 3.413 13.653 10.24 23.893 10.24 34.133 0 17.067-3.414 34.133-6.827 54.613v10.24c3.413 13.654 6.827 27.307 6.827 40.96C785.067 484.693 768 512 757.76 512h-3.413c-3.414-3.413-10.24-3.413-17.067 0-3.413 3.413-10.24 6.827-10.24 10.24-3.413 13.653-10.24 30.72-13.653 44.373l-194.56-88.746c-3.414-3.414-10.24-3.414-13.654 0L307.2 563.2c-6.827-13.653-10.24-27.307-13.653-44.373 0-6.827-3.414-10.24-10.24-10.24-3.414 0-10.24 0-13.654 3.413zm40.96 180.907c-3.413-3.414-10.24-6.827-17.066-3.414L184.32 727.04C81.92 764.587 3.413 884.053 3.413 1006.933 0 1017.173 6.827 1024 17.067 1024h460.8V781.653c-61.44-6.826-119.467-37.546-167.254-88.746zM829.44 727.04l-109.227-37.547c-6.826-3.413-13.653 0-17.066 3.414-54.614 58.026-119.467 88.746-191.147 92.16V1024h494.933c10.24 0 17.067-6.827 17.067-17.067 0-119.466-85.333-242.346-194.56-279.893zM768 887.467h-17.067v17.066c0 10.24-6.826 17.067-17.066 17.067s-17.067-6.827-17.067-17.067v-17.066h-17.067c-10.24 0-17.066-6.827-17.066-17.067s6.826-17.067 17.066-17.067H716.8v-17.066c0-10.24 6.827-17.067 17.067-17.067s17.066 6.827 17.066 17.067v17.066H768c10.24 0 17.067 6.827 17.067 17.067S778.24 887.467 768 887.467z"}),Y=l.a.createElement("path",{d:"M512 375.467c75.093 0 136.533-61.44 136.533-136.534S587.093 102.4 512 102.4s-136.533 61.44-136.533 136.533S436.907 375.467 512 375.467zm0-238.934c58.027 0 102.4 44.374 102.4 102.4s-44.373 102.4-102.4 102.4-102.4-44.373-102.4-102.4 44.373-102.4 102.4-102.4z"}),H=l.a.createElement("path",{d:"M477.867 238.933a34.133 34.133 0 1068.266 0 34.133 34.133 0 10-68.266 0z"});var B=function(e){return l.a.createElement("svg",N({className:"medic_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),V,U,R,Y,H)};function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var W=l.a.createElement("defs",null,l.a.createElement("style",null)),J=l.a.createElement("path",{d:"M426.667 725.333h42.666V768a42.667 42.667 0 0085.334 0v-42.667h42.666a42.667 42.667 0 000-85.333h-42.666v-42.667a42.667 42.667 0 00-85.334 0V640h-42.666a42.667 42.667 0 000 85.333zm384-469.333h-85.334v-42.667a128 128 0 00-128-128H426.667a128 128 0 00-128 128V256h-85.334a128 128 0 00-128 128v426.667a128 128 0 00128 128h597.334a128 128 0 00128-128V384a128 128 0 00-128-128zM384 213.333a42.667 42.667 0 0142.667-42.666h170.666A42.667 42.667 0 01640 213.333V256H384zm469.333 597.334a42.667 42.667 0 01-42.666 42.666H213.333a42.667 42.667 0 01-42.666-42.666V512h682.666zm0-384H170.667V384a42.667 42.667 0 0142.666-42.667h597.334A42.667 42.667 0 01853.333 384z"});var G=function(e){return l.a.createElement("svg",q({className:"medkit_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),W,J)};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Q=l.a.createElement("defs",null,l.a.createElement("style",null)),X=l.a.createElement("path",{d:"M874.667 147.2c-108.8-108.8-283.734-108.8-392.534 0L147.2 482.133c-108.8 108.8-108.8 283.734 0 392.534 53.333 53.333 125.867 81.066 196.267 81.066S486.4 928 539.733 874.667l334.934-334.934c106.666-108.8 106.666-283.733 0-392.533zm-364.8 697.6c-91.734 91.733-241.067 91.733-332.8 0s-91.734-241.067 0-332.8l151.466-151.467 332.8 330.667-151.466 153.6zM844.8 509.867L691.2 661.333 358.4 330.667l153.6-153.6c44.8-44.8 106.667-68.267 166.4-68.267s119.467 23.467 166.4 68.267c89.6 91.733 89.6 241.066 0 332.8z",fill:"#666"}),$=l.a.createElement("path",{d:"M558.933 211.2l-29.866 29.867c-8.534 8.533-8.534 21.333 0 29.866 4.266 4.267 10.666 6.4 14.933 6.4s10.667-2.133 14.933-6.4l29.867-29.866c21.333-21.334 53.333-34.134 83.2-34.134s61.867 12.8 83.2 34.134c8.533 8.533 21.333 8.533 29.867 0s8.533-21.334 0-29.867c-59.734-61.867-164.267-61.867-226.134 0zM452.267 326.4a32 32 0 1064 0 32 32 0 10-64 0z",fill:"#666"});var Z=function(e){return l.a.createElement("svg",K({className:"pill_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Q,X,$)};function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var te=l.a.createElement("defs",null,l.a.createElement("style",null)),ne=l.a.createElement("path",{d:"M522.624 1024c-41.173 0-74.667-33.493-74.667-74.667V650.667c0-41.174 33.494-74.667 74.667-74.667H608v-53.333C608 481.493 641.493 448 682.667 448h106.666C830.507 448 864 481.493 864 522.667V576h85.29c41.174 0 74.667 33.493 74.667 74.667v298.666c0 41.174-33.493 74.667-74.666 74.667H522.624zm0-384a10.667 10.667 0 00-10.667 10.667v298.666c0 5.888 4.779 10.667 10.667 10.667h426.667a10.667 10.667 0 0010.666-10.667V650.667A10.667 10.667 0 00949.291 640H522.624zM800 576v-53.333A10.667 10.667 0 00789.333 512H682.667A10.667 10.667 0 00672 522.667V576h128z"}),ae=l.a.createElement("path",{d:"M735.957 896a32 32 0 01-32-32v-32h-32a32 32 0 010-64h32v-32a32 32 0 0164 0v32h32a32 32 0 010 64h-32v32a32 32 0 01-32 32zm-416-128a32 32 0 01-32-32V482.133A256.427 256.427 0 0063.957 736a32.043 32.043 0 01-64-.043c.171-175.274 142.635-318.592 317.824-319.829a14.89 14.89 0 014.096 0 318.379 318.379 0 01123.691 25.557 31.787 31.787 0 0117.152 17.494 32 32 0 01-29.696 43.946 31.573 31.573 0 01-12.544-2.56 255.147 255.147 0 00-68.523-18.474V736a32 32 0 01-32 32z"}),re=l.a.createElement("path",{d:"M319.957 416a208.213 208.213 0 01-208-208 207.659 207.659 0 0129.227-105.813A208.981 208.981 0 01319.957 0C421.675 0 509.74 75.69 525.27 176.213a32 32 0 011.067 7.126c1.067 9.045 1.621 17.109 1.621 24.661a208.213 208.213 0 01-208 208zm-139.52-243.755A144.17 144.17 0 00319.957 352a144.213 144.213 0 00142.464-123.008A322.39 322.39 0 01379.435 240h-1.494a323.755 323.755 0 01-197.504-67.755zm30.251-57.77A263.339 263.339 0 00378.624 176h.256c26.71 0 52.907-4.053 78.123-12.032A144.896 144.896 0 00319.957 64c-42.112 0-82.005 18.645-109.269 50.475z"});var le=function(e){return l.a.createElement("svg",ee({className:"medic-medkit_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),te,ne,ae,re)};function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var oe=l.a.createElement("defs",null,l.a.createElement("style",null)),ce=l.a.createElement("path",{d:"M505.984 278.336c75.696 0 137.088-61.392 137.088-137.088S581.68 4.192 505.984 4.192c-75.712 0-137.12 61.376-137.12 137.056 0 75.696 61.392 137.088 137.12 137.088zM686.864 320.048H525.472v128l29.68 7.264v-29.68c0-19.28 17.568-36.784 49.632-15.232 45.168 30.448 93.792 203.392 41.056 196.576-25.456-3.248-39.84-15.6-67.872-17.168-22.768-1.168-22.768-10.96-22.8-23.84-.032-12.88 0-54.224 0-54.224v-23.04c-9.616-2.32-20.752-5.024-29.68-7.248v158.288s44.496-30.256 76.32-5.6c20.064 15.6 32.624 60.496-29.44 97.088-14.32 8.72-92.288 29.344-116.752-16.576h-27.6c-12.448 0-22.528 10.176-22.528 22.608s10.096 22.576 22.528 22.576h163.44c25.824 0 46.848 21.024 46.848 46.88s-21.024 46.848-46.848 46.848h-169.12c-5.76 0-10.496 4.72-10.496 10.56 0 5.792 4.736 10.496 10.496 10.496h169.12c25.824 0 46.848 21.024 46.848 46.88s-21.024 46.848-46.848 46.848H393.664c-10.032 0-18.176-8.112-18.176-18.176 0-10.016 8.144-18.176 18.176-18.176h197.792c5.76 0 10.496-4.704 10.496-10.496 0-5.808-4.736-10.544-10.496-10.544h-169.12c-25.824 0-46.848-21.04-46.848-46.848 0-25.856 21.024-46.912 46.848-46.912h169.12c5.76 0 10.496-4.704 10.496-10.496s-4.736-10.528-10.496-10.528h-163.44c-32.464 0-58.88-26.432-58.88-58.928 0-32.48 26.416-58.944 58.88-58.944h36.48c.24 0 .432.128.672.128h12.416c12.064 0 11.6-12.768 11.568-12.768V483.36c-10.256 2.848-22 6.112-29.648 8.224v20.144s.032 41.344 0 54.224c0 12.88-.096 22.672-22.8 23.856-28 1.568-42.384 13.92-67.904 17.168-52.72 6.8-4.064-166.128 41.008-196.592 32.048-21.568 49.696-4.064 49.696 15.232v32.256l29.648-8.192V320H334.864c-97.008 0-183.536 78.608-183.536 175.6v425.072c0 33.168 26.096 60.064 59.184 60.064 33.168 0 60-26.896 60-60.064V537.408h49.696v464.016h373.664V537.408h50.224v383.264c0 33.168 26.864 60.064 60.016 60.064s59.232-26.896 59.232-60.064V495.6c-.016-96.944-79.488-175.552-176.464-175.552z"});var se=function(e){return l.a.createElement("svg",ie({className:"i-internal-medicine_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),oe,ce)};function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var me=l.a.createElement("defs",null,l.a.createElement("style",null)),de=l.a.createElement("path",{d:"M791.996 611.26H634.218c-45.001 0-81.48 44.438-81.48 99.257v192.208L791.997 611.26l45.441 55.355-239.615 291.909-45.082-54.92v55.054H267.565c-45.001 0-81.479-44.433-81.479-99.253v-694.81c0-54.816 36.478-99.253 81.479-99.253h488.871c44.997 0 81.479 44.438 81.479 99.253V611.26h-45.919zm-463.322-49.634H450.89c11.248 0 20.37-11.107 20.37-24.809 0-13.707-9.122-24.814-20.37-24.814H328.674c-11.253 0-20.37 11.107-20.37 24.814 0 13.702 9.117 24.81 20.37 24.81zM695.326 214.23H328.674c-11.253 0-20.37 11.107-20.37 24.814 0 13.702 9.117 24.814 20.37 24.814h366.652c11.249 0 20.37-11.112 20.37-24.814 0-13.707-9.121-24.814-20.37-24.814zm0 148.882H328.674c-11.253 0-20.37 11.112-20.37 24.814 0 13.707 9.117 24.82 20.37 24.82h366.652c11.249 0 20.37-11.113 20.37-24.82 0-13.703-9.121-24.814-20.37-24.814z"});var pe=function(e){return l.a.createElement("svg",ue({className:"paper-report_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),me,de)};function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var he=l.a.createElement("defs",null,l.a.createElement("style",null)),ge=l.a.createElement("path",{d:"M984.423 1024H39.577V136.263h270.458v78.334H117.91v731.07h788.18v-731.07H713.965v-78.334h270.458V1024z"}),ye=l.a.createElement("path",{d:"M730.17 279.466H293.83V70.916h162.064v78.333h-83.731v51.884h279.674v-51.884h-82.923V70.916h161.257v208.55z"}),be=l.a.createElement("path",{d:"M647.32 135.32h-78.333a57 57 0 00-113.987 0h-78.333a135.333 135.333 0 01270.654 0zM255.078 426.477l256.71-1.21.37 78.334-256.71 1.21zm-1.712 228.476h511.59v78.333h-511.59z"});var ve=function(e){return l.a.createElement("svg",fe({className:"logs_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),he,ge,ye,be)};function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Oe=l.a.createElement("defs",null,l.a.createElement("style",null)),_e=l.a.createElement("path",{d:"M620.8 611.2C688 572.8 736 499.2 736 416c0-124.8-99.2-224-224-224s-224 99.2-224 224c0 83.2 44.8 156.8 115.2 195.2-89.6 35.2-156.8 115.2-179.2 211.2-3.2 16 6.4 35.2 25.6 38.4h6.4c16 0 28.8-9.6 32-25.6 22.4-105.6 115.2-182.4 224-182.4s201.6 76.8 224 182.4c3.2 16 19.2 28.8 38.4 25.6 16-3.2 28.8-19.2 25.6-38.4-22.4-96-89.6-176-179.2-211.2zM352 416c0-89.6 70.4-160 160-160s160 70.4 160 160-70.4 160-160 160-160-70.4-160-160zm640 214.4c-12.8-64-54.4-115.2-118.4-144 35.2-32 54.4-76.8 54.4-128 0-92.8-70.4-166.4-160-166.4-19.2 0-32 12.8-32 32s12.8 32 32 32c54.4 0 96 44.8 96 102.4 0 51.2-28.8 89.6-73.6 99.2-16 3.2-28.8 22.4-22.4 38.4 0 16 9.6 28.8 25.6 28.8C864 537.6 912 579.2 924.8 640c3.2 16 16 25.6 32 25.6h6.4c19.2 0 32-16 28.8-35.2zM252.8 499.2c6.4-19.2-6.4-35.2-22.4-41.6-41.6-9.6-70.4-48-70.4-99.2 3.2-57.6 41.6-102.4 96-102.4 19.2 0 32-12.8 32-32s-16-32-32-32c-89.6 0-156.8 70.4-156.8 166.4 0 51.2 19.2 96 51.2 128-60.8 28.8-105.6 80-118.4 144-3.2 16 6.4 35.2 25.6 38.4H64c16 0 28.8-9.6 32-25.6 12.8-60.8 60.8-102.4 131.2-115.2 16 0 25.6-12.8 25.6-28.8z",fill:"#666"});var je=function(e){return l.a.createElement("svg",Ee({className:"users-group_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Oe,_e)};function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ke=l.a.createElement("defs",null,l.a.createElement("style",null)),Se=l.a.createElement("path",{d:"M985.996 140H38.004C17.012 140 0 157.013 0 178v475h190.512l111.033-108.186A63.694 63.694 0 00331 552a63.845 63.845 0 0020.796-3.475l70.173 96.432A64.285 64.285 0 00421 656c0 35.347 28.654 64 64 64 34.771 0 63.045-27.733 63.957-62.285l188.259-186.383C752.354 479.413 769.641 484 788 484c59.646 0 108-48.354 108-108s-48.354-108-108-108-108 48.354-108 108c0 17.986 4.402 34.942 12.18 49.859l-176.004 174.25A63.689 63.689 0 00485 592a63.888 63.888 0 00-20.066 3.228l-70.724-97.187c.516-3.272.79-6.624.79-10.041 0-35.347-28.654-64-64-64-35.346 0-64 28.653-64 64 0 .365.021.726.027 1.09L164.488 589H64V230.995C64 217.743 74.746 207 87.995 207h848.01C949.257 207 960 217.749 960 230.995v493.01C960 737.257 949.254 748 936.005 748L128 748.068a32.316 32.316 0 00-2-.068c-17.673 0-32 14.327-32 32s14.327 32 32 32c.672 0 1.338-.027 2-.068V812h288v96H259.004C241.329 908 227 922.327 227 940c0 17.677 14.329 32 32.004 32h476.992C753.671 972 768 957.673 768 940c0-17.677-14.328-32-32.004-32H608v-96h377.996c20.992 0 38.004-17.013 38.004-38V178c0-20.985-17.015-38-38.004-38zM788 332c24.301 0 44 19.699 44 44s-19.699 44-44 44-44-19.699-44-44 19.699-44 44-44z"});var Ce=function(e){return l.a.createElement("svg",we({className:"monitoring_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),ke,Se)};function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Pe=l.a.createElement("defs",null,l.a.createElement("style",null)),xe=l.a.createElement("path",{d:"M335.63 888.226l-89.835 94.896c-21.51 21.51-55.673 22.775-78.448 1.266L16.78 841.41c-21.51-21.51-22.775-55.672-1.265-78.447l91.1-94.896 229.015 220.158zm61.998-523.825L134.45 638.966l60.733 58.203 198.65-207.506c6.326-6.326 16.448-6.326 24.04 0 6.326 6.327 6.326 16.449 0 24.04l-198.65 206.241 60.734 58.203 198.649-207.506c6.326-6.326 16.449-6.326 24.04 0 6.327 6.327 6.327 16.449 0 24.04L303.997 800.922l60.734 58.203 263.178-274.566 97.427-331.503L397.628 364.4zM587.42 541.54L441.913 402.359l141.711-51.877 49.346 46.816-45.55 144.242zm-480.806 39.223l182.2-189.792H44.615c-24.04 0-44.285 20.245-44.285 44.285v126.528c0 24.04 20.245 44.285 44.285 44.285h37.958c7.592-7.592 17.714-17.714 24.04-25.306zm940.103-189.792H746.845l-55.672 189.792c-2.53 10.123-6.326 20.245-7.592 25.306h363.136c24.04 0 44.284-20.244 44.284-44.285V435.256c0-24.04-20.244-44.285-44.284-44.285zm-489.664 36.694c1.266 1.265 2.53 1.265 3.796-1.266 0-2.53 0-2.53-2.53-2.53s-2.53 2.53-1.266 3.796zM1046.717 0H44.615C20.575 0 .33 20.244.33 44.285v126.528c0 24.04 20.245 44.285 44.285 44.285h603.539l36.693-12.653 41.754-13.918 69.59-24.04c11.388-3.796 17.714 2.53 15.184 13.917l-11.388 36.694h247.995c24.04 0 44.285-20.245 44.285-44.285V44.285C1091 20.245 1070.757 0 1046.717 0z"});var Te=function(e){return l.a.createElement("svg",De({className:"register_svg__icon",viewBox:"0 0 1093 1024",width:"1em",height:"1em"},e),Pe,xe)};function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ie=l.a.createElement("defs",null,l.a.createElement("style",null)),Ae=l.a.createElement("path",{d:"M803.413 762.07a384.597 384.597 0 0052.374-78.827c-70.614-13.334-99.99-64.598-110.934-150.934-.853-6.784-1.237-10.112-2.858-24.618-4.992-45.227-9.536-62.742-17.664-69.931-14.507-12.843-27.584-17.92-61.718-25.92l-2.453-.576c-59.904-14.08-91.093-31.253-121.323-80.64l-1.77-3.285c-33.6-72.832-2.88-150.486 59.264-190.059A385.323 385.323 0 00512 128a32 32 0 010-64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512a32 32 0 0164 0c0 71.467 19.52 138.39 53.547 195.69 7.978-8.96 16.512-17.493 25.877-25.663 43.861-38.294 97.13-61.227 161.003-61.227 70.208 0 112.277 22.187 164.394 74.07 1.494 1.493 25.856 26.24 33.216 33.365a342.613 342.613 0 0038.614 32.853c59.2 42.667 147.008 38.08 198.784.981zm-118.272 92.778c-41.557-3.136-82.88-16.597-117.909-41.813a404.63 404.63 0 01-45.696-38.827c-8.021-7.744-32.853-32.96-33.877-33.984-41.195-41.003-68.523-55.424-119.232-55.424-47.19 0-86.016 16.725-118.912 45.44a235.67 235.67 0 00-29.547 31.125A383.147 383.147 0 00512 896c62.293 0 121.13-14.827 173.141-41.173zm194.88-232.853C890.411 587.157 896 550.229 896 512c0-145.92-81.387-272.81-201.237-337.792a33.151 33.151 0 01-5.867.533c-72.021 0-120.107 65.408-94.443 124.118 19.072 30.506 36.267 39.744 80.384 50.112l2.411.576c43.904 10.304 64.747 18.346 89.515 40.298 25.344 22.443 31.85 47.595 38.848 110.806 1.557 14.122 1.92 17.28 2.73 23.594 8.384 66.219 23.979 93.12 71.68 97.75zM416 405.333c-35.968 38.678-67.627 69.334-94.955 92.032a64 64 0 01-82.304-.469c-26.666-22.656-57.834-53.163-93.568-91.563-83.861-90.154-74.794-196.053 0-270.826a191.51 191.51 0 01270.827 0c74.795 74.794 83.861 180.693 0 270.826zm-45.248-225.578a127.51 127.51 0 00-180.33 0c-53.889 53.909-55.489 120.597 1.62 181.973 34.134 36.715 63.617 65.557 88.129 86.379 24.96-20.736 54.741-49.558 88.96-86.358 57.109-61.397 55.509-128.085 1.621-181.973z"}),Le=l.a.createElement("path",{d:"M277.333 320a42.667 42.667 0 100-85.333 42.667 42.667 0 000 85.333z"});var ze=function(e){return l.a.createElement("svg",Me({className:"global_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Ie,Ae,Le)};function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ne=l.a.createElement("defs",null,l.a.createElement("style",null)),Ve=l.a.createElement("path",{d:"M146.571 49.951h200.724c41.53 0 75.105 33.505 75.105 75.108v224.419c0 41.5-33.636 75.107-75.105 75.107H146.571c-41.53 0-75.104-33.504-75.104-75.107v-224.42c0-41.499 33.636-75.107 75.104-75.107zM21.333 349.478c0 69.173 56.003 125.059 125.238 125.059h200.724c69.189 0 125.238-56.004 125.238-125.06V125.06C472.533 55.886 416.531 0 347.295 0H146.571C77.383 0 21.333 56.004 21.333 125.059v224.419zM146.571 599.415h200.724c41.53 0 75.105 33.504 75.105 75.107v224.42c0 41.499-33.636 75.107-75.105 75.107H146.571c-41.53 0-75.104-33.505-75.104-75.108V674.522c0-41.5 33.636-75.107 75.104-75.107zM21.333 898.94c0 69.173 56.003 125.059 125.238 125.059h200.724c69.189 0 125.238-56.004 125.238-125.059V674.522c0-69.173-56.002-125.059-125.238-125.059H146.571c-69.188 0-125.238 56.004-125.238 125.06V898.94zM998.933 149.854c13.844 0 25.067-11.182 25.067-24.976 0-13.794-11.223-24.976-25.067-24.976H572.8c-13.844 0-25.067 11.182-25.067 24.976 0 13.794 11.223 24.976 25.067 24.976h426.133zM998.933 274.732c13.844 0 25.067-11.182 25.067-24.976 0-13.794-11.223-24.976-25.067-24.976H572.8c-13.844 0-25.067 11.182-25.067 24.976 0 13.794 11.223 24.976 25.067 24.976h426.133zM998.933 399.61c13.844 0 25.067-11.182 25.067-24.976 0-13.794-11.223-24.975-25.067-24.975H572.8c-13.844 0-25.067 11.181-25.067 24.975 0 13.794 11.223 24.976 25.067 24.976h426.133zM998.933 674.341c13.844 0 25.067-11.181 25.067-24.975 0-13.794-11.223-24.976-25.067-24.976H572.8c-13.844 0-25.067 11.182-25.067 24.976 0 13.794 11.223 24.975 25.067 24.975h426.133zM998.933 799.22c13.844 0 25.067-11.182 25.067-24.976 0-13.794-11.223-24.976-25.067-24.976H572.8c-13.844 0-25.067 11.182-25.067 24.976 0 13.794 11.223 24.976 25.067 24.976h426.133zM998.933 924.098c13.844 0 25.067-11.182 25.067-24.976 0-13.794-11.223-24.976-25.067-24.976H572.8c-13.844 0-25.067 11.182-25.067 24.976 0 13.794 11.223 24.976 25.067 24.976h426.133z"});var Ue=function(e){return l.a.createElement("svg",Fe({className:"viewlist_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Ne,Ve)};function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ye=l.a.createElement("defs",null,l.a.createElement("style",null)),He=l.a.createElement("path",{d:"M358.4 0h636.344C1014.24 0 1024 11.376 1024 34.136v187.728c0 22.76-9.752 34.136-29.256 34.136H358.4c-19.504 0-29.256-11.376-29.256-34.136V34.136C329.144 11.376 338.896 0 358.4 0zm182.856 384h453.488c19.504 0 29.256 11.376 29.256 34.136v187.728c0 22.76-9.752 34.136-29.256 34.136H541.256C521.76 640 512 628.624 512 605.864V418.136c0-22.76 9.752-34.136 29.256-34.136zm0 384h453.488c19.504 0 29.256 11.376 29.256 34.136v187.728c0 22.76-9.752 34.136-29.256 34.136H541.256C521.76 1024 512 1012.624 512 989.864V802.136c0-22.76 9.752-34.136 29.256-34.136zM402.288 546.136c16.16 0 29.256-15.28 29.256-34.136 0-18.848-13.104-34.136-29.256-34.136H138.96V256h51.2c16.16 0 29.264-15.28 29.264-34.136V34.136C219.432 15.28 206.32 0 190.16 0H29.256C13.096 0 0 15.28 0 34.136v187.728C0 240.72 13.096 256 29.256 256h51.2v640c0 18.848 13.104 34.136 29.256 34.136h292.576c16.16 0 29.256-15.28 29.256-34.136 0-18.848-13.104-34.136-29.256-34.136H138.96V546.136h263.32z"});var Be=function(e){return l.a.createElement("svg",Re({className:"tree-table_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Ye,He)};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var We=l.a.createElement("defs",null,l.a.createElement("style",null)),Je=l.a.createElement("path",{d:"M896 85.333H128A42.667 42.667 0 0085.333 128v768A42.667 42.667 0 00128 938.667h768A42.667 42.667 0 00938.667 896V128A42.667 42.667 0 00896 85.333zm-298.667 768H170.667V554.667h426.666zm0-384H170.667V170.667h426.666zm256 384H682.667V170.667h170.666z"});var Ge=function(e){return l.a.createElement("svg",qe({className:"web-grid_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),We,Je)};function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Qe=l.a.createElement("defs",null,l.a.createElement("style",null)),Xe=l.a.createElement("path",{d:"M0 651.848c0 92.39 69.166 169.052 159.974 183.849l32.026 2.56h316.79l6.425-.886 316.795.886 32.02-2.56C954.835 820.9 1024 744.238 1024 651.847c0-81.177-53.432-150.25-128.046-175.85-2.698-160.769-137.774-290.259-303.944-290.259-119.854 0-223.508 67.354-273.034 165.238-23.409-25.134-57.293-40.96-94.996-40.96-70.703 0-128 55.67-128 124.273 0 17.92 3.911 34.959 10.89 50.36C43.566 515.098 0 578.539 0 651.848zm159.974-150.81l-15.36-40.264a57.825 57.825 0 01-5.401-24.53c0-33.418 33.792-83.087 86.81-83.087 18.201 0 39.516 9.078 51.711 21.975l50.038 34.77 42.542-56.74c48.174-71.818 129.444-121.2 221.092-121.2 129.254 0 256.84 123.202 258.883 246.364v43.658l45.01 12.052c50.739 17.08 84.766 63.028 84.766 114.315 0 59.438-60.887 133.913-122.23 143.687H515.119v.369h-6.426v-.369H194.237l-21.227-1.674c-61.348-9.779-129.116-82.53-129.116-141.972 0-46.485 39.608-120.96 116.08-147.354z"}),$e=l.a.createElement("path",{d:"M256 654.285h38.518l28.974-40.259h72.197l-1.009 40.259h35.538l2.54-182.17h-41.626L256 654.285zm140.436-70.58h-54.553l56.919-73.313-2.366 73.314zm266.112-91.52c-3.21-7.162-8.36-12.303-15.477-15.41-7.112-3.103-17.25-4.66-30.418-4.66h-74.061l-70.282 182.17h37.52l26.787-69.458h23.982c16.159 0 27.249-.41 33.29-1.25 10.348-1.397 18.75-3.46 25.19-6.159 6.431-2.678 12.693-6.64 18.801-11.847 6.088-5.223 11.7-12.18 16.789-20.88 5.1-8.699 8.448-17.643 10.07-26.839 1.752-9.948 1.03-18.509-2.19-25.666zm-35.87 28.765c-1.162 6.548-4.122 12.549-8.899 18.017-4.772 5.468-10.7 9.452-17.771 11.93-7.06 2.488-20.5 3.732-40.29 3.732h-11.56l20.331-52.562h26.839c12.18 0 19.912.635 23.22 1.93 3.281 1.28 5.657 3.318 7.1 6.144 1.45 2.822 1.793 6.426 1.03 10.809zm103.92-48.835l-70.282 182.17h37.52L768 472.115h-37.402z"});var Ze=function(e){return l.a.createElement("svg",Ke({className:"api-1_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Qe,Xe,$e)};function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var tt=l.a.createElement("defs",null,l.a.createElement("style",null)),nt=l.a.createElement("path",{d:"M926.661 62.631H97.341c-19.037 0-34.951 15.486-34.951 34.709v829.535c0 19.006 15.914 34.491 34.951 34.491h829.32c19.058 0 34.949-15.485 34.949-34.491V97.34c0-19.224-15.89-34.71-34.949-34.71zM292.196 892.275H131.833V824.5h51.347c19.196 0 34.708-15.752 34.708-34.869 0-19.113-15.512-34.599-34.708-34.599h-51.347V639.27h51.347c19.196 0 34.708-15.513 34.708-34.842 0-18.926-15.512-34.602-34.708-34.602h-51.347v-115.76h51.347c19.196 0 34.708-15.486 34.708-34.63 0-18.925-15.512-34.598-34.708-34.598h-51.347V269.074h51.347c19.196 0 34.708-15.27 34.708-34.868 0-18.872-15.512-34.356-34.708-34.356h-51.347v-68.017h160.363v760.442zm599.944 0H333.543V131.833H892.14v760.442zM471.538 713.12h282.419c11.48 0 21.051-9.597 21.051-21.104v-30.407c0-14.73-3.174-29.195-8.873-42.26-5.54-13.149-13.764-25.972-23.874-35.837-9.759-10.27-22.582-18.55-36.291-23.981l-4.895-2.206 3.763-3.199c23.257-23.091 37.638-55.972 37.638-91.782 0-35.62-14.381-68.204-37.638-91.243-23.604-23.58-56.402-38.23-92.185-38.23-35.81 0-68.15 14.65-91.326 38.23-23.71 23.04-38.281 55.623-38.281 91.243 0 35.81 14.57 68.692 38.281 91.782l2.825 3.2c-15.433 5.646-29.198 14.463-40.893 26.185-9.946 9.866-18.334 22.69-24.115 35.837-5.269 13.065-8.412 27.529-8.412 42.26v30.407c0 11.508 9.327 21.105 20.806 21.105zm78.746-313.039c15.914-16.05 38.23-25.754 62.37-25.754 24.545 0 46.644 9.704 62.748 25.754 15.727 15.914 25.673 37.935 25.673 62.263 0 24.545-9.946 46.673-25.673 62.802-15.887 15.271-37.127 25.298-61.457 25.54h-2.233c-24.089-.243-45.73-10.27-61.43-25.54-15.713-16.129-25.673-38.257-25.673-62.802 0-24.328 9.961-46.349 25.675-62.263zM492.32 661.609c0-9.301 1.775-18.497 5.296-25.996 3.12-8.873 8.416-16.264 15.029-23.121 12.42-12.26 30.136-20.35 49.52-20.35H664.15c9.289 0 18.134 2.23 26.522 5.432 8.226 3.656 15.7 8.627 22.368 14.918 6.197 6.857 11.48 14.25 15.056 23.121 3.306 7.5 5.293 16.695 5.293 25.996v9.815H492.321v-9.815z"});var at=function(e){return l.a.createElement("svg",et({className:"user-book_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),tt,nt)};function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var lt=l.a.createElement("defs",null,l.a.createElement("style",null)),it=l.a.createElement("path",{d:"M825.39 993.048H631.94c-21.925 0-38.69-16.766-38.69-38.69V606.146H438.488V786.7c0 14.187-11.607 25.794-25.794 25.794s-25.793-11.607-25.793-25.794V593.25c0-21.925 16.766-38.69 38.69-38.69h180.554c21.925 0 38.69 16.765 38.69 38.69V941.46h167.658V502.972c0-14.186 11.607-25.793 25.793-25.793s25.794 11.607 25.794 25.793v451.386c0 21.924-16.766 38.69-38.69 38.69z"}),ot=l.a.createElement("path",{d:"M412.695 993.048h-193.45c-10.318 0-20.635-3.87-27.084-11.607-7.738-7.738-11.607-16.766-11.607-27.083l1.29-462.993-152.182-1.29c-10.317 0-20.634-5.158-24.503-14.186-3.87-10.317-1.29-20.635 7.738-27.083L492.655 32.242c14.186-12.897 36.11-11.607 50.297 0l479.758 415.274c10.318 9.028 11.607 25.794 2.58 36.111-9.028 10.318-25.794 11.607-36.111 2.58L517.159 79.96 98.015 442.358h98.015c20.635 1.29 37.4 18.055 37.4 38.69l-1.289 460.413h180.554c14.187 0 25.794 11.607 25.794 25.793s-11.607 25.794-25.794 25.794z"});var ct=function(e){return l.a.createElement("svg",rt({className:"main_svg__icon",viewBox:"0 0 1031 1024",width:"1em",height:"1em"},e),lt,it,ot)};function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ut=l.a.createElement("defs",null,l.a.createElement("style",null)),mt=l.a.createElement("path",{d:"M247.893 85.333c-41.813 3.84-77.226 42.667-77.226 85.334v682.666c0 44.8 40.533 85.334 85.333 85.334h512c44.8 0 85.333-40.534 85.333-85.334V170.667A85.333 85.333 0 00768 85.333H512V384l-106.667-64-106.666 64V85.333h-50.774M512 554.667h42.667a42.667 42.667 0 0142.666 42.666V768h-42.666v-85.333H512V768h-42.667V597.333A42.667 42.667 0 01512 554.667m0 42.666V640h42.667v-42.667H512M640 640h128v42.667l-85.333 128H768v42.666H640v-42.666l85.333-128H640V640z"});var dt=function(e){return l.a.createElement("svg",st({className:"dictionary_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),ut,mt)};function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ft=l.a.createElement("defs",null,l.a.createElement("style",null)),ht=l.a.createElement("path",{d:"M1013.895 321.264L521.75 3.456a17.971 17.971 0 00-19.503 0L10.105 321.264a17.975 17.975 0 000 30.197l170.113 109.853a18.108 18.108 0 00-.288 3.129v207.914c0 40.154 36.77 76.372 103.533 101.985 61.33 23.527 142.49 36.486 228.536 36.486s167.21-12.958 228.54-36.486c66.763-25.613 103.532-61.831 103.532-101.985V464.443c0-1.07-.11-2.11-.29-3.129l59.938-38.705v332.968c-18.744 7.243-32.096 25.407-32.096 46.675 0 20.611 12.525 38.344 30.358 46.013l-34.859 153.194a17.977 17.977 0 003.475 15.2 17.973 17.973 0 0014.05 6.76h74.14c9.926 0 17.973-8.043 17.973-17.973 0-1.86-.281-3.656-.808-5.346l-34.55-151.835c17.834-7.668 30.358-25.4 30.358-46.012 0-21.268-13.352-39.432-32.096-46.676V399.396l74.23-47.935a17.973 17.973 0 000-30.197zm-92.204 495.11c-7.787 0-14.122-6.334-14.122-14.122 0-7.785 6.335-14.122 14.122-14.122s14.122 6.338 14.122 14.122c0 7.788-6.334 14.122-14.122 14.122zm-14.523 171.098l14.523-63.819 14.523 63.82h-29.046zm-99.045-315.115C808.123 720.85 686.51 774.88 512 774.88c-174.509 0-296.122-54.03-296.122-102.524V484.34l286.37 184.929a17.946 17.946 0 009.752 2.876 17.954 17.954 0 009.752-2.876l286.373-184.93v188.017zM512 632.777L52.987 336.361 512 39.949l459.014 296.413-459.014 296.414z"}),gt=l.a.createElement("path",{d:"M448.247 336.362c0 35.154 28.6 63.754 63.752 63.754 35.154 0 63.754-28.6 63.754-63.754 0-35.153-28.6-63.752-63.754-63.752-35.152 0-63.752 28.599-63.752 63.752zm91.56 0c0 15.333-12.475 27.807-27.808 27.807s-27.805-12.474-27.805-27.807c0-15.332 12.472-27.805 27.805-27.805s27.807 12.473 27.807 27.805z"});var yt=function(e){return l.a.createElement("svg",pt({className:"083-graduation_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),ft,ht,gt)};function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var vt=l.a.createElement("defs",null,l.a.createElement("style",null)),Et=l.a.createElement("path",{d:"M80.323 958.025c-9.185 1.696-17.167-6.446-15.288-15.597l48.29-235.25c1.288-6.275 9.037-8.6 13.566-4.07l197.13 197.123c4.581 4.581 2.144 12.422-4.228 13.598l-239.47 44.196zm585.878-815.323l218.519 218.5 57.325-57.321c22.49-22.488 22.49-58.95.001-81.439L804.973 85.372c-22.488-22.487-58.947-22.487-81.435 0l-57.337 57.33zm-282.376 719.38l451.918-451.895L617.23 191.672l-451.924 451.91 218.519 218.5z"});var Ot=function(e){return l.a.createElement("svg",bt({className:"pencil_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),vt,Et)};function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var jt=l.a.createElement("defs",null,l.a.createElement("style",null)),wt=l.a.createElement("path",{d:"M507.429 676.571l66.285-66.285-86.857-86.857-66.286 66.285v32h54.858v54.857h32zm251.428-411.428q-9.143-9.143-18.857.571l-200 200q-9.714 9.715-.571 18.857t18.857-.571l200-200q9.714-9.714.571-18.857zm45.714 339.428v108.572q0 68-48.285 116.286T640 877.714H164.571q-68 0-116.285-48.285T0 713.143V237.714q0-68 48.286-116.285T164.57 73.143H640q36 0 66.857 14.286 8.572 4 10.286 13.142 1.714 9.715-5.143 16.572l-28 28q-8 8-18.286 4.571-13.143-3.428-25.714-3.428H164.571q-37.714 0-64.571 26.857t-26.857 64.571v475.429q0 37.714 26.857 64.571t64.571 26.857H640q37.714 0 64.571-26.857t26.858-64.571v-72q0-7.429 5.142-12.572L773.143 592q8.571-8.571 20-4t11.428 16.571zm-54.857-421.714L914.286 347.43l-384 384H365.714V566.857zm253.715 75.429l-52.572 52.571-164.571-164.571 52.571-52.572q16-16 38.857-16t38.857 16l86.858 86.857q16 16 16 38.858t-16 38.857z"});var kt=function(e){return l.a.createElement("svg",_t({className:"pencil-square-o_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),jt,wt)};function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ct=l.a.createElement("defs",null,l.a.createElement("style",null)),Dt=l.a.createElement("path",{d:"M219.429 676.571v36.572q0 7.428-5.429 12.857t-12.857 5.429H164.57q-7.428 0-12.857-5.429t-5.428-12.857V676.57q0-7.428 5.428-12.857t12.857-5.428h36.572q7.428 0 12.857 5.428t5.429 12.857zm0-146.285v36.571q0 7.429-5.429 12.857t-12.857 5.429H164.57q-7.428 0-12.857-5.429t-5.428-12.857v-36.571q0-7.429 5.428-12.857T164.571 512h36.572q7.428 0 12.857 5.429t5.429 12.857zm0-146.286v36.571q0 7.429-5.429 12.858t-12.857 5.428H164.57q-7.428 0-12.857-5.428t-5.428-12.858V384q0-7.429 5.428-12.857t12.857-5.429h36.572q7.428 0 12.857 5.429T219.429 384zm658.285 292.571v36.572q0 7.428-5.428 12.857t-12.857 5.429H310.857q-7.428 0-12.857-5.429t-5.429-12.857V676.57q0-7.428 5.429-12.857t12.857-5.428H859.43q7.428 0 12.857 5.428t5.428 12.857zm0-146.285v36.571q0 7.429-5.428 12.857t-12.857 5.429H310.857q-7.428 0-12.857-5.429t-5.429-12.857v-36.571q0-7.429 5.429-12.857T310.857 512H859.43q7.428 0 12.857 5.429t5.428 12.857zm0-146.286v36.571q0 7.429-5.428 12.858t-12.857 5.428H310.857q-7.428 0-12.857-5.428t-5.429-12.858V384q0-7.429 5.429-12.857t12.857-5.429H859.43q7.428 0 12.857 5.429T877.714 384zm73.143 402.286V310.857q0-7.428-5.428-12.857t-12.858-5.429H91.43Q84 292.571 78.57 298t-5.428 12.857v475.429q0 7.428 5.428 12.857t12.858 5.428H932.57q7.429 0 12.858-5.428t5.428-12.857zM1024 164.57v621.715q0 37.714-26.857 64.571t-64.572 26.857H91.43q-37.715 0-64.572-26.857T0 786.286V164.57Q0 126.857 26.857 100T91.43 73.143H932.57q37.715 0 64.572 26.857T1024 164.571z"});var Pt=function(e){return l.a.createElement("svg",St({className:"list-alt_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Ct,Dt)};function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Tt=l.a.createElement("defs",null,l.a.createElement("style",null)),Mt=l.a.createElement("path",{d:"M562.361 449.561c-24.182 0-43.809 19.58-43.836 43.734l-.435 379.837-112.91-105.383c-17.647-16.47-45.305-15.517-61.775 2.13s-15.517 45.304 2.13 61.774l178.156 166.279c21.85 20.394 56.097 20.412 77.967 0l178.156-166.279c17.647-16.47 18.6-44.127 2.13-61.774-16.47-17.647-44.128-18.6-61.775-2.13L605.133 875.116V493.3c0-24.157-19.642-43.74-43.786-43.74h1.014zm311.785 262.244c117.246 0 212.293-95.047 212.293-212.293 0-89.455-49.951-174.83-134.916-197.234-84.965-22.406-72.756-18.805-72.756-18.805s2.07 16.089-7.52-58.765c-9.588-74.854-83.271-137.293-165.686-137.293-23.716 0-46.288 4.897-66.76 13.735l-36.564 21.629-38.665-49.781C518.387 27.89 456.012 0 387.122 0 249.186 0 137.366 111.82 137.366 249.756c0 16.876 1.673 33.36 4.864 49.297C59.41 327.997 0 406.817 0 499.513 0 612.565 88.371 704.98 199.805 711.804h193.473c24.187 0 43.795-19.594 43.795-43.654 0-24.11-19.574-43.65-43.623-43.643l-188.301.046c-65.936-4.039-117.734-58.808-117.734-125.042 0-53.516 33.978-100.578 83.654-117.939l24.712-8.636c25.938-9.065 42.71-38.36 37.301-65.376l-5.138-25.667a163.524 163.524 0 01-3.164-32.138c0-89.659 72.683-162.341 162.342-162.341 58.113 0 110.798 30.71 139.879 79.87l25.106 42.442c14.068 23.78 43.045 29.24 64.807 12.337l38.944-30.248c14.14-10.982 31.348-16.987 49.703-16.987 44.83 0 81.17 36.342 81.17 81.171 0 5.16-.47 10.214-1.393 15.14l-10.21 54.494c-5.074 27.08 13.149 49.033 40.702 49.028l55.442-.009c71.582-.011 127.752 55.633 127.752 124.86 0 68.967-55.91 124.877-124.878 124.877l-181.174.045c-24.083.005-43.606 19.615-43.606 43.69 0 24.124 19.554 43.68 43.606 43.68h181.174z"});var It=function(e){return l.a.createElement("svg",xt({className:"cloud-download_svg__icon",viewBox:"0 0 1087 1024",width:"1em",height:"1em"},e),Tt,Mt)};function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Lt=l.a.createElement("defs",null,l.a.createElement("style",null)),zt=l.a.createElement("path",{d:"M566.92 964.413l-.474-483.555-123.45 115.22c-19.293 18.007-49.532 16.964-67.54-2.33-18.008-19.293-16.965-49.532 2.329-67.54L572.568 344.41c23.89-22.297 61.334-22.317 85.245 0l194.783 181.798c19.294 18.008 20.337 48.247 2.33 67.54-18.008 19.294-48.247 20.337-67.541 2.33L661.612 478.688v485.717c0 26.412-21.475 47.823-47.873 47.823-25.33 0-46.788-21.408-46.818-47.816zM955.734 778.24c128.19 0 232.107-103.918 232.107-232.107 0-97.805-54.613-191.146-147.508-215.643-92.896-24.496-79.547-20.56-79.547-20.56s2.263 17.591-8.22-64.25C942.08 163.84 861.52 95.574 771.412 95.574c-25.929 0-50.608 5.354-72.99 15.017l-39.977 23.648-42.274-54.427C566.77 30.494 498.572 0 423.253 0c-150.81 0-273.066 122.256-273.066 273.067 0 18.45 1.83 36.473 5.318 53.897C64.955 358.61 0 444.786 0 546.134 0 669.738 96.62 770.777 218.453 778.24h211.531c26.445 0 47.883-21.422 47.883-47.728 0-26.36-21.401-47.723-47.695-47.717l-205.876.05c-72.09-4.415-128.723-64.296-128.723-136.712 0-58.51 37.15-109.965 91.463-128.946l27.018-9.443c28.36-9.91 46.696-41.94 40.783-71.477l-5.618-28.063a178.787 178.787 0 01-3.459-35.137c0-98.027 79.466-177.494 177.493-177.494 63.538 0 121.14 33.578 152.934 87.325l27.45 46.404c15.38 26 47.062 31.969 70.855 13.488l42.58-33.071c15.459-12.008 34.273-18.572 54.341-18.572 49.014 0 88.747 39.733 88.747 88.746 0 5.642-.514 11.168-1.524 16.554l-11.163 59.58c-5.547 29.607 14.376 53.609 44.501 53.604l60.616-.01c78.263-.012 139.677 60.825 139.677 136.512 0 75.406-61.128 136.534-136.534 136.534l-198.083.048c-26.331.007-47.677 21.447-47.677 47.768 0 26.376 21.38 47.757 47.677 47.757h198.083z"});var Ft=function(e){return l.a.createElement("svg",At({className:"cloud-upload_svg__icon",viewBox:"0 0 1188 1024",width:"1em",height:"1em"},e),Lt,zt)};function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Vt=l.a.createElement("defs",null,l.a.createElement("style",null)),Ut=l.a.createElement("path",{d:"M63.792 555.887l896.416-448.209-169.945 676.048-330.554-104.581L754.78 318.71 373.802 652.999l-310.01-97.112zM448.504 731.436l108.317 31.747-84.04 153.138-24.277-184.885z"});var Rt=function(e){return l.a.createElement("svg",Nt({className:"plane_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),Vt,Ut)};function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ht=l.a.createElement("path",{d:"M764.776 302.78c-25.796 0-50.534 3.807-74.004 10.784V74.004H488.213L503.437 0H189.66l14.378 74.004H0V1024h690.772V810.446c23.47 6.978 48.208 10.784 74.004 10.784C908.554 821.23 1024 703.458 1024 562.005c.211-141.664-115.234-259.224-259.224-259.224zM451 43.346l-21.778 104.662H263.665L244 43.345H451zm196.215 937.099H43.556V117.56h168.729l14.378 74.004h237.446l15.224-74.004h167.882v213.554c-57.088 29.39-101.913 79.29-124.749 139.55H102.548v43.345h407.443c-2.96 15.646-4.44 31.504-4.44 47.996 0 28.122 4.652 55.186 12.898 80.559H102.548v43.556h434.93c24.95 45.46 63.22 82.884 109.737 106.777v187.547zm117.56-204.885c-119.885 0-215.667-98.108-215.667-215.668 0-117.772 98.107-215.668 215.668-215.668 119.886 0 215.668 98.108 215.668 215.668.211 117.56-95.782 215.668-215.668 215.668z",fill:"#2c2c2c"}),Bt=l.a.createElement("path",{d:"M102.548 300.455H590.55v43.557H102.548v-43.557zM102.548 812.56H590.55v43.557H102.548v-43.556zM631.992 538.113h268.105v43.556H631.992v-43.556z",fill:"#2c2c2c"});var qt=function(e){return l.a.createElement("svg",Yt({className:"error-list_svg__icon",width:"1em",height:"1em",viewBox:"0 0 1025 1024"},e),Ht,Bt)};function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Jt=l.a.createElement("defs",null,l.a.createElement("style",null)),Gt=l.a.createElement("path",{d:"M1204.473 428.465L778.72 584.03c-21.189 7.67-42.726 32.422-42.726 54.89v356.104c0 22.467 22.39 34.437 43.501 26.496l425.327-158.897c21.111-7.941 34.747-32.733 34.747-55.2V455.232c0-22.468-13.907-34.515-35.096-26.767zM424.978 138.987L136.972 244.66c-20.065 7.321-23.9 25.566-8.677 40.48l107.92 105.557c15.34 14.913 43.889 20.336 63.606 12.163l292.46-121.865c19.679-8.174 22.468-26.186 6.12-39.938l-107.338-90.41c-16.308-13.79-46.058-19.02-66.085-11.66z"}),Kt=l.a.createElement("path",{d:"M628.423 302.765c-6.005 5.578-12.9 10.497-21.267 13.945l-292.5 121.904c-10.768 4.493-22.699 6.779-35.404 6.779-.736 0-1.356-.194-2.053-.194-25.876-.194-51.21-10.343-68.138-26.845l-75.11-71.546s-56.478 13.907-56.478 63.722v97.306c0 21.266 25.372 46.91 44.276 56.826l575.508 299.434V638.92c0-41.603 34.67-79.138 68.177-91.302l204.219-74.606-341.23-170.247z"}),Qt=l.a.createElement("path",{d:"M38.737 507.797v-97.306c0-51.094 36.373-80.61 66.162-94.091l-3.68-3.564c-17.006-16.58-24.172-38.04-19.679-58.88 4.455-20.84 19.833-37.496 42.068-45.631l288.045-105.712c10.304-3.796 21.731-5.694 33.894-5.694 20.725 0 41.371 5.772 58.028 15.572V29.13c0-22.467-13.907-34.514-35.095-26.767L42.726 157.89C21.538 165.6 0 190.351 0 212.818v356.105c0 22.468 22.39 34.437 43.501 26.496l36.103-13.48c-20.686-17.819-40.867-44.625-40.867-74.142z"});var Xt=function(e){return l.a.createElement("svg",Wt({className:"bed_svg__icon",viewBox:"0 0 1240 1024",width:"1em",height:"1em"},e),Jt,Gt,Kt,Qt)};function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Zt=l.a.createElement("defs",null,l.a.createElement("style",null)),en=l.a.createElement("path",{d:"M1073.714 544q0 17.714-17.714 37.714L864 808q-24.571 29.143-68.857 49.429t-82 20.285H91.429q-19.429 0-34.572-7.428t-15.143-24.572Q41.714 828 59.43 808l192-226.286q24.571-29.143 68.857-49.428t82-20.286H1024q19.429 0 34.571 7.429T1073.714 544zm-196-196.571v91.428H402.286q-53.715 0-112.572 27.143T196 534.286L3.429 760.57.57 764q0-2.286 2.858-7.143t2.857-7.143V201.143q0-52.572 37.714-90.286t90.286-37.714h182.857q52.571 0 90.286 37.714t37.714 90.286v18.286H756q52.571 0 90.286 37.714T884 347.429z"});var tn=function(e){return l.a.createElement("svg",$t({className:"folder-open_svg__icon",viewBox:"0 0 1074 1024",width:"1em",height:"1em"},e),Zt,en)};function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var an=l.a.createElement("defs",null,l.a.createElement("style",null)),rn=l.a.createElement("path",{d:"M944.38 720.735c0 16.308-13.512 29.819-29.819 29.819h-89.458c0 65.695-53.115 119.277-119.277 119.277-65.695 0-119.277-53.582-119.277-119.277H407.633c0 65.695-53.116 119.277-119.277 119.277-66.162 0-119.277-53.582-119.277-119.277H109.44c-16.308 0-29.819-13.512-29.819-29.819s13.512-29.819 29.819-29.819V497.091c0-16.308 9.318-39.138 20.967-50.786l92.253-92.254c11.648-11.648 34.479-20.967 50.786-20.967h74.549V183.987c0-16.308 13.512-29.819 29.819-29.819h536.747c16.308 0 29.819 13.512 29.819 29.819v536.748zM347.994 512V392.723h-73.617c-2.795.466-7.92 2.33-10.25 4.193l-90.855 90.856c-1.398 2.329-3.728 7.454-4.193 10.25V512h178.915zm-59.639 178.916c-33.081 0-59.639 26.558-59.639 59.639s26.558 59.639 59.639 59.639 59.639-26.558 59.639-59.639-26.557-59.639-59.639-59.639zm536.748-342.922c0-8.387-6.523-14.91-14.91-14.91H705.825V228.717c0-8.387-6.523-14.91-14.91-14.91h-89.457c-8.387 0-14.91 6.523-14.91 14.91v104.367H482.181c-8.387 0-14.909 6.523-14.909 14.91v89.458c0 8.387 6.522 14.909 14.909 14.909h104.367v104.367c0 8.387 6.523 14.91 14.91 14.91h89.457c8.387 0 14.91-6.523 14.91-14.91V452.361h104.367c8.387 0 14.91-6.522 14.91-14.909v-89.458zM705.825 690.916c-33.081 0-59.639 26.558-59.639 59.639s26.558 59.639 59.639 59.639 59.639-26.558 59.639-59.639-26.558-59.639-59.639-59.639z"});var ln=function(e){return l.a.createElement("svg",nn({className:"ambulance_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),an,rn)};function on(){return(on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var cn=l.a.createElement("path",{d:"M392.526 38.439c-16.077-16.076-37.451-24.93-60.187-24.93s-44.11 8.854-60.187 24.93L19.295 291.297c-25.727 25.727-25.727 67.587 0 93.314 12.863 12.863 29.76 19.295 46.657 19.295 16.896 0 33.793-6.432 46.656-19.295l199.146-199.146c18.247-18.247 18.247-47.937 0-66.185-18.247-18.247-47.938-18.247-66.185 0l-127.94 127.939c-3.905 3.905-3.905 10.237 0 14.143s10.238 3.905 14.142 0l127.94-127.939c10.448-10.449 27.451-10.449 37.899 0 10.449 10.449 10.449 27.451 0 37.9L98.467 370.469c-17.929 17.928-47.101 17.929-65.03 0-8.685-8.685-13.468-20.232-13.468-32.515s4.783-23.83 13.468-32.515L286.294 52.582c12.299-12.299 28.651-19.072 46.045-19.072s33.746 6.773 46.044 19.072c25.389 25.389 25.389 66.7 0 92.089L196.731 326.323c-3.905 3.905-3.905 10.237 0 14.143s10.237 3.905 14.143 0l181.652-181.652c33.186-33.188 33.186-87.188 0-120.375z"});var sn=function(e){return l.a.createElement("svg",on({viewBox:"0 0 417.416 417.416",width:"1em",height:"1em"},e),cn)};function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var mn=l.a.createElement("defs",null,l.a.createElement("style",null)),dn=l.a.createElement("path",{d:"M440.264 649.085H171.256c3.723-64.18 89.408-54.836 101.299-88.113.998-11.395.629-19.337.629-29.752-4.973-2.716-14.219-19.966-15.713-34.545-3.922-.323-10.037-4.272-11.854-19.912-.98-8.391 2.887-13.104 5.216-14.579-13.167-52.794-5.936-98.879 54.314-100.039 15.02 0 26.595 4.173 31.118 12.429 43.944 6.359 30.732 67.761 24.41 87.609 2.329 1.475 6.188 6.188 5.225 14.579-1.825 15.64-7.951 19.589-11.862 19.912-1.52 14.579-10.397 31.83-15.353 34.545 0 10.415-.369 18.357.612 29.752 11.908 33.277 97.251 23.932 100.965 88.113zM870.731 451.812c0 9.938-8.05 17.988-17.988 17.988H529.934c-9.938 0-17.988-8.05-17.988-17.988 0-9.929 8.05-17.988 17.988-17.988h322.809c9.938 0 17.988 8.059 17.988 17.988zM870.731 541.482c0 9.938-8.05 17.988-17.988 17.988H529.934c-9.938 0-17.988-8.05-17.988-17.988 0-9.929 8.05-17.988 17.988-17.988h322.809c9.938 0 17.988 8.059 17.988 17.988zM870.731 631.152c0 9.938-8.05 17.988-17.988 17.988H529.934c-9.938 0-17.988-8.05-17.988-17.988 0-9.929 8.05-17.988 17.988-17.988h322.809c9.938 0 17.988 8.059 17.988 17.988z"}),pn=l.a.createElement("path",{d:"M960.409 290.409v502.157c0 29.689-24.167 53.856-53.856 53.856h-71.744c-9.929 0-17.988-8.059-17.988-17.988 0-9.938 8.059-17.988 17.988-17.988h71.744c9.857 0 17.88-8.023 17.88-17.88V290.409c0-9.857-8.023-17.88-17.88-17.88H512c-9.938 0-17.988-8.05-17.988-17.988v-35.867c0-9.857-8.023-17.88-17.88-17.88H117.446c-9.857 0-17.88 8.022-17.88 17.88v573.892c0 9.857 8.023 17.88 17.88 17.88h89.624v-53.748c0-9.938 8.05-17.988 17.988-17.988h71.736c9.929 0 17.988 8.05 17.988 17.988 0 9.929-8.059 17.988-17.988 17.988h-53.748v53.748c0 9.929-8.059 17.988-17.988 17.988H117.445c-29.689 0-53.856-24.166-53.856-53.856V218.674c0-29.698 24.166-53.856 53.856-53.856h358.686c29.698 0 53.856 24.158 53.856 53.856v17.88h376.566c29.689 0 53.856 24.158 53.856 53.856z"}),fn=l.a.createElement("path",{d:"M816.929 756.697c0 9.929-8.05 17.988-17.988 17.988h-53.748v53.748c0 9.929-8.05 17.988-17.988 17.988H332.661c-9.938 0-17.988-8.059-17.988-17.988 0-9.938 8.05-17.988 17.988-17.988h376.557v-53.748c0-9.938 8.059-17.988 17.988-17.988h71.736c9.938 0 17.988 8.05 17.988 17.988z"});var hn=function(e){return l.a.createElement("svg",un({className:"card_svg__icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},e),mn,dn,pn,fn)};function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var yn=l.a.createElement("path",{d:"M495.6 434.7L383 236.2l-2.7-100.1h4.3c11.3 0 20.4-9.1 20.4-20.4 0-11.3-9.1-20.4-20.4-20.4H219.4c-11.3 0-20.4 9.1-20.4 20.4 0 11.3 9.1 20.4 20.4 20.4h4.3l-2.9 100.4-33.8 59.7V51.7h6c11.3 0 20.4-9.1 20.4-20.4 0-11.3-9.1-20.4-20.4-20.4H31.6c-11.3 0-20.4 9.1-20.4 20.4 0 11.3 9.1 20.4 20.4 20.4h6v290c0 41.2 33.5 74.7 74.7 74.7 2.2 0 4.5-.1 6.7-.3l-10.6 18.6c-7.4 13-7.3 28.5.2 41.4 8.9 15.2 26.5 24.7 46.1 24.7h294.6c19.6 0 37.2-9.5 46.1-24.7 7.5-12.9 7.6-28.4.2-41.4zm-349.4-383v116.6H78.4V51.7h67.8zm-67.8 290V209.1h67.8v132.6c0 18.7-15.2 33.9-33.9 33.9-18.7-.1-33.9-15.3-33.9-33.9zM449.3 460H154.7c-7.4 0-10.8-3.9-10.8-5.1l112.5-198.1c3.4-6 5.3-12.7 5.5-19.4l2.8-101.2h74.8l2.8 101.2c.2 6.7 2.1 13.4 5.5 19.4l112.7 198.4c-.4.9-3.8 4.8-11.2 4.8z"});var bn={medic:B,medkit:G,pill:Z,"medic-medkit":le,"internal-medicine":se,"paper-report":pe,logs:ve,"users-group":je,monitoring:Ce,register:Te,global:ze,viewlist:Ue,"tree-table":Be,"web-grid":Ge,"api-1":Ze,"user-book":at,main:ct,dictionary:dt,"graduation-cap":yt,pencil:Ot,"pencil-square-o":kt,"list-alt":Pt,"cloud-download":It,"cloud-upload":Ft,plane:Rt,"error-list":qt,bed:Xt,"folder-open":tn,ambulance:ln,card:hn,clip:sn,chemistry:function(e){return l.a.createElement("svg",gn({viewBox:"0 0 512 512",width:"1em",height:"1em"},e),yn)}},vn=a(96),En=a(364),On=a(104),_n=a(187),jn=a(1252),wn=a(101),kn=a(1238),Sn=a(90);function Cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tn=f.a.TextArea,Mn=vn.a.Option,In=En.a.SubMenu,An=function(e){z({url:"api/saveusersettings",data:JSON.stringify({settings:e})}).then((function(e){})).catch((function(e){console.log("ERR IN usersettings SAVE",e)}))},Ln=function(e){var t=_.find([{fa:"fa fa-arrow-left",type:"back",icon:"arrow-left"},{fa:"fa fa-edit",icon:"edit"},{fa:"fa fa-plus",icon:"plus"},{fa:"fa fa-trash",icon:"delete"},{fa:"fa fa-times",icon:"close"},{fa:"fa fa-pie-chart",icon:"pie-chart"},{fa:"fa fa-download",icon:"download"},{fa:"fa fa-eye",icon:"eye"},{fa:"fa fa-pencil",icon:"cn_pencil"},{fa:"fa fa-graduation-cap",icon:"cn_graduation-cap"},{fa:"fa fa-pencil-square-o",icon:"cn_pencil-square-o"},{fa:"fa fa-print",icon:"printer"},{fa:"fa fa-list",icon:"unordered-list"},{fa:"fa fa-list-alt",icon:"cn_list-alt"},{fa:"fa fa-check",icon:"check"},{fa:"fa fa-file-text-o",icon:"file-text"},{fa:"fa fa-paper-plane",icon:"cn_plane"}],(function(t){return t.fa===e}));return t?t.icon:e};function zn(e,t,n){if((e=e||{})[0]&&(e=e[0]),n||(n={}),t&&0!==t.length){var a=!0;return t.forEach((function(t){if(">"===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]>t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]>t.value)&&a;else if("==="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key].toString()===t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value].toString()===t.value)&&a;else if("<"===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]<t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]<t.value)&&a;else if("!=="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key].toString()!==t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value].toString()!==t.value)&&a;else if(">="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]>=t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]>=t.value)&&a;else if("<="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]<=t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]<=t.value)&&a;else if("===null"===t.operation.js)a=(null===e[t.col.key]||void 0===e[t.col.key])&&a;else if("!==null"===t.operation.js)a=null!==e[t.col.key]&&void 0!==e[t.col.key]&&a;else if("indexOf"===t.operation.js)a=!!(e[t.col.key]&&-1!==e[t.col.key].indexOf(t.value)||n[t.col.value]&&-1!==n[t.col.value].indexOf(t.value))&&a;else if("likeOr"===t.operation.js){var r=t.value.split(",");if(_.isEmpty(r))return a=!1;var l=function(e){var t=!1,n=[];return[e].forEach((function(e){r.forEach((function(t){var a=e.includes(t);n.push(a)}))})),n.find((function(e){return!0===e}))&&(t=!0),t};a=!!(e[t.col.key]&&l(e[t.col.key])||n[t.col.value]&&l(n[t.col.value]))&&a}else"in"===t.operation.js?a=t.value.split(",").filter((function(n){return e[t.col.key]&&n===e[t.col.key].toString()})).length>0&&a:"not in"===t.operation.js?a=0===t.value.split(",").filter((function(n){return e[t.col.key]&&n===e[t.col.key].toString()})).length&&a:"contain"===t.operation.js&&(a="object"===xn(e[t.col.key])&&(e[t.col.key]||[]).filter((function(e){return e==t.value})).length>0)})),a}return!0}var Fn=function(e,t,n,a,r){var l=t.parametrs,i=(t.paramtype,"");if(l){var o=l.filter((function(e){return"link"===e.query_type}));o.length>0&&(i="/"),o.forEach((function(t,o){if(t.paramcolumn)i+=e[(_.find(n,(function(e){return e.title===t.paramcolumn.value}))||{}).key]+"/";else if(t.paraminput)i+=a[t.paraminput]+"/";else{var c=t.paramconst;"_checked_"===c&&(c=JSON.stringify(r||[])),i+=c+"/"}l.length!==o+1&&(i+="&")}));var c=l.filter((function(e){return"query"===e.query_type}));c.length>0&&(i+="?"),c.forEach((function(t,o){if(!t.paramt||"sample"===t.paramt){if(t.paramcolumn)i+=t.paramtitle+"="+e[(_.find(n,(function(e){return e.title===t.paramcolumn.value}))||{}).key];else if(t.paraminput)i+=t.paramtitle+"="+a[t.paraminput];else{var c=t.paramconst;"_checked_"===c&&(c=JSON.stringify(r||[])),i+=t.paramtitle+"="+c}l.length!==o+1&&(i+="&")}}))}return i};function Nn(e,t,n,a,r){e&&e[0]&&(e=e[0]);var l="";return-1===t.act.indexOf("?")&&(l="?"),t.parametrs&&t.parametrs.forEach((function(t){if(t.paramcolumn){var i=t.paramcolumn;l+=t.paramtitle+"="+(e[(_.find(n,(function(e){return e.title===i.value||e.fn&&e.title===i.value}))||{}).key]||a[(_.find(n,(function(e){return e.title===i.value}))||{}).title])+"&"}else if(t.paraminput)l+=t.paramtitle+"="+a[t.paraminput]+"&";else{var o=t.paramconst;"_checked_"===o&&(o=JSON.stringify(r||[])),l+=(t.paramtitle?t.paramtitle+"=":"")+o+"&"}})),l=l.substring(0,l.length-1)}function Vn(e,t,n,a,r){var l={};return e.parametrs&&e.parametrs.map((function(e){if(!e.paramt||"simple"===e.paramt)if(e.paramcolumn)a&&a[0]&&(l[e.paramtitle]=a[0][(n.filter((function(t){return t.col===e.paramcolumn.label||t.title===e.paramcolumn.value}))[0]||{}).key]),!l[e.paramtitle]&&a&&(l[e.paramtitle]=a[(n.filter((function(t){return t.col===e.paramcolumn.label||t.title===e.paramcolumn.value}))[0]||{}).key]),l[e.paramtitle]||(l[e.paramtitle]=t[e.paramcolumn.value]);else if(e.paraminput)l[e.paramtitle]=t[e.paraminput];else{var i=e.paramconst;"_checked_"===i&&(i=JSON.stringify(r||[])),l[e.paramtitle]=i}})),l}var Un={parseJSON:function(e){var t=[];return function e(t,n,a){t.forEach((function(t,r){setTimeout;var l=Un.nanoid();t.name=l,t.parent=n;var i=Un.omit(["content"],t);a.push(i),t.content&&e(t.content,l,a)}))}(e,null,t),t},nanoid:function(e){e=e||21;for(var t="";0<e--;)t+="ObjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz"[64*Math.random()|0];return t},omit:function(e,t){for(var n=Object.assign({},t),a=0;a<e.length;a++)delete n[e[a]];return n},searchByString:function(e,t){if(!t)return e;for(var n=t.split(","),a=0,r=n.length-1;a<r;a++){var l=e[n[a]];if(!l)break;e=l}return e[n[a]]},render:function(e,t,n,a,r){if(Array.isArray(e)&&e.length>0)return _.filter(e,(function(e){if(e.parent===t)return!0})).map((function(t,i){var o,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),s=c.params,u=c.mods||{},m=!0;if(void 0!==u.visible&&(_.isObject(u.visible)?(m=Array.isArray(u.visible.value)?!!_.find(u.visible.value,(function(e){return e===n[u.visible.data]})):n[u.visible.data]===u.visible.value,u.visible.reverse&&(m=!m)):m=u.visible),c.parent===c.name)return alert("LOOP! "+c.name),!1;c.binding&&(o=Un.searchByString(n,c.binding),c.binding.split(",").length>1&&(c.binding=c.binding.split(",")[c.binding.split(",").length-1]));var d=!1;if(s.disabled)if(_.isObject(s.disabled)){if(s.disabled.d_data)switch(s.disabled.d_val){case"notnull":n[s.disabled.d_data]&&(d=!0);break;default:n[s.disabled.d_data]===s.disabled.d_val&&(d=!0)}else d=!0;s.disabled.d_flip&&(d=!d)}else d=!0;if(m)switch(c.block){case"button":return l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24},l.a.createElement("label",null," ")),l.a.createElement(On.a,{span:24},l.a.createElement(b.a,{type:s.type||"default",className:s.css||"",onClick:s.f_onClick},s.label||"Button")));case"div":return l.a.createElement("div",{key:i+c.name,className:s.css||""},Un.render(e,c.name,n,a,r));case"row":return l.a.createElement(_n.a,{gutter:s.gutter||0,style:s.style||{},key:i+c.name},Un.render(e,c.name,n,a,r));case"col":return l.a.createElement(On.a,{key:i+c.name,style:s.style||{},span:s.span||24},Un.render(e,c.name,n,a,r));case"input":switch(c.type){case"text":return l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24},l.a.createElement("label",null,s.label)),l.a.createElement(On.a,{span:24},l.a.createElement(f.a,{placeholder:s.placeholder||"...",value:o||"",disabled:!!s.disabled,onChange:function(e){s.max&&(e.target.maxLength=s.max,e.target.value.length===s.max&&w.a.open({message:"Поставлена максимальное значение",description:"".concat(s.max," символов"),icon:l.a.createElement(h.a,{type:"warning"})})),n[c.binding]=e.target.value,a(n,c)}})));case"number":return l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24},l.a.createElement("label",null,s.label)),l.a.createElement(On.a,{span:24},l.a.createElement(jn.a,{style:{width:"100%"},placeholder:s.placeholder||"...",value:o||"",disabled:!!s.disabled,min:_.isNumber(s.min)?s.min:-1/0,max:s.max||1/0,onChange:function(e){"number"==typeof e?(n[c.binding]=e,a(n,c)):null===e&&(n[c.binding]=null,a(n,c))}})));case"textarea":return l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24},l.a.createElement("label",null,s.label)),l.a.createElement(On.a,{span:24},l.a.createElement(Tn,{placeholder:s.placeholder||"...",value:o||"",disabled:!!s.disabled,onChange:function(e){n[c.binding]=e.target.value,a(n,c)},autosize:s.autosize||{minRows:4}})))}break;case"select":var p,g=[];return _.isString(s.data)&&(g=r[s.data]?Cn(r[s.data]):[]),s.labelInValue?(p=[],o&&Array.isArray(o)&&o.forEach((function(e){var t=e;t.key=e[s.api_id],p.push(t)}))):p=o,"multiple"===s.mode?s.labelInValue?(p=[],o&&Array.isArray(o)&&o.forEach((function(e){var t=e;t.key=e[s.api_id],p.push(t)}))):(p=[],o&&Array.isArray(o)&&o.forEach((function(e){p.push(e[s.api_text]||"error")}))):s.labelInValue?(o?o.key=o[s.api_text]||Un.nanoid(5):Un.nanoid(5),p=o||[]):p=o,l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24},l.a.createElement("label",null,s.label)),l.a.createElement(On.a,{span:24},_.isArray(g)?l.a.createElement(vn.a,{onFocus:s.funcs&&s.funcs.onFocus||null,disabled:d||!1,labelInValue:s.labelInValue||!1,mode:s.mode||"default",showSearch:s.showSearch||!1,value:p,placeholder:s.placeholder,style:{width:"100%"},onDeselect:function(e){"multiple"===s.mode&&(s.labelInValue?n[c.binding]=_.filter(p,(function(t){return t.key!==e.key})):n[c.binding]=_.filter(p,(function(t){return t!==e})),a(n,t))},onSelect:function(e,r){var l=r.props.item[s.api_id];"multiple"===s.mode?s.labelInValue?Array.isArray(n[c.binding])?n[c.binding].push(r.props.item):n[c.binding]=[r.props.item]:n[c.binding]=l:n[c.binding]=s.labelInValue?r.props.item:l,a(n,t,n[c.binding])},filterOption:function(e,t){return!!t.props.value&&t.props.item[s.api_text].toLowerCase().indexOf(e.toLowerCase())>=0}},g.length>0?g.map((function(e,t){return l.a.createElement(Mn,{key:e.key||t,item:e,value:e.key?e.key+"⋈"+e[s.api_id]:e[s.api_id]},l.a.createElement("div",null,e[s.api_text||"text"]),l.a.createElement("div",{style:{fontSize:12,color:"grey"}},e[s.item_path]))})):null):"select is incorrect"));case"checkbox":return l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24}," "),l.a.createElement(On.a,{span:24},l.a.createElement(wn.a,{placement:"topLeft",title:s.placeholder||""},l.a.createElement(y.a,{checked:o||!1,onChange:function(e){n[c.binding]=e.target.checked,a(n,c)}},s.label))));case"span":return l.a.createElement(On.a,{span:24,key:i+c.name},l.a.createElement(On.a,{span:24},s.label||"&nbsp;"),l.a.createElement(On.a,{span:24},function(){switch(c.type){case"icon":var e=n[c.binding]?Ln(n[c.binding]).split("_"):"";return n[c.binding]?"cn"===e[0]?l.a.createElement(h.a,{component:bn[e[1]]}):l.a.createElement(h.a,{type:Ln(n[c.binding])}):l.a.createElement(h.a,{type:""});default:return l.a.createElement("span",null,n[c.binding])}}()))}}))}},Rn=function(e,t,n,a,r){var l="";l=t.isforevery?Fn(e,t,n,a):Nn(e,t,n,a),r.push(t.act+l)},Yn=function(e,t,n,a,r,l,i){var o=t.act;t.actapimethod&&"simple"!==t.actapimethod?"mdlp"===t.actapimethod&&function(e,t,n,a,r,l,i){var o=document.location.href.split("//")[1],c=o="http://"+(o=o.split("/")[0])+"::1119/",s={},u={};I("/api/marksettings",{}).then((function(r){var o=r.data.outjson;(s.user_id=o.user_id,o.thumbprint)?new Promise((function(r){t.parametrs.forEach((function(t){t.paramcolumn?s[t.paramtitle]=e[n.filter((function(e){return e.col===t.paramcolumn.label}))[0].title]||a[n.filter((function(e){return e.col===t.paramcolumn.label}))[0].title]||i[n.filter((function(e){return e.col===t.paramcolumn.label}))[0].title]||i[0][n.filter((function(e){return e.col===t.paramcolumn.label}))[0].title]:s[t.paramtitle]=t.paramconst,t.paramt&&"mdlpsign"===t.paramt&&mdlp.signRequest(window.btoa(s[t.paramtitle]),o.thumbprint).then((function(e){s[t.paramtitle]=e,r(s)})).catch((function(){w.a.error({message:"Ошибка",description:"Ошибка подписи параметра"})}))}))})).then((function(e){"GET"===t.actapitype&&(u=e),T()({method:"POST",url:c+"auth",data:{client_id:o.client_id,user_id:o.user_id,auth_type:"SIGNED_CODE",client_secret:o.client_secret},params:{},withCredentials:!0}).then((function(n){var a=n.data.code;mdlp.signRequest(window.btoa(a),o.thumbprint).then((function(n){T()({method:"POST",url:c+"token",data:{code:a,signature:n},params:{},withCredentials:!0}).then((function(){T()({method:t.actapitype,url:t.act,data:e,params:u,withCredentials:!0}).then((function(){t.actapirefresh&&l(l)}),(function(e){e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:"unknown error!"})}))}),(function(e){e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:"unknown error!"})}))})).catch((function(){w.a.error({message:"Ошибка",description:"Ошибка подписи"})}))}),(function(e){e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:"unknown error!"})}))})).catch((function(){w.a.error({message:"Ошибка",description:"Ошибка параметров"})})):w.a.error({message:"Ошибка",description:"Не удалось определить сертификат пользователя, авторизуйтесь через ЭЦП!"})}))}(e,t,n,a,0,l,i):function(){var r={};switch("GET"===t.actapitype?o+=Fn(t,e,n,a):r=Vn(t,e,n,i),t.actapitype){case"GET":I(o,r).then((function(e){l(l)}));break;case"POST":z({url:o,data:r}).then((function(e){l(l)}))}}()},Hn=function(e,t,n,a,r,l){var i=e[_.find(n,(function(e){return"id"===e.col.toLowerCase()&&!e.relation})).title];F({url:"/api/deleterow",data:{tablename:a,id:i,viewid:r}}).then((function(e){w.a.success({message:"Удалено",description:""}),l(l)}))},Bn=function(){return function(e,t,n){var a="label",r="to",i="icon";if(Array.isArray(t))return t.length>0?t.map((function(t,n){var o=t[i]?Ln(t[i]).split("_"):"";return t.childs&&t.childs>0?l.a.createElement(In,{key:t.id||n+"user",title:l.a.createElement("span",null,t[i]?"cn"===o[0]?l.a.createElement(h.a,{component:bn[o[1]]}):l.a.createElement(h.a,{type:Ln(t[i])}):l.a.createElement(h.a,{type:""}),l.a.createElement("span",null,t.istitle?t[a]:null),t.ws?l.a.createElement("b",{style:{color:"blue"}}," "+t.notif_count):null)},e(e,t.items||[],t.childs>0)):l.a.createElement(En.a.Item,{key:t.id||n+"user"},l.a.createElement(Sn.Link,{to:t[r],title:t[a]},t[i]?"cn"===o[0]?l.a.createElement(h.a,{component:bn[o[1]]}):l.a.createElement(h.a,{type:Ln(t[i])}):l.a.createElement(h.a,{type:""}),l.a.createElement("span",null,t.istitle?t[a]:null),t.ws?l.a.createElement("b",{style:{color:"blue"}}," "+t.notif_count):null))})):null}};function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gn,Kn=Object(E.a)(Object(v.b)((function(e){return{isLogin:e.user.isLogin}}),(function(e){return{getMenu:function(t){return e(Object(O.k)(t))},set_login_status:function(t){return e(Object(O.p)(t))},set_loading:function(t){return e(Object(j.b)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{legacy:!0,ecp:{},arr_scp:[]}:t;return{legacy:n.legacy,select_scp:n.ecp,sertificats:n.arr_scp}}),{set_state:function(e){return function(t){var n=Wn({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}},setTypeLogin:function(e){return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.sertificats;return Wn({},e,{legacy:t,sertificats:n})}},onSelectSert:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wn({},e,{select_scp:t})}}}),Object(E.d)("login","changeLogin",""),Object(E.d)("password","changePassword",""),Object(E.c)({handleGetMenu:function(e){e.form;var t=e.getMenu,n=(e.set_loading,e.set_login_status);I("api/menu").then((function(e){t(e),n(!0)})).catch((function(e){n(!1)}))},onECP:function(e){var t=e.sertificats,n=void 0===t?[]:t,a=e.legacy,r=void 0===a||a,l=e.set_state,i=e.setTypeLogin;return function(){l({ready:!1}),_.isEmpty(n)?authorize?authorize.ecpInit().then((function(e){i(!r,e.certs)})).catch((function(e){w.a.error({message:"Ошибка",description:e.status||"Модуль недоступен"}),l({ready:!0})})):(w.a.error({message:"Ошибка",description:"Модуль недоступен"}),l({ready:!0})):i(!r)}}}),Object(E.c)({handleSubmit:function(e){var t=e.form,n=e.legacy,a=e.select_scp,r=e.set_login_status;return function(e){e.preventDefault(),!0===n?t.validateFields((function(e,t){e||L({url:"auth/auth_f",data:JSON.stringify({login:t.username,pass:t.password})}).then((function(){r(!0),location.href="/"})).catch((function(e){Un.searchByString(e,"response,data,message"),w.a.error({message:"Ошибка авторизации",description:Un.searchByString(e,"response,data,message")||"Непредвиденная ошибка"})}))})):L({url:"/auth/auth_crypto",data:JSON.stringify(a)}).then((function(){r(!0),location.href="/"})).catch((function(e){Un.searchByString(e,"response,data,message"),w.a.error({message:"Ошибка авторизации",description:Un.searchByString(e,"response,data,message")||"Непредвиденная ошибка"})}))}}}),Object(E.b)({componentDidMount:function(){var e=this.props.set_loading;document.title="Авторизация",document.getElementsByTagName("body")[0].classList.add("login_bckg"),e(!1)}})),Qn=(d.a.TabPane,"Авторизация"),Xn={visible:!0,title:"Помнить меня"},$n={visible:!0,title:"Восстановить аккаунт"},Zn=p.a.create({name:"normal_login"})(Kn((function(e){var t=e.legacy,n=e.sertificats,a=e.select_scp,r=e.onSelectSert,i=e.onECP,o=e.handleSubmit,c=e.form,s=(e.setTypeLogin,e.set_state,e.ready),u=void 0===s||s,m=c.getFieldDecorator;return l.a.createElement("div",{className:"tilt-in-fwd-tr login "+(t?"":"ecp_form_login")},l.a.createElement("div",{className:"login_title"},l.a.createElement("span",null,Qn)),l.a.createElement("div",{className:"login_fields"},l.a.createElement(p.a,{onSubmit:o,className:"login-form"},t?[l.a.createElement(p.a.Item,{key:"s1"},m("username",{rules:[{message:"Please input your username!"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),l.a.createElement(p.a.Item,{key:"s2"},m("password",{rules:[{message:"Please input your Password!"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})))]:[l.a.createElement(p.a.Item,{key:"s1",className:"sertificat_block"},m("certificat",{rules:[{message:"Please select your certificat!"}]})(l.a.createElement(g.a,{size:"small",dataSource:n,renderItem:function(e){return l.a.createElement(g.a.Item,{key:e.id,className:"item_select_sert "+(e.thumbprint===a.thumbprint?"active":""),onClick:function(){return r(e)}},l.a.createElement(g.a.Item.Meta,{title:e.sname,description:e.valid}))}})))],l.a.createElement(p.a.Item,null,Xn.visible?m("remember",{valuePropName:"checked",initialValue:!0})(l.a.createElement(y.a,{style:{color:"#afb1be"}},Xn.title||"Remember me")):null,Xn.visible?l.a.createElement("a",{className:"login-form-forgot",href:""},$n.title||"Forgot password"):null),l.a.createElement(p.a.Item,null,l.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Войти"),l.a.createElement("span",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,l.a.createElement("span",{style:{color:"#afb1be"}},"Или ")),l.a.createElement(b.a,{style:{margin:"7px 0"},size:"small",type:"dashed",ghost:!0,disabled:!u,onClick:i},t?"Вход по ЭЦП":"Вход по паролю"))))))}))),ea=a(1239),ta=a(1251),na=a(1240),aa=a(1245),ra=a(254);function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oa=Object(E.a)(Object(v.b)((function(e){return{loading:e.helpers.loading,isLogin:e.user.isLogin,user_detail:e.user.user_detail,collapsed:e.user.collapsed,custom_menu:e.user.custom_menu,open_keys:e.user.open_keys,chatId:e.user.chatId}}),(function(e){return{getMenu:function(t){return e(Object(O.k)(t))},set_loading:function(t){return e(Object(j.b)(t))},set_login_status:function(t){return e(Object(O.p)(t))},set_settings:function(t){return e(Object(ra.b)(t))},set_open_keys:function(t){return e(Object(O.q)(t))},get_favorits_menu:function(){return e(Object(O.j)())},set_first_id:function(t){return e(Object(O.o)(t))},set_chat_id:function(t){return e(Object(O.m)(t))},set_unreaded_status:function(t){return e(Object(O.r)(t))},get_chat_id:function(){return e(Object(O.i)())}}})),Object(E.e)((function(e){var t=e.inState;return{otherLocation:(void 0===t?{otherLocation:!1}:t).otherLocation}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return s.a.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({menu_creator:Bn,handlerOpenChange:function(e){e.custom_menu;var t=e.open_keys,n=e.set_open_keys;return function(e){var a=e.find((function(e){return-1===t.indexOf(e)}));n(e?[a]:[])}},handleGlobalWS:function(e){var t=e.getMenu;return function(){var e=document.location.href.split("//")[1];e="ws://"+(e=e.split("/")[0])+"/global_ws";var n=new WebSocket(e);n.onopen=function(){n.send(JSON.stringify({}))},n.onmessage=function(e){JSON.parse(e.data).forEach((function(e){w.a.success({message:e.message})})),A("api/menus").then((function(e){t(e),localStorage.setItem("usersettings",JSON.stringify(e.data.outjson.userdetail.usersettings)),localStorage.setItem("homepage",JSON.stringify(e.data.outjson.homepage))})).catch((function(e){alert("err menus"),console.log("err menus:",e)}))}}},handleChatWS:function(e){var t=e.set_chat_id,n=e.set_unreaded_status,a=e.chatId,r=e.history,i=(e.location,e.otherLocation),o=e.set_state;return function(){var e=document.location.href.split("//")[1];e="ws://"+(e=e.split("/")[0])+"/chats",(Gn=new WebSocket(e)).onopen=function(){Gn.send(JSON.stringify({}))},Gn.onmessage=function(e){var c=JSON.parse(e.data);c.forEach((function(e){return e.key=Un.nanoid()})),c.length>0&&(n(!0),c.map((function(e){(i||e.id!==a)&&(o({otherLocation:!1}),e.messages.map((function(n){w.a.open({icon:l.a.createElement(h.a,{type:"notification"}),style:{backgroundColor:"#bafdaf"},duration:7,key:e.id,placement:"bottomRight",message:l.a.createElement("div",null,l.a.createElement("div",null,"Новое сообщение ",l.a.createElement("span",null,l.a.createElement("b",null,"(",e.title,")"))),l.a.createElement("div",{className:"notif__chat"},l.a.createElement("div",null,l.a.createElement(na.a,{size:42,className:"chat__avatar",icon:"user",src:C._url+n.photo[0].uri})),l.a.createElement("div",{className:"notif__content"},l.a.createElement("div",{className:"notif__login"},n.login),l.a.createElement("div",null,n.message_text.length>100?n.message_text.split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e.slice(0,100).concat("..."),l.a.createElement("br",null))})):n.message_text)))),onClick:function(){t(e.id),r.push("/chat"),w.a.close(e.id)}}),e.messages.forEach((function(e){I("api/dialog_notif_setsended",{id:e.id})}))})))})))}}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.handleChatWS,n=e.get_chat_id,a=e.handleGlobalWS;n(),t(),a()},componentWillMount:function(){var e=this.props.get_favorits_menu;document.getElementsByTagName("body")[0].classList.remove("login_bckg"),e()},componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=t.set_first_id,r=t.location,l=t.handleChatWS,i=t.set_chat_id;t.handleGlobalWS;e.chatId!==n&&(Gn.close(),l()),n&&"/chat"===e.location.pathname&&"/chat"===r.pathname&&""===r.hash&&a(!0),"/chat"!==r.pathname&&(a(!0),i(null))}})),ca=Object(E.a)(Object(v.b)((function(e){return{isLogin:e.user.isLogin,usermenu:e.user.usermenu,menu_app:e.user.menu_app,open_keys:e.user.open_keys}}),(function(e){return{getMenu:function(t){return e(Object(O.k)(t))},set_loading:function(t){return e(Object(j.b)(t))},set_login_status:function(t){return e(Object(O.p)(t))},set_open_keys:function(t){return e(Object(O.q)(t))}}})),Object(E.d)("selectedKeys","changeSelectedKeys",[]),Object(E.c)({menu_creator:Bn,handlerOpenChange:function(e){var t=e.open_keys,n=e.set_open_keys;return function(e){var a=e.find((function(e){return-1===t.indexOf(e)}));n(e?[a]:[])}}}));function sa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ua=Object(E.a)(Object(v.b)((function(e){return{isLogin:e.user.isLogin,custom_menu:e.user.custom_menu,favorits_menu:e.user.favorits_menu}}),(function(e){return{set_favorits_menu:function(t){return e(Object(O.n)(t))}}})),Object(E.c)({handlerDeleteButton:function(e){var t=e.favorits_menu,n=e.set_favorits_menu;return function(e){var a=t,r=a.findIndex((function(t){return t===e})),l=a.slice(0,r),i=a.slice(r+1,a.length);a=[].concat(sa(l),sa(i)),n(a)}}})),ma=a(1250),da=a(1241);function pa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fa=ea.a.Header,ha=ma.a.Title,ga=Object(E.a)(Object(v.b)((function(e){return{favorits_menu:e.user.favorits_menu}}),(function(e){return{set_favorits_menu:function(t){return e(Object(O.n)(t))}}})),Object(E.d)("menu","changeMenu",[]),Object(E.d)("usermenu","changeUsermenu",[]),Object(E.d)("colorIcon","changeColorIcon","outlined"),Object(E.c)({menu_creator:Bn,handlerToggleFavorit:function(e){var t=e.favorits_menu,n=e.set_favorits_menu,a=e.colorIcon,r=e.changeColorIcon;return function(){var e=t,l=location.pathname+location.search+location.hash;if(e=e||[],"outlined"===a)l!==e.find((function(e){return e===l}))&&e.push({path:l,title:""}),r("filled");else{var i=e.findIndex((function(e){return e.path===l})),o=e.slice(0,i),c=e.slice(i+1,e.length);e=[].concat(pa(o),pa(c)),r("outlined")}n(e)}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.changeColorIcon,n=e.favorits_menu;null===n&&(function(e){throw new Error('"'+e+'" is read-only')}("favorits_menu"),n=[]);var a=location.pathname+location.search+location.hash,r=n.find((function(e){return e.path===a}));a===(r?r.path:null)&&t("filled")}}))((function(e){var t=e.children,n=e.extra,a=e.title,r=e.subtitle,i=e.className,o=e.handlerToggleFavorit,c=e.colorIcon;return l.a.createElement(fa,{className:i||"",style:{background:"#fff",padding:0}},l.a.createElement(_n.a,null,l.a.createElement(da.a,{style:{margin:0}}),n||null,a?l.a.createElement(ha,{level:4,style:{display:"inline-block",marginRight:"10px"}},a):null,r?l.a.createElement("span",{className:"ant-page-header-title-view-sub-title"},r):null,t||null,"/home"!==location.pathname?l.a.createElement(wn.a,{title:"Избранное"},l.a.createElement(h.a,{type:"star",className:"iconInHeader",theme:c,style:{fontSize:"24px",float:"right",margin:"20px 40px 20px 0",color:"#1890ff"},onClick:function(){return o()}})):null))}));function ya(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ba=ea.a.Content,va=ua((function(e){var t=e.favorits_menu,n=e.custom_menu,a=e.handlerDeleteButton,r=(e.usermenu,e.set_favorits_menu);return document.title="Home",location.href=JSON.parse(localStorage.getItem("homepage"))||"/composition/home",[l.a.createElement(ga,{key:"s1"}),l.a.createElement(ba,{key:"s2",className:"content_app"},l.a.createElement("h3",null,"Избранное"),s.a.isEmpty(t)?"У вас пока нету избранного меню...":t.map((function(e){return l.a.createElement("form",{key:e.path,style:{display:"inline",margin:"10px"}},l.a.createElement("fieldset",{style:{display:"inline",border:"1px solid #c6c6c6"}},l.a.createElement("legend",{style:{display:"inline",width:"auto"}},l.a.createElement("input",{style:{fontSize:"14px",fontWeight:"bolder"},value:e.title,placeholder:"Change Title...",onChange:function(n){var a=ya(t),l=a.findIndex((function(t){return t.path===e.path}));a[l].title=n.target.value,r(a)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})),l.a.createElement(b.a.Group,{key:Un.nanoid(),style:{margin:"10px"}},l.a.createElement(Sn.Link,{to:e.path},l.a.createElement(b.a,null,s.a.isEmpty(n)?null:void 0!==s.a.find(n[0].menu,(function(t){return t.path===e.path}))?s.a.find(n[0].menu,(function(t){return t.path===e.path})).title:e.path)),l.a.createElement(b.a,{onClick:function(){return a(e)},type:"danger"},l.a.createElement(h.a,{type:"delete"})))))})))]})),Ea=(En.a.SubMenu,ca((function(e){e.usermenu,e.menu_creator;var t=e.open_keys,n=e.handlerOpenChange;return l.a.createElement(En.a,{theme:"dark",mode:"inline",openKeys:t,onOpenChange:n})}))),Oa=a(3),_a=a.n(Oa),ja=a(267),wa=a.n(ja),ka=a(1249),Sa=a(1246),Ca=a(1259),Da=a(1260),Pa=a(646),xa=a(1242),Ta=a(650),Ma=a(1247),Ia=a(1258),Aa=a(26),La=a.n(Aa),za=a(633);function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ya=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Va(t).call(this,e))||"object"!==Fa(r)&&"function"!=typeof r?Ua(a):r).state={displayColorPicker:!1,color:e.currentColor},n.handleClick=n.handleClick.bind(Ua(n)),n.handleClose=n.handleClose.bind(Ua(n)),n.handleChange=n.handleChange.bind(Ua(n)),n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}(t,e),n=t,(a=[{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){this.setState({color:e.hex}),this.props.onChangeInput(e.hex,this.props.localConfig)}},{key:"render",value:function(){var e=this.props,t=(e.currentColor,e.onChangeInput,La()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"".concat(this.state.color)},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}));return l.a.createElement("div",null,l.a.createElement("div",{style:t.swatch,onClick:this.handleClick},l.a.createElement("div",{style:t.color})),this.state.displayColorPicker?l.a.createElement("div",{style:t.popover},l.a.createElement("div",{style:t.cover,onClick:this.handleClose}),l.a.createElement(za.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}])&&Na(n.prototype,a),r&&Na(n,r),t}(l.a.Component),Ha=(a(1103),a(360)),Ba=a.n(Ha),qa=a(634),Wa=a.n(qa);function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ha.Quill.register("modules/imageResize",Wa.a);var $a=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]],Za=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Ka(t).call(this,e))||"object"!==Ja(r)&&"function"!=typeof r?Qa(a):r).state={text:e.currentText},n.handleChange=n.handleChange.bind(Qa(n)),n.modules={toolbar:$a,imageResize:{}},n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(t,e),n=t,(a=[{key:"handleChange",value:function(e){this.setState({text:e}),this.props.onChangeInput(e,this.props.localConfig)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ba.a,{value:this.state.text,onChange:this.handleChange,formats:this.formats,modules:this.modules}))}}])&&Ga(n.prototype,a),r&&Ga(n,r),t}(l.a.Component),er=a(137),tr=a(135),nr=Object(E.a)(Object(v.b)((function(e){return{loading:e.helpers.loading}}),(function(e){return{toggleLoading:function(t){return e(Object(tr.b)(t))}}})),Object(E.c)({MDLP_API:function(e){var t=e.getData,n=e.origin,a=void 0===n?{}:n,r=e.data,l=(e.history,e.location),i=e.toggleLoading;return function(e){var n=r,o=e,c=a.config,s=l?P.a.parse(l.search):null,u={},m={},d=document.location.href.split("//")[1];d="http://"+(d=(d=d.split("/")[0]).split(":")[0])+":1119/",console.log("_mdlp_api:",d);var p=d;I("/api/marksettings",{}).then((function(e){var a=e.data.outjson;(u.user_id=a.user_id,a.thumbprint)?new Promise((function(e,t){o.parametrs?_.isEmpty(o.parametrs)?e(u):o.parametrs.forEach((function(l){if(l.paramcolumn)u[l.paramtitle]=n[c.filter((function(e){return e.key===l.paramcolumn.key}))[0].key],void 0===u[l.paramtitle]&&(u[l.paramtitle]=s[c.filter((function(e){return e.key===l.paramcolumn.key}))[0].key]),void 0===u[l.paramtitle]&&(u[l.paramtitle]=r[c.filter((function(e){return e.key===l.paramcolumn.key}))[0].key]),void 0===u[l.paramtitle]&&(u[l.paramtitle]=r[0][c.filter((function(e){return e.key===l.paramcolumn.key}))[0].key]);else{var i=l.paramconst;"_checked_"===i&&(i=JSON.stringify(checked||[])),u[l.paramtitle]=i}l.paramt&&"mdlpsign"===l.paramt?(console.log("пришло на подпись:",u[l.paramtitle]),mdlp.signRequest(u[l.paramtitle],a.thumbprint).then((function(t){console.log("sig:",t),u[l.paramtitle]=t,e(u)})).catch((function(e){w.a.error({message:"Ошибка",description:"Ошибка подписи параметра"+e}),t(e)}))):e(u)})):e(u)})).then((function(e){"GET"===o.actapitype&&(m=e),T()({method:"POST",url:p+"auth",data:{client_id:a.client_id,user_id:a.user_id,auth_type:"SIGNED_CODE",client_secret:a.client_secret},params:{},withCredentials:!0}).then((function(n){i(!1);var r=n.data.code;mdlp.signRequest(window.btoa(r),a.thumbprint).then((function(n){T()({method:"POST",url:p+"token",data:{code:r,signature:n},params:{},withCredentials:!0}).then((function(){T()({method:o.actapitype,url:o.act,data:e,params:m,withCredentials:!0}).then((function(e){o.actapirefresh&&t(t)}),(function(e){e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:"unknown error1!"})}))}),(function(e){e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:"unknown error2!"})}))})).catch((function(e){w.a.error({message:"Ошибка",description:"Ошибка подписи"})}))})).catch((function(e){console.log("ERROR:",e),i(!1),e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:"unknown error3!"})}))})).catch((function(e){i(!1),console.log("promise parambuild err: ",e)})):w.a.error({message:"Ошибка",description:"Не удалось определить сертификат пользователя, авторизуйтесь через ЭЦП!"})})).catch((function(e){console.log("promise2 parambuild err: ",e),i(!1)}))}}}),Object(E.c)({goLink:function(e){var t=e.data,n=e.origin,a=e.location,r=e.history,l=e.checked;return function(e){var i="";i=e.isforevery?Fn(t,e,n.config,a?P.a.parse(a.search):{},l):Nn(t,e,n.config,a?P.a.parse(a.search):{},l),r.push(e.act+i)}},goLinkTo:function(e){var t=e.data,n=e.origin,a=e.location,r=(e.history,e.checked);return function(e){var l="";l=e.isforevery?Fn(t,e,n.config,a?P.a.parse(a.search):{},r):Nn(t,e,n.config,a?P.a.parse(a.search):{},r),window.open(e.act+l)}},onCallApi:function(e){var t=e.MDLP_API,n=e.getData,a=e.origin,r=void 0===a?{}:a,l=e.data,i=e.location,o=e.toggleLoading,c=e.params,s=e.checked;return function(e){o(!0);var a=e.act;e.actapimethod&&"simple"!==e.actapimethod?"mdlp"===e.actapimethod?t(e):o(!1):function(){var t={};"GET"===e.actapitype?a+=Fn(l,e,r.config,i?P.a.parse(i.search):null,s):t=Vn(e,c.inputs,r.config,l,s);var u=r.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.related}))[0].key;switch(e.actapitype){case"GET":I(a,t).then((function(t){e.isforevery?n(n,{}):n(l[u],n),console.log("res:",t),t&&t.data&&t.data.message&&w.a.success({message:t.data.message})})).catch((function(e){o(!1)}));break;case"POST":z({url:a,data:t}).then((function(t){t&&t.data&&t.data.message&&w.a.success({message:t.data.message}),e.isforevery?n(n,{}):n(l[u],n),console.log("res:",t)})).catch((function(e){o(!1)}));break;case"PUT":(function(e){return M.put(e.url,e.data).catch((function(e){throw w.a.error({message:"Ошибка",description:Un.searchByString(e,"response,data,message")||"Неопределенная ошибка"}),new Error("Ошибка")}))})({url:a,data:t}).then((function(t){t&&t.data&&t.data.message&&w.a.success({message:t.data.message}),e.isforevery?n(n,{}):n(l[u],n),console.log("res:",t)})).catch((function(e){console.log("ERR POST API:",e),o(!1)}));break;case"DELETE":F({url:a,data:t}).then((function(e){e&&e.data&&e.data.message&&w.a.success({message:e.data.message}),o(!1),console.log("res:",e)})).catch((function(){return o(!1)}))}}()}},onDelete:function(e){var t=e.getData,n=e.data,a=e.origin,r=e.toggleLoading;return function(){r(!0);var e=_.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;F({url:"/api/deleterow",data:{tablename:a.table,id:n[e],viewid:a.viewid||a.id}}).then((function(e){t(t)})).catch((function(){r(!1)}))}},goBack:function(e){var t=e.history;return function(){t.goBack()}}}))((function(e){var t=e.actions,n=e.data,a=e.params,r=(e.loading,e.type),i=void 0===r?"form":r,o=(e.checked,e.onSave),c=e.goBack,s=e.goLink,u=e.goLinkTo,m=e.onDelete,d=e.onCallApi;e.popup;return e.calendar&&(i="table"),_.filter(t,(function(e){if(e.isforevery=e.isforevery||!1,e.isforevery=_.isNumber(e.isforevery)?1===e.isforevery:e.isforevery,e.isforevery===("table"===i)&&zn(n,e.act_visible_condition,a.inputs))return e})).filter((function(e){return"onLoad"!==e.type&&"Expand"!==e.type})).map((function(e,t){var n=e.icon?Ln(e.icon).split("_"):"",a="table"!==i?l.a.createElement("span",null,e.title):null,r=(e.title,"table"!==i?"topLeft":"left"),p=function(e){switch(e.type){case"Link":s(e);break;case"LinkTo":u(e);break;case"Back":c(e);break;case"API":d(e);break;case"Save":o(e);break;case"Save&Redirect":o((function(){return s(e)}));break;case"Delete":m(e);break;case void 0:s(e)}},f=function(e){var t=e.el;return l.a.createElement("button",{className:"fm-btn fm-btn-sm "+t.classname,size:"small",title:t.title,onClick:function(){e.confirmed&&p(t)}},t.icon?"cn"===n[0]?l.a.createElement(h.a,{component:bn[n[1]]}):l.a.createElement(h.a,{type:Ln(t.icon)}):l.a.createElement(h.a,{type:""}),a)};return l.a.createElement(wn.a,{key:"s1"+t,placement:r,title:e.title||""},!0===e.actapiconfirm&&"API"===e.type||"Delete"===e.type?l.a.createElement(kn.a,{placement:"bottom",title:"Подтвердите действие",okText:"Да",cancelText:"Нет",onConfirm:function(){return p(e)}},l.a.createElement("a",{style:{display:"hide"}}),l.a.createElement(f,{confirmed:!1,el:e})):l.a.createElement(f,{confirmed:!0,el:e}))}))}));function ar(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=ta.a.confirm,cr=[],sr=Object(E.a)(Object(v.b)((function(e){return{user_detail:e.user.user_detail,loading:!0}}),(function(e){return{toggleLoading:function(t){return e(Object(tr.b)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{data:{},origin:{},id_title:null,carouselRef:l.a.createRef(),initIndex:0,collapseAll:!1,localChangeCollapse:!1,localActiveKey:[]}:t;return{data:n.data,origin:n.origin,id_title:n.id_title,carouselRef:n.carouselRef,initIndex:n.initIndex,collapseAll:n.collapseAll,localChangeCollapse:n.localChangeCollapse,localActiveKey:n.localActiveKey}}),{set_state:function(e){return function(t){var n=lr({},e);return s.a.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({get_params:function(e){return function(t){var n={},a=t||e;return e.compo?(n.inputs=P.a.parse(a.location.search),n.search=a.location.search,n.path=a.path,n.id_page=a.path):(n.inputs=P.a.parse(a.location.search),n.search=a.location.search,n.path=a.match,n.id_page=a.match.params.id_page),lr({},n)}},onChangeData:function(e){var t=e.set_state,n=e.data,a=void 0===n?{}:n;return function(e,n){var r,l=e,i=e&&e.target&&e.target.value;if(null!==e&&(l=e.target?e.target.value:e),e&&e.target&&(l=""===l?null:l),(r=lr({},a))[n.key]=l,""===l||""===i)switch(n.type){case"text":case"date":case"autocomplete":case"textarea":case"number":r[n.key]=null}t({data:lr({},r)})}}}),Object(E.c)({getData:function(e){var t=e.get_params,n=e.toggleLoading,a=e.origin,r=e.set_state,l=e.compo;return function(e,i){var o=t();if(e){var c=s.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;o.inputs[c]=e}z({url:"schema/getone?path=".concat(o.id_page),data:JSON.stringify({inputs:o.inputs})}).then((function(e){l||o.inputs._doctitle_?o.inputs._doctitle_&&(document.title=o.inputs._doctitle_):document.title=e.data.title;var t=e.data,a=P.a.parse(location.search),c=a.relation?a.relation.split(","):[],s={};if(e.data.subscrible){var u=document.location.href.split("//")[1];u="ws://"+(u=u.split("/")[0])+"/ws";var m=new WebSocket(u);cr.push(m);var d=(e.data.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.related}))[0]||{}).key;m.onopen=function(){var t=[];e.data.data.forEach((function(e){return t.push(e[d])})),m.send(JSON.stringify({viewpath:o.id_page,ids:t}))},m.onclose=function(e){e.wasClean?console.log("clear closed (getOne)"):console.log("ws close failed")},m.onmessage=function(t){var n=JSON.parse(t.data);n.error?console.log("ws message failed"):n.forEach((function(t){w.a.success({message:t.notificationtext}),z({url:"/api/setsended",data:{id:t.id}}).then((function(e){console.log("sended")})),e.data.data[0]&&i(e.data.data[0][d],i)}))},m.onerror=function(e){w.a.error({message:"ws error"}),console.log("ws error:",e)}}c.forEach((function(e){s[e]=a[e]}));var p={};p.viewid=t.id,p.tablename=t.table,p.relation=a.relation||null,p.relationobj=s||{},r({data:lr({},e.data.data[0]),origin:lr({},e.data),global:lr({},p),loading:!1}),n(!1)})).catch((function(){n(!1)}))}}}),Object(E.c)({onSaveRow:function(e){var t=e.getData,n=e.onChangeData,a=e.set_state,r=e.data,l=e.origin,i=e.global,o=void 0===i?{}:i;return function(e,i){var c=s.a.filter(l.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;if("form not mutable"===l.viewtype)n(e,i);else if("form full"===l.viewtype){new Promise((function(t,n){var a=lr({},o);a.tablename=l.table,r[c]&&(a.id=r[c]),a.config=lr({},i),a.value=e,i.related&&(a.relatetable=a.tablename,a.tablename=i.table),t(a)})).then((function(n){z({url:"api/saverow",data:n}).then((function(n){var l=n.data.outjson;i.related?i.updatable&&t(r[c]||l.id,t):!r[c]&!l||i.updatable?t(r[c]||l.id,t):(l.id?(r[c]=l.id,r[i.key]=e):r=l,a({data:lr({},r)})),w.a.success({message:"Сохранено",duration:2})}))})).catch((function(e){e&&w.a.error({message:"Ошибка",description:e.response?e.response.data.message:"Неопределенная ошибка"})}))}}},onSubmitState:function(e){e.set_state;var t=e.data,n=void 0===t?{}:t,a=e.origin,r=void 0===a?{}:a;return function(e,t){s.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;var a=s.a.keys(r.data[0]),l={};a.map((function(e){r.data[0][e]!==n[e]&&(l[e]=n[e])}))}}}),Object(E.c)({onChangeInput:function(e){var t=e.onSaveRow;return function(e,n){var a=e;null!=e&&(a=e.target?e.target.value:e),void 0!==e&&""!==e||(a=null),t(a,n)}},onRemoveImg:function(e){var t=e.data,n=e.onSaveRow;return function(e){or({title:"Удалить файл?",content:"",onOk:function(){var a=e.row,r=t[a.key];s.a.remove(r,(function(t){return t.uri===e.file_url})),n(r,a)},onCancel:function(){},okText:"Да",cancelText:"Нет"}),w.a.info({message:"Не забудьте сохранить изменения"})}},onRemoveFile:function(e){e.data;var t=e.onSaveRow;return function(e,n,a){or({title:"Удалить файл?",content:"",onOk:function(){s.a.remove(e,(function(e){return e.uri===n})),t(e,a)},onCancel:function(){},okText:"Да",cancelText:"Нет"}),w.a.info({message:"Не забудьте сохранить изменения"})}},onUploadFileChange:function(e){var t=e.set_state,n=e.data,a=e.origin;return function(e,r,l){if(e.target&&e.target.files.length>0){var i=new FormData,o=s.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;for(var c in e.target.files)n[r.key],i.append("file_"+c,e.target.files[c]);i.append("config",JSON.stringify(r)),n[o]&&i.append("id",n[o]),n[r.key]&&i.append("value",JSON.stringify(n[r.key])),r.related?(i.append("tablename",r.tablename),i.append("relatetable",a.table||NaN)):i.append("tablename",a.table||NaN),i.append("viewid",a.id),z({url:"api/savefile",data:i}).then((function(e){var a=e.data.outjson;a.id?(n[o]=a.id,n[r.key]=JSON.parse(a.value)):n=a,t({data:lr({},n)})})).catch((function(e){e&&e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:""})}))}}},onUpload:function(e){var t=e.set_state,n=e.data,a=e.origin;return function(e,r,l){var i=new FormData,o=s.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;i.append("file_0",e.file),i.append("config",JSON.stringify(r)),n[o]&&i.append("id",n[o]),n[r.key]&&i.append("value",JSON.stringify(n[r.key])),r.related?(i.append("tablename",r.tablename),i.append("relatetable",a.table||NaN)):i.append("tablename",a.table||NaN),i.append("viewid",a.id),z({url:"api/savefile",data:i,params:{onUploadProgress:function(e){t({uploaded:(e.loaded/e.total*100).toFixed()})}}}).then((function(e){var a=e.data.outjson;a.id?(n[o]=a.id,n[r.key]=JSON.parse(a.value)):n=a,t({data:lr({},n),uploaded:!1})})).catch((function(e){t({uploaded:!1}),e&&e.response&&e.response.data?w.a.error({message:"Ошибка",description:e.response.data.message}):w.a.error({message:"Ошибка",description:""})}))}},onSave:function(e){var t=e.data,n=e.set_state,a=e.global,r=e.origin,l=e.getData;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n({loading:!0});var i=s.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;z({url:"api/savestate",data:{data:t,viewid:a.viewid,id:t[i],relation:a.relation,relationobj:a.relationobj}}).then((function(a){var r=a.data.outjson;r.id&&(t[i]=r.id),n({data:lr({},t),loading:!1}),w.a.success({message:"Сохранено"}),l(t[i]||r.id,l),e&&"function"==typeof e&&e()})).catch((function(){n({loading:!1})}))}},handlerAutoComplete:function(e){var t=e.origin,n=e.set_state;return function(e,a){z({url:"api/autocomplete",data:JSON.stringify({val:e,table:t.table,col:a.col})}).then((function(e){var r=ar(t.config);r.forEach((function(t,n){r[n].key===a.key&&(r[n].selectdata=e.data.outjson)})),t.config=r,n({origin:t})}))}},onChangeCollapse:function(e){var t=e.set_state;return function(e){t({localChangeCollapse:!0,localActiveKey:e})}}}),Object(E.b)({componentDidMount:function(){this.props.getData(null,this.props.getData)},componentWillUnmount:function(){cr.forEach((function(e){return e.close()}))},componentDidUpdate:function(e){var t=this.props,n=t.btnCollapseAll,a=t.set_state;e.btnCollapseAll!==n&&a({localChangeCollapse:!1,collapseAll:n})},componentWillUpdate:function(e){var t=this.props,n=t.compo,a=t.getData,r=t.get_params,l=r(this.props),i=r(e);n?"/trees"!==e.location.pathname.slice(0,6)&&(e.location.search===this.props.location.search&&e.path===this.props.path||a()):l.id_page!==i.id_page&&a()}})),ur=a(92);function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},hr=Object(E.a)(Object(E.e)((function(e){var t=e.inState;return{options:(void 0===t?{options:[]}:t).options}}),{set_state:function(e){return function(t){var n=dr({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig;return function(e,r){z({url:e.select_api,data:JSON.stringify({data:t,inputs:r,config:a}),params:{substr:null}}).then((function(e){var t=e.data,a=_.sortBy(t.outjson,["value"]);n({options:a})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,l){var i;i=P.a.parse(n.search),r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),z({url:"api/select",data:JSON.stringify({inputs:i,config:r,id:l,substr:e})}).then((function(e){var t=e.data,n=_.sortBy(t.outjson,["value"]);a({options:n})})))}}}),Object(E.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(e?e.value:"",n)}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.config,n=e.data,a=e.onFocusApi,r=e.onFocus,l=e.inputs;"select_api"===t.type?a(t,l):r(null,n[t.key])},componentDidUpdate:function(e){var t=this.props,n=t.config,a=t.data,r=t.onFocusApi,l=t.onFocus,i=t.inputs;e.data!==a&&("select_api"===n.type?r(n,i):l(null,a[n.key]))}}))((function(e){var t=e.onChange,n=e.data,a=void 0===n?{}:n,r=e.inputs,i=e.config,o=e.options,c=void 0===o?[]:o,s=e.onFocus,u=e.onFocusApi,m=_.findIndex(c,(function(e){return e.value===a[i.key]}));return l.a.createElement(ur.a,{styles:{menuPortal:function(e){return dr({},e,{zIndex:9999})},dropdownIndicator:function(e){return dr({},e,{padding:4})},clearIndicator:function(e){return dr({},e,{padding:4})},control:function(e){return dr({},e,{minHeight:0})},input:function(e){return dr({},e,{padding:0})},valueContainer:function(e){return dr({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return dr({},e,{color:"#cdbfc7"})}},menuPlacement:"auto",menuPortalTarget:document.body,placeholder:"Выберите из списка",isClearable:!0,isDisabled:i.read_only||!1,value:c[m]||"",options:c,onFocus:function(){"select_api"===i.type?u(i,r):s("")},onChange:t,onKeyDown:fr})}));function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr=Object(E.a)(Object(E.e)((function(e){var t=e.inState;return{options:(void 0===t?{options:[]}:t).options}}),{set_state:function(e){return function(t){var n=yr({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig;return function(e,r){z({url:e.select_api,data:JSON.stringify({data:t,inputs:r,config:a}),params:{substr:null}}).then((function(e){var t=e.data,a=_.sortBy(t.outjson,["value"]);n({options:a})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,l){var i;i=P.a.parse(n.search),r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),z({url:"api/select",data:JSON.stringify({inputs:i,config:r,id:l,substr:e})}).then((function(e){var t=e.data,n=_.sortBy(t.outjson,["value"]);a({options:n})})))}}}),Object(E.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(e?e.value:"",n)}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"multiselect_api"===t.type?a(t,n[t.key]):r(null,n[t.key])}}))((function(e){e.onChange;var t=e.onChangeInput,n=e.data,a=void 0===n?{}:n,r=e.inputs,i=e.config,o=e.options,c=void 0===o?[]:o,s=e.onFocus,u=e.onFocusApi,m=[];a[i.key]&&(_.isArray(a[i.key])&&a[i.key].forEach((function(e){c.forEach((function(t){t.value===e&&m.push(t)}))})));return l.a.createElement(ur.a,{styles:{menuPortal:function(e){return yr({},e,{zIndex:9999})},dropdownIndicator:function(e){return yr({},e,{padding:4})},clearIndicator:function(e){return yr({},e,{padding:4})},control:function(e){return yr({},e,{minHeight:0})},input:function(e){return yr({},e,{padding:0})},valueContainer:function(e){return yr({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return yr({},e,{color:"#cdbfc7"})}},menuPortalTarget:document.body,menuPlacement:"auto",placeholder:"Выберите из списка",isMulti:!0,isClearable:!0,isDisabled:i.read_only||!1,value:m,options:c,onKeyDown:function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},onFocus:function(){"multiselect_api"===i.type?u(i,r):s("")},onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n[1].action){case"select-option":a[i.key]?a[i.key].push(n[1].option.value):a[i.key]=[n[1].option.value];break;case"pop-value":case"remove-value":a[i.key]=_.filter(a[i.key],(function(e){return e!==n[1].removedValue.value}));break;case"clear":a[i.key]=[]}t(a[i.key],i)}})})),Er=a(188),Or=a(36),_r=a(271);function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sr={},Cr=function(e){return e.selectProps.loading?l.a.createElement(Or.z.NoOptionsMessage,e,l.a.createElement(o.a,{tip:"Загрузка данных"})):l.a.createElement(Or.z.NoOptionsMessage,e,l.a.createElement(Er.a,null))},Dr=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},Pr=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{options:{},loading:!1,status:!1}:t;return{options:n.options,loading:n.loading,status:n.starus}}),{set_state:function(e){return function(t){var n=wr({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig,r=e.name,l=e.config;return function(e,i,o){return n({loading:!0}),Sr[r]&&clearTimeout(Sr[r]),new Promise((function(n,c){Sr[r]=setTimeout((function(){z({url:l.select_api,data:JSON.stringify({data:t,inputs:o,config:a}),params:{substr:i||e}}).then((function(e){var t=e.data,a=_.sortBy(t.outjson,["value"]);n(a)}))}),e?2e3:1)})).then((function(t){if(e)return n({loading:!1,options:t}),t;n({options:t,loading:!1,status:!0})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,l){return new Promise((function(a,i){Sr[name]=setTimeout((function(){var i=P.a.parse(n.search);r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),z({url:"api/select",data:JSON.stringify({inputs:i,config:r,val:e,id:l,ismulti:null})}).then((function(e){var t=e.data,n=_.sortBy(t.outjson,["value"]);a(n)})))}),e?1e3:1)})).then((function(t){if(e)return a({options:t}),t;a({options:t,status:!0})}))}}}),Object(E.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(null===e?"":e.value,n)}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.config,n=e.options,a=e.data,r=e.onFocusApi,l=e.onFocus;_.isEmpty(n)&&a[t.key]&&("typehead_api"===t.type?r(null,a[t.key]):l(null,a[t.key]))},componentDidUpdate:function(e){var t=this.props,n=t.config,a=t.options,r=t.data,l=t.onFocusApi,i=t.onFocus;r!==e.data&&_.isEmpty(a)&&r[n.key]&&("typehead_api"===n.type?l(null,r[n.key]):i(null,r[n.key]))}}))((function(e){e.name;var t=e.onChange,n=e.onFocusApi,a=e.onFocus,r=e.data,i=e.inputs,c=e.config,s=e.options,u=void 0===s?[]:s,m=e.loading,d=e.status,p=_.findIndex(u,(function(e){return e.value===r[c.key]}));return d||null===r[c.key]?l.a.createElement(_r.a,{styles:{menuPortal:function(e){return wr({},e,{zIndex:9999})},dropdownIndicator:function(e){return wr({},e,{padding:4})},clearIndicator:function(e){return wr({},e,{padding:4})},control:function(e){return wr({},e,{minHeight:0})},input:function(e){return wr({},e,{padding:0})},valueContainer:function(e){return wr({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return wr({},e,{color:"#cdbfc7"})}},menuPlacement:"auto",menuPortalTarget:document.body,loading:m,components:{NoOptionsMessage:Cr,LoadingMessage:function(){return l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(o.a,{tip:"Загрузка данных"}))}},isClearable:!0,placeholder:"Введите для поиска",cacheOptions:!0,isDisabled:c.read_only||!1,value:u[p]||null,defaultOptions:u,loadOptions:function(e){return"typehead_api"===c.type?n(e):a(e)},onFocus:function(){"typehead_api"===c.type?n(null,r[c.key],i):a(null,r[c.key])},onChange:t,onKeyDown:Dr}):l.a.createElement(o.a,null)}));function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir={},Ar=function(e){return e.selectProps.loading?l.a.createElement(Or.z.NoOptionsMessage,e,l.a.createElement(o.a,{tip:"Загрузка данных"})):l.a.createElement(Or.z.NoOptionsMessage,e,l.a.createElement(Er.a,null))},Lr=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},zr=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{options:[],loading:!1,status:!1}:t;return{options:n.options,loading:n.loading,status:n.starus}}),{set_state:function(e){return function(t){var n=Tr({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig,r=e.config,l=e.name;return function(e,i,o){return n({loading:!0}),Ir[l]&&clearTimeout(Ir[l]),new Promise((function(n,c){Ir[l]=setTimeout((function(){z({url:r.select_api,data:JSON.stringify({data:t,inputs:o,config:a}),params:{substr:i||e}}).then((function(e){var t=e.data,a=_.sortBy(t.outjson,["value"]);n(a)})).catch((function(e){return c(e)}))}),e?2e3:1)})).then((function(t){if(e)return n({loading:!1}),t;n({options:t,loading:!1,status:!0})})).catch((function(e){return n({loading:!1,status:!0})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,l){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=new Promise((function(a,o){Ir[name]=setTimeout((function(){var o=P.a.parse(n.search);r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],o[e.value.value]=n):o[e.col.value]=e.const})),"multitypehead"===r.type&&null===i&&(i=!0,l=null),z({url:"api/select",data:JSON.stringify({inputs:o,config:r,val:e,id:l,ismulti:i})}).then((function(e){var t=e.data,n=_.sortBy(t.outjson,["value"]);a(n)})))}),e?1e3:1)}));return o.then((function(t){if(e)return t;a({options:t,status:!0})}))}}}),Object(E.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(null===e?"":e.value,n)}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"multitypehead_api"===t.type?a(null,n[t.key]):r(null,n[t.key])},componentDidUpdate:function(e){var t=this.props,n=t.config,a=t.options,r=t.data,l=t.onFocusApi,i=t.onFocus;r!==e.data&&_.isEmpty(a)&&r[n.key]&&("multitypehead_api"===n.type?l(null,r[n.key]):i(null,r[n.key]))}}))((function(e){e.name,e.onChange;var t=e.onFocusApi,n=e.onFocus,a=e.data,r=e.inputs,i=e.config,c=e.options,s=void 0===c?[]:c,u=e.loading,m=e.status,d=e.onChangeInput,p=[];return a[i.key]&&(_.isArray(a[i.key])&&a[i.key].forEach((function(e){s.forEach((function(t){t.value===e&&p.push(t)}))}))),m||null===a[i.key]?l.a.createElement(_r.a,{styles:{menuPortal:function(e){return Tr({},e,{zIndex:9999})},dropdownIndicator:function(e){return Tr({},e,{padding:4})},clearIndicator:function(e){return Tr({},e,{padding:4})},control:function(e){return Tr({},e,{minHeight:0})},input:function(e){return Tr({},e,{padding:0})},valueContainer:function(e){return Tr({},e,{padding:"0 8px",color:"#000000"})},placeholder:function(e){return Tr({},e,{color:"#cdbfc7"})}},isMulti:!0,menuPlacement:"auto",menuPortalTarget:document.body,loading:u,components:{NoOptionsMessage:Ar,LoadingMessage:function(){return l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(o.a,{tip:"Загрузка данных"}))}},isClearable:!0,placeholder:"Введите для поиска",cacheOptions:!0,isDisabled:i.read_only||!1,value:p,defaultOptions:s,onKeyDown:Lr,loadOptions:function(e){return"multitypehead_api"===i.type?t(e):n(e,a[i.key])},onFocus:function(){"multitypehead_api"===i.type?t(null,a[i.key],r):n(null,a[i.key])},onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n[1].action){case"select-option":a[i.key]?a[i.key].push(n[1].option.value):a[i.key]=[n[1].option.value],t(null,a[i.key]);break;case"pop-value":case"remove-value":a[i.key]=_.filter(a[i.key],(function(e){return e!==n[1].removedValue.value}));break;case"clear":a[i.key]=[]}d(a[i.key],i)}}):l.a.createElement(o.a,null)}));function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{options:[],open:!1}:t;return{options:n.options,open:n.open}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({getCertificates:function(e){var t=e.set_state;return function(){authorize.ecpPostInit().then((function(e){t({options:e.certs||[],open:!0})})).catch((function(e){w.a.error({message:"Ошибка",description:e.status||"Модуль недоступен"})}))}},onSave:function(e){var t=e.set_state;return function(){t({open:!1})}},onSelect:function(e){var t=e.onChangeInput,n=e.config;return function(e){t(e.thumbprint,n)}}}),Object(E.c)({onOpen:function(e){var t=e.getCertificates;return function(){t()}}}))((function(e){var t=e.data,n=e.config,a=e.open,r=void 0!==a&&a,i=e.options,o=void 0===i?[]:i,c=e.set_state,s=e.onSave,u=e.onOpen,m=e.onSelect,d=t[n.key];return[l.a.createElement(b.a,{onClick:u,key:"c1"},"Выбрать сертификат"),l.a.createElement(ta.a,{key:"c2",title:"Выбрать сертификат",visible:r,onOk:s,onCancel:function(){return c({open:!1})}},l.a.createElement(g.a,{header:l.a.createElement("h4",null,"Список сертификатов"),size:"small",dataSource:o,renderItem:function(e){return d===e.thumbprint?l.a.createElement(g.a.Item,null,l.a.createElement(ma.a.Text,null,e.sname),l.a.createElement(h.a,{style:{right:"0",position:"absolute"},type:"check-circle"})):l.a.createElement(kn.a,{placement:"top",title:"Подтвердите выбор",onConfirm:function(){return m(e)},okText:"Да",cancelText:"Закрыть"},l.a.createElement(g.a.Item,{className:"list-item-certificate"},l.a.createElement(ma.a.Text,null,e.sname)))}}))]})),Ur=function(e){var t=e.onClick,n=e.className;return l.a.createElement(h.a,{type:"left",onClick:t,className:n})},Rr=function(e){var t=e.onClick,n=e.className;return l.a.createElement(h.a,{type:"right",onClick:t,className:n})},Yr=a(635),Hr=a.n(Yr),Br=a(636),qr=a.n(Br);function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kr=ea.a.Content,Qr=ka.a.Panel,Xr=Un.nanoid(),$r=sr((function(e){var t=e.location,n=e.history,a=e.set_state,r=e.get_params,i=e.onChangeInput,c=e.onChangeData,s=e.getData,u=e.onSave,m=e.carouselRef,d=e.initIndex,v=e.onChangeCollapse,E=e.onRemoveImg,O=e.onUpload,j=e.onUploadFileChange,w=e.uploaded,k=void 0!==w&&w,S=e.previewFile,D=void 0!==S&&S,P=e.collapseAll,x=e.localActiveKey,T=e.localChangeCollapse,M=(e.compo,e.loading),I=void 0===M||M,A=e.data,L=void 0===A?{}:A,z=e.origin,F=void 0===z?{}:z,N=e.handlerAutoComplete,V=e.onRemoveFile,U=e.visibleModal,R=void 0!==U&&U,Y=F.config,H=void 0===Y?{}:Y,B=r(),q=function(e){switch(L[e.key]=L.hasOwnProperty(e.key)?L[e.key]:null,e.type){case"label":return L[e.key]instanceof Object?l.a.createElement(p.a.Item,{key:"1,1",label:e.title},JSON.stringify(L[e.key])):l.a.createElement(p.a.Item,{key:"1,1",label:e.title},l.a.createElement("span",{className:"ant-form-text"}," ",_.isNull(L[e.key])?"":function(){switch(Gr(L[e.key])){case"string":return L[e.key].split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e,l.a.createElement("br",null))}));default:return L[e.key]}}()," "));case"text":return l.a.createElement(p.a.Item,{key:"1.2",label:e.title},l.a.createElement(f.a,{disabled:e.read_only||!1,value:L[e.key]?L[e.key]:"",onChange:function(t){return c(t,e)},onBlur:function(t){return i(t,e)}}));case"textarea":return l.a.createElement(p.a.Item,{key:"d2.1",label:e.title},l.a.createElement(qr.a,{disabled:e.read_only||!1,value:L[e.key]?L[e.key]:"",onChange:function(t){return c(t,e)},onBlur:function(t){return i(t,e)}}));case"date":return l.a.createElement(p.a.Item,{key:"d3",label:e.title},l.a.createElement(Sa.a,{disabled:e.read_only||!1,value:L[e.key]?Oa(L[e.key],"DD.MM.YYYY"):null,onChange:function(t,n){return i(n,e)},locale:er.a,format:"DD.MM.YYYY"}));case"autocomplete":return l.a.createElement(p.a.Item,{key:"4.b",label:e.title},l.a.createElement(Ca.a,{dataSource:e.selectdata?e.selectdata.map((function(e,t){return l.a.createElement(Ca.a.Option,{key:t,text:e.value},e.value)})):[],onSelect:function(t,n){return i({target:{value:n.props.text}},e)},onSearch:function(t){return N(t,e)},placeholder:"Введите значение",value:L[e.key],onChange:function(t){return c(t,e)},onBlur:function(t){void 0===t&&i({target:{value:null}},e)}}));case"datetime":return l.a.createElement(p.a.Item,{key:"d3.1",label:e.title},l.a.createElement(Sa.a,{disabled:e.read_only||!1,value:L[e.key]?Oa(L[e.key],"DD.MM.YYYY HH:mm"):null,onChange:function(t,n){return i(n,e)},locale:er.a,format:"DD.MM.YYYY HH:mm"}));case"number":return l.a.createElement(p.a.Item,{key:"d4",label:e.title},l.a.createElement(jn.a,{disabled:e.read_only||!1,value:null===L[e.key]?"":L[e.key],onChange:function(t){c(t,e)},onBlur:function(t){return i(t,e)}}));case"password":return l.a.createElement(p.a.Item,{key:"d4.1",label:e.title},l.a.createElement(f.a.Password,{disabled:e.read_only||!1,value:L[e.key],onChange:function(t){return c(t,e)},onBlur:function(t){return i(t,e)},placeholder:"Пароль"}));case"link":return l.a.createElement(p.a.Item,{key:"d4.1",label:e.title},l.a.createElement("div",null,"object"!==Gr(L[e.key])?l.a.createElement("a",{href:L[e.key],target:"_blank",rel:"noopener noreferrer"}," ",L[e.key]):l.a.createElement("a",{href:(L[e.key]||{link:""}).link,target:(L[e.key]||{target:null}).target||"_blank",rel:"noopener noreferrer"},(L[e.key]||{title:""}).title)));case"image":case"file":var n=[];return!L[e.key]||_.forEach(L[e.key],(function(t,a,r){n.push({row:e,uid:"-1",name:t.filename,status:"done",file_url:t.uri,url:C._url+t.uri})})),l.a.createElement(p.a.Item,{key:"d4.2",label:e.title},l.a.createElement(Da.a,{disabled:e.read_only||!1,listType:"image"===e.type?"picture-card":"text",fileList:n,customRequest:function(t){return O(t,e,!1)},onRemove:E,onPreview:function(e){var t=["img","jpg","png","gif"];!function(e){var n=!1;return t.forEach((function(t){n=n||e.split(".")[1]===t})),n}(e.name)?window.open(e.url,"_blank"):e.file_url?a({previewFile:e}):a({previewFile:!1})},onChange:j},n.length>0?null:k?l.a.createElement(Pa.a,{type:"circle",percent:k||0}):l.a.createElement("div",{key:"d1.2",className:"file"===e.type?"getone__upload-file":null},"image"===e.type?l.a.createElement(h.a,{type:"plus"}):null,l.a.createElement("div",{className:"ant-upload-text"}," ","image"===e.type?"Загрузить картинку":"Загрузить файл"))),l.a.createElement(ta.a,{visible:!!D,footer:null,onCancel:function(){return a({previewFile:!1})}},l.a.createElement("img",{alt:"example",style:{width:"100%"},src:D.url||""})));case"files":return l.a.createElement("div",{key:L[e.key]},l.a.createElement("input",{multiple:!0,onChange:function(t){return j(t,e,!1)},type:"file",placeholder:"placeholder"}),l.a.createElement("ul",{className:"getone__filelist"},L[e.key]?L[e.key].map((function(t){return l.a.createElement("li",{key:t.uri,className:"getone__filelist-item"},l.a.createElement("div",{style:{paddingLeft:20}},t.label||t.filename),l.a.createElement("div",{className:"getone__filelist-buttons"},l.a.createElement(wn.a,{title:"Скачать",placement:"topLeft"},l.a.createElement(b.a,{icon:"download",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(C._url+t.uri)}})),l.a.createElement(wn.a,{title:"Удалить",placement:"topLeft"},l.a.createElement(b.a,{icon:"delete",size:"small",shape:"circle",style:{border:"1px solid grey",backgroundColor:"crimson"},onClick:function(){return V(L[e.key],t.uri,e)}}))))})):null));case"filelist":return l.a.createElement(p.a.Item,{key:"9.b",label:"Список файлов"},l.a.createElement(g.a,{itemLayout:"horizontal",dataSource:L[e.key]?L[e.key]:[],renderItem:function(e){return l.a.createElement(g.a.Item,null,l.a.createElement(g.a.Item.Meta,{avatar:l.a.createElement(na.a,{icon:"file"}),title:l.a.createElement(wn.a,{title:"Скачать",placement:"right"},l.a.createElement("a",{href:e.src},e.filename))}))}}));case"images":return l.a.createElement("div",{key:L[e.key]},l.a.createElement("label",{htmlFor:"files",className:"getone__images-label"},"Выберите изображения"),l.a.createElement("input",{accept:".jpg, .jpeg, .png",id:"files",style:{visibility:"hidden",height:1},multiple:!0,onChange:function(t){return j(t,e,!1)},type:"file"}),l.a.createElement("div",{className:"getone__imageslist"},L[e.key]?L[e.key].map((function(t){return l.a.createElement(wn.a,{title:t.label,key:t.uri},l.a.createElement("div",{key:t.uri,className:"getone__images-item",style:{background:'url("'.concat(t.src,'") 100% 100% no-repeat'),backgroundSize:"contain",backgroundPosition:"center center"}},l.a.createElement("div",{className:"getone__imageslist-buttons"},l.a.createElement(wn.a,{title:"Посмотреть",placement:"topLeft"},l.a.createElement(b.a,{icon:"eye",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(C._url+t.uri)}})),l.a.createElement(wn.a,{title:"Удалить",placement:"topLeft"},l.a.createElement(b.a,{icon:"delete",size:"small",shape:"circle",style:{border:"1px solid grey",backgroundColor:"crimson"},onClick:function(){return V(L[e.key],t.uri,e)}})))))})):null));case"gallery":return l.a.createElement(p.a.Item,{key:"23.p",label:"Список изображений"},l.a.createElement("div",{className:"getone__imageslist"},L[e.key]?L[e.key].map((function(e,t){return l.a.createElement(wn.a,{title:e.label,key:"gallerry"+e.uri},l.a.createElement("div",{key:e.uri,className:"getone__images-item",style:{background:'url("'.concat(e.src,'") 100% 100% no-repeat'),backgroundSize:"contain",backgroundPosition:"center center"}},l.a.createElement("div",{className:"getone__imageslist-buttons"},l.a.createElement(wn.a,{title:"Посмотреть",placement:"topLeft"},l.a.createElement(b.a,{icon:"eye",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(C._url+e.uri)}})),l.a.createElement(wn.a,{title:"Слайдер",placement:"topLeft"},l.a.createElement(b.a,{icon:"picture",size:"small",shape:"circle",style:{border:"1px solid grey",background:"GreenYellow"},onClick:function(){a({visibleModal:!0}),null!==m.current?m.goTo(t):a({initIndex:t})}})))))})):null),l.a.createElement(ta.a,{width:1300,visible:R,onCancel:function(){return a({visibleModal:!1})},footer:null},l.a.createElement(xa.a,{ref:function(e){return m=e},arrows:!0,nextArrow:l.a.createElement(Rr,null),prevArrow:l.a.createElement(Ur,null),infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,initialSlide:d},L[e.key]?L[e.key].map((function(e){return l.a.createElement("img",{src:e.src,key:e.uri})})):null)));case"select":case"select_api":return l.a.createElement(p.a.Item,{key:"5.b",label:e.title},l.a.createElement(hr,{name:Un.nanoid(5),config:e,data:L,inputs:B.inputs,onChangeInput:i,location:t,globalConfig:H}));case"multiselect":case"multiselect_api":return l.a.createElement(p.a.Item,{key:"12.b",label:e.title},l.a.createElement(vr,{name:Un.nanoid(5),config:e,data:L,inputs:B.inputs,onChangeInput:i,location:t,globalConfig:H}));case"typehead":case"typehead_api":return l.a.createElement(p.a.Item,{key:e.key,label:e.title},l.a.createElement(Pr,{name:Un.nanoid(5),config:e,data:L,inputs:B.inputs,onChangeInput:i,location:t,globalConfig:H}));case"multitypehead":case"multitypehead_api":return l.a.createElement(p.a.Item,{key:"7.b",label:e.title},l.a.createElement(zr,{name:Un.nanoid(5),config:e,data:L,inputs:B.inputs,onChangeInput:i,location:t,globalConfig:H}));case"checkbox":return l.a.createElement(p.a.Item,{key:"d4.6",label:e.title},l.a.createElement(wn.a,{placement:"topLeft",title:e.title||""},l.a.createElement(y.a,{disabled:H.read_only||!1,checked:L[e.key]||!1,onChange:function(t){i(t.target.checked,e)}},e.title)));case"certificate":return l.a.createElement(p.a.Item,{key:"d5",label:e.title},l.a.createElement(Vr,{config:e,data:L,location:t,onChangeInput:i}));case"time":return l.a.createElement(p.a.Item,{key:"d6",label:e.title},l.a.createElement(Ta.a,{format:"HH:mm",placeholder:"Выберите время",value:null===L[e.key]?"":Oa(L[e.key]||"","HH:mm"),onChange:function(t,n){""===n&&(n=null),i(n,e)}}));case"colorpicker":return l.a.createElement(p.a.Item,{key:"23c",label:e.title},l.a.createElement(Ya,{currentColor:L[e.key]||"#000000",onChangeInput:i,localConfig:e}));case"color":return l.a.createElement(p.a.Item,{key:"24c",label:e.title},l.a.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"".concat(L[e.key]),border:"2px solid grey"}}));case"texteditor":return l.a.createElement(p.a.Item,{key:"1t",label:e.title},l.a.createElement(Za,{currentText:L[e.key]||"",onChangeInput:i,localConfig:e}));case"innerHtml":return l.a.createElement(p.a.Item,{key:"2t",label:e.title},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(L[e.key])}}));case"array":var r=L[e.key]?L[e.key].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{key:e.id})})):null,o=[];if(L[e.key])for(var s in L[e.key][0])o.push({title:"".concat(s).toUpperCase(),dataIndex:"".concat(s),key:"".concat(s)});return l.a.createElement(p.a.Item,{key:"32u",label:e.title},l.a.createElement(ka.a,{defaultActiveKey:["1"]},l.a.createElement(Qr,{key:1},l.a.createElement(Ma.a,{pagination:!1,dataSource:r,columns:o,scroll:{x:!0},className:"getone__table"}))));case"codeEditor":return l.a.createElement(p.a.Item,{key:"2t",label:e.title},l.a.createElement(Hr.a,{mode:"python",value:L[e.key],onChange:function(t){return c(t,e)},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}));case"phone":return l.a.createElement(p.a.Item,{key:"phone"},l.a.createElement(wa.a,{mask:"+7 (999) 999-99-99",value:L[e.key],onChange:function(e){return c(e)},onBlur:function(e){return i(e)}}));default:return l.a.createElement(p.a.Item,{key:"d22",label:e.title},e.type)}},W=l.a.createElement(p.a,{layout:"vertical"},l.a.createElement(_n.a,{gutter:8,type:"flex"},l.a.createElement(On.a,{span:24},l.a.createElement(_n.a,{type:"flex"},_.filter(H,(function(e){return(!0===e.visible||1===e.visible)&&zn(L,e.visible_condition,B.inputs)})).map((function(e,t,n){var a=e.width?e.width>24?24:parseInt(e.width):12;return l.a.createElement(On.a,{className:e.classname,span:a,key:"ss"+t},l.a.createElement("div",{className:e.classname},q(e)))})))),l.a.createElement(On.a,{span:24},l.a.createElement(nr,{actions:F.acts,origin:F,data:L,params:B,history:n,location:t,getData:s,onSave:u}))));return l.a.createElement(ka.a,{key:Xr,activeKey:T?x:P?[]:["1"],onChange:v},l.a.createElement(Qr,{header:(F.title||"").toUpperCase(),key:"1"},l.a.createElement("h3",null,B.inputs._sub_title),I?l.a.createElement(o.a,{key:"sk",spinning:!0,tip:"Идет загрузка..."},l.a.createElement(Ia.a,{className:"f_content_app"})):l.a.createElement(Kr,{key:"s3",className:"f_content_app get_one_form"},W)))})),Zr=Object(E.a)(Object(v.b)((function(e){return{}}),(function(e){return{reset_app:function(){return e(Object(O.l)())},set_loading:function(t){return e(Object(j.b)(t))},set_login_status:function(t){return e(Object(O.p)(t))}}})),Object(E.b)({componentWillMount:function(){var e=this.props,t=e.reset_app,n=e.set_loading;e.set_login_status;n(!0),L({url:"auth/logout"}).then((function(e){t(),n(!1)})).catch((function(e){n(!1)}))}}))((function(){return l.a.createElement("div",null)})),el=a(274),tl=a(255);function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){rl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ll=[],il=Object(E.a)(Object(v.b)((function(e){return{composition:e.composition}}),(function(e){return{set_comp:function(t){return e(Object(tl.b)(t))},toggleLoading:function(t){return e(Object(tr.b)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{type_list:{},filter:!1,popup:{visible:!1,x:0,y:0},expandState:[],collapseAll:!1,localChangeCollapse:!1,localActiveKey:[]}:t;return{type_list:n.type_list,filter:n.filter,popup:n.popup,expandState:n.expandState,collapseAll:n.collapseAll,localChangeCollapse:n.localChangeCollapse,localActiveKey:n.localActiveKey}}),{set_state:function(e){return function(t){var n=al({},e);return s.a.keys(t).map((function(e){n[e]=t[e]})),n}},changeFilter:function(e){return function(t){return al({},e,{filter:t})}},changePopup:function(e){return function(t){return al({},e,{popup:t})}}}),Object(E.d)("loading","changeLoading",!1),Object(E.d)("listData","changeListData",[]),Object(E.d)("listColumns","changeListColumns",[]),Object(E.d)("listConfig","changeListConfig",[]),Object(E.d)("listActions","changeListActions",[]),Object(E.d)("pagination","changePagination",{pagenum:1,pagesize:20,foundcount:0}),Object(E.d)("basicConfig","changeBasicConfig",{}),Object(E.d)("print","changePrint",!1),Object(E.d)("filters","changeFilters",{}),Object(E.d)("isorderby","changeIsOrderBy",!1),Object(E.d)("params","changeParams",{inputs:{}}),Object(E.d)("ready","changeReady",!1),Object(E.d)("readyTable","changeReadyTable",!1),Object(E.d)("allProps","changeAllProps",{}),Object(E.d)("filterBlock","changeFilterBlock",!1),Object(E.d)("checked","changeChecked",[]),Object(E.d)("ts","changeTS",{}),Object(E.c)({actsRender:function(e){return function(t,n,a,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=e.listConfig,s=e.config,u=(e.inputs,e.params,e.history),m=e.location,d=e.basicConfig,p=e.listData,f=e.getone,g=P.a.parse(m.search),y=t.icon?Ln(t.icon).split("_"):"",v=o?null:t.title||"";switch(t.type){case"Link":return l.a.createElement(wn.a,{key:"s1"+n,placement:"topLeft",title:t.title||""},l.a.createElement(b.a,{style:{marginRight:"5px"},size:"small",type:t.isforevery?"primary":"dashed",onClick:function(){Rn(a,t,c||s,g,u)}},t.icon?"cn"===y[0]?l.a.createElement(h.a,{component:bn[y[1]]}):l.a.createElement(h.a,{type:Ln(t.icon)}):l.a.createElement(h.a,{type:""}),v));case"API":var E=function(e){return l.a.createElement(b.a,{style:{marginRight:"5px"},size:"small",type:t.isforevery?"primary":"dashed",onClick:function(){e&&Yn(a,t,c||s,g,0,r,p||f||{})}},t.icon?"cn"===y[0]?l.a.createElement(h.a,{component:bn[y[1]]}):l.a.createElement(h.a,{type:Ln(t.icon)}):l.a.createElement(h.a,{type:""}),v)};return l.a.createElement(wn.a,{key:"s1"+n,placement:"topLeft",title:t.title||""},t.actapiconfirm?l.a.createElement(kn.a,{placement:"bottom",title:"Подтвердите действие?",okText:"Да",cancelText:"Нет",onConfirm:function(){Yn(a,t,c||s,g,0,r,p||f||{})}},E()):E(!0));case"Delete":return l.a.createElement(wn.a,{key:"s1"+n,placement:"topLeft",title:t.title||""},l.a.createElement(kn.a,{placement:"bottom",title:"Удалить?",okText:"Да",cancelText:"Нет",onConfirm:function(){Hn(a,0,c,d.table,d.viewid,r)}},l.a.createElement(b.a,{size:"small",type:t.isforevery?"danger":"dashed",style:{marginRight:"5px"}},t.icon?"cn"===y[0]?l.a.createElement(h.a,{component:bn[y[1]]}):l.a.createElement(h.a,{type:Ln(t.icon)}):l.a.createElement(h.a,{type:""}),v)));case"Save":return l.a.createElement(wn.a,{key:"s1"+n,placement:"topLeft",title:t.title||""},l.a.createElement(b.a,{size:"small",type:"primary",icon:"plus",style:{marginRight:"5px"},onClick:i},t.title||""))}}},get_params:function(e){return function(t){var n={},a=t||e;return e.compo?(n.inputs=P.a.parse(a.location.search),n.search=a.location.search,n.path=a.path,n.id_page=a.path):(n.inputs=P.a.parse(a.location.search),n.search=a.location.search,n.path=a.match,n.id_page=a.match.params.id_page),al({},n)}}}),Object(E.c)({getData:function(e){var t=e.pagination,n=e.print,a=e.filters,r=e.location,l=(e.history,e.basicConfig),i=e.changeBasicConfig,o=(e.get_params,e.toggleLoading),c=e.set_state,s=e.changeListConfig,u=e.composition,m=e.set_comp,d=e.changeLoading,p=e.params,f=e.changeListData,h=e.changeListColumns,g=e.changePagination,y=e.compo,b=e.path,v=e.match,E=e.changeReadyTable,O=e.changeReady,_=e.changeAllProps,j=e.changeListActions,k=e.changeIsOrderBy,S=e.expand;e.changeTS;return function(e,C){d(!0);var D=al({},l),P=((JSON.parse(localStorage.getItem("usersettings"))||{views:{}}).views||{})[r.pathname]||{};P&&P.pagesize&&(t.pagesize=P.pagesize);new Promise((function(r,l){var E=y?b:v.params.id;z({url:"/schema/list?path="+E,data:{pagination:t,print:n,filters:C||a,inputs:p.inputs}}).then((function(n){if(y||p.inputs._doctitle_?p.inputs._doctitle_&&(document.title=p.inputs._doctitle_):document.title=n.data.title,t.foundcount=n.data.foundcount,n.data.subscrible){var a=document.location.href.split("//")[1];a="ws://"+(a=a.split("/")[0])+"/ws";var l=new WebSocket(a);ll.push(l),l.onopen=function(){var e=(n.data.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.related}))[0]||{}).key,t=[];n.data.data.forEach((function(n){return t.push(n[e])})),l.send(JSON.stringify({viewpath:E,ids:t}))},l.onclose=function(e){e.wasClean?console.log("clear closed (list)"):console.log("ws message close failed")},l.onmessage=function(t){var n=JSON.parse(t.data);n.error?console.log("ws message send error"):n.forEach((function(t){w.a.success({message:t.notificationtext}),z({url:"/api/setsended",data:{id:t.id}}).then((function(e){console.log("sended")})),e(e)}))},l.onerror=function(e){console.log("ws message send error")}}if(Array.isArray(n.data.config)){var b=[];n.data.config.forEach((function(e,t){var n=al({},e),a={title:n.title,onHeaderCell:function(e){return{onClick:function(){!1===e.sortOrder&&(e.sortOrder="ascend",O(!0))}}},dataIndex:n.key,sorter:n.sorter,sortOrder:n.sortOrder,width:n.width?100:n.width};0===t&&(a.key="key"),n.visible&&b.push(a)})),h(b)}u.data_list=al({},n.data),S||m(u);var v=n.data.data.map((function(e){return e.key=Un.nanoid(12),e}));c({origin:al({},n.data)}),n.data.acts.filter((function(e){return e.isforevery&&"Expand"!==e.type&&"onLoad"!==e.type})).length>0&&n.data.config.push({col:"__actions__",title:"➥",key:"__actions__",visible:!0,editable:!1}),n.data.config.unshift({col:"rownum",title:"#",key:"rownum",visible:!0,editable:!1}),n.data.checker&&n.data.config.unshift({col:"checker",title:"",key:"__checker__",visible:!0,editable:!1}),f(v),j(n.data.acts),s(n.data.config),g(t),k(n.data.isorderby),D.table=n.data.table,D.viewid=n.data.viewid,i(D),_(n.data),r(),d(!1),o(!1)}))})).then((function(){O(!0),E(!0)}))}}}),Object(E.c)({handlerPaginationPage:function(e){var t=e.getData,n=e.changeReadyTable,a=e.pagination,r=e.changePagination,l=e.location;return function(e,i){a.pagenum=e,a.pagesize=i;var o=JSON.parse(localStorage.getItem("usersettings"))||{views:{}};o.views&&o.views[l.pathname]?o.views[l.pathname].pagesize=i:o.views&&!o.views[l.pathname]&&(o.views[l.pathname]={pagesize:i}),An(o),localStorage.setItem("usersettings",JSON.stringify(o)),n(!1),r(a),t(t)}},handleTableChange:function(e){var t=e.changeReady,n=e.getData,a=e.params,r=e.changeParams,l=e.allProps;return function(e,i,o){t(!1);var c=l.config.filter((function(e){return e.title===o.field}))[0],s=a.inputs,u=[];o.order&&("descend"===o.order?u.push({col:c.col,t:c.t,related:c.related||0,desc:"desc",over:!0,fn:c.fn,fncols:c.fncolumns}):u.push({col:c.col,t:c.t,related:c.related||0,desc:"",fn:c.fn,fncols:c.fncolumns})),s.orderby=u,r(al({},a)),n(n)}}}),Object(E.c)({onSaveRow:function(e){var t=e.getData,n=(e.onChangeData,e.set_state,e.listData),a=e.origin;e.global;return function(e,r,l){var i=s.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key,o=n[l],c={};new Promise((function(t,n){c.tablename=a.table,o[i]&&(c.id=o[i]),c.config=al({},r),c.value=e,c.viewid=a.viewid,r.related?(c.relatetable=c.tablename,c.tablename=r.table):c.tablename=a.table,t(c)})).then((function(e){z({url:"api/saverow",data:e}).then((function(e){e.data.outjson;t(t),w.a.success({message:"Сохранено"})}))})).catch((function(e){e&&(console.log("Неопределенная ошибка:",e),w.a.error({message:"Ошибка",description:e.response?e.response.data.message:"Неопределенная ошибка"}))}))}}}),Object(E.c)({onChangeInput:function(e){var t=e.onSaveRow;return function(e,n,a){var r=e.target?e.target.value:e;t(r,n,a)}},onChangeCollapse:function(e){var t=e.set_state;return function(e){t({localChangeCollapse:!0,localActiveKey:e})}}}),Object(E.b)({componentWillMount:function(){var e=this.props,t=e.pagination,n=e.location,a=e.params,r=e.match,l=e.search,i=e.path,o=e.compo,c=e.getData,s=e.changeParams,u=e.set_state;o?(a.path=i,a.inputs=P.a.parse(n.search),a.search=l,t.pagenum=1):(a.inputs=P.a.parse(n.search),a.search=n.search,a.path=r.params.match),u({type_list:n.pathname.split("/")[1]}),s(al({},a,{},t)),c(c)},componentWillUnmount:function(){ll.forEach((function(e){return e.close()}))},componentDidUpdate:function(e){var t=this.props,n=t.btnCollapseAll,a=t.set_state;e.btnCollapseAll!==n&&a({localChangeCollapse:!1,collapseAll:n})},componentWillUpdate:function(e){var t=this.props,n=(t.match,t.getData),a=t.changeListColumns,r=t.changeReady,l=t.set_state,i=(t.filters,t.changeFilters),o=(t.path,t.compo),c=t.params,s=t.changeParams,u=t.pagination;o?c.path===e.params.path&&this.props.location.search===e.location.search||(c.inputs=P.a.parse(e.location.search),c.search=e.location.search,c.path=this.props.path,u.pagenum=1,r(!1),a({}),i({}),s(al({},c,{},u)),n(n,{})):this.props.match.params.id!==e.match.params.id&&(r(!1),u.pagenum=1,c.inputs=P.a.parse(e.location.search),a({}),i({}),n(n,{}),l({type_list:e.location.pathname.split("/")[1]}))}})),ol=a(1253),cl=Object(E.a)(Object(E.d)("indeterminate","changeInder",!0),Object(E.d)("apiData","changeApiData",{}),Object(E.c)({handlerColumnHider:function(e){e.basicConfig;var t=e.changeTS,n=e.path;return function(e,a){console.log("params",n);var r=JSON.parse(localStorage.getItem("usersettings"))||{},l={};if(r.views||(r.views={}),r.views[n]&&(l=r.views[n]),l.hide){var i=s.a.findIndex(l.hide,(function(e,t){return e===a.title}));-1!==i?l.hide.splice(i,1):l.hide.push(a.title)}else l.hide=[a.title];localStorage.setItem("usersettings",JSON.stringify(r)),r.views[n]=l,An(r),t(r.views)}},handlerFilters:function(e){var t=e.filters,n=e.changeFilters;return function(e,a){t[e]=a,n(t)}},handlerTriCheck:function(e){var t=e.filters,n=e.changeFilters,a=e.changeInder;return function(e,r){null==r&&(a(!1),t[e]=!0,n(t)),!0===r&&(t[e]=!1,n(t)),!1===r&&(a(!0),t[e]=null,n(t))}},handlerGetTable:function(e){e.listConfig,e.filters;var t=e.apiData,n=e.changeApiData;return function(e){var a;(a=e.id,A("/api/gettable",{id:a}).catch((function(){throw new Error("Ошибка")}))).then((function(a){t[e.title]=a.data.outjson,n(t)}))}}}))((function(e){var t=e.filter,n=e.filters,a=e.allProps,r=e.getData,i=e.changeLoading,o=e.changeFilter,c=e.changeFilters,u=e.handlerFilters,m=e.handlerGetTable,d=e.handlerTriCheck,p=e.handlerColumnHider,h=e.apiData,v=e.indeterminate,E=e.listColumns,O=e.arr_hide,_=(e.reduxUser,e.pagination),j=e.changePagination;return l.a.createElement(ol.a,{visible:t,width:450,closable:!1,onClose:function(){return o(!t)},maskStyle:{backgroundColor:"rgba(0,0,0, 0.12)"}},l.a.createElement(_n.a,{key:"sawad1",gutter:4},a.filters&&Array.isArray(a.filters)?a.filters.map((function(e,t){return l.a.createElement(On.a,{key:t+"s",span:parseInt(e.width)||24},function(){switch(e.type){case"substr":return[l.a.createElement(On.a,{key:"s1",span:24},l.a.createElement("label",null,e.title)),l.a.createElement(On.a,{key:"s2",span:24},l.a.createElement(f.a,{placeholder:e.title||"...",value:n[e.column],onKeyUp:function(e){13===e.keyCode&&(r(r),i(!0),o(!1))},onChange:function(t){return u(e.column,t.target.value)}}))];case"multijson":case"select":var t;return t="multijson"===e.type?n[e.column]&&Array.isArray(n[e.column])?n[e.column].map((function(e,t){return e.key=t})):[]:n[e.column],[l.a.createElement(On.a,{key:"s3",span:24},l.a.createElement("label",null,e.title)),l.a.createElement(On.a,{key:"s4",span:24},l.a.createElement(vn.a,{labelInValue:"multijson"===e.type,mode:"multijson"===e.type?"multiple":"default",showSearch:!0,value:n[e.column],placeholder:e.title,style:{width:"100%"},onFocus:function(){return m(e)},onDeselect:function(a){"multijson"===e.type&&(n[e.column]=s.a.filter(t,(function(e){return e.key!==a.key})),u(e.column,n[e.column]))},onSelect:function(t,a){"multijson"===e.type?Array.isArray(n[e.column])?n[e.column].push(a.props.item):n[e.column]=[a.props.item]:n[e.column]=t,u(e.column,n[e.column])}},h[e.title]&&Array.isArray(h[e.title])?h[e.title].map((function(e,t){return l.a.createElement(Option,{key:t,item:e,value:e.value},e.label)})):null))];case"typehead":return[l.a.createElement(On.a,{key:"s1",span:24},l.a.createElement("label",null,e.title)),l.a.createElement(On.a,{key:"s2",span:24},l.a.createElement(f.a,{placeholder:e.title||"...",value:n[e.title],onKeyUp:function(e){13===e.keyCode&&(r(r),i(!0),o(!1))},onChange:function(t){return u(e.title,t.target.value)}}))];case"period":var a=[];return n[e.column]&&(n[e.column].date1&&a.push(_a()(n[e.column].date1,"YYYY-MM-DD"))),n[e.column]&&(n[e.column].date2&&a.push(_a()(n[e.column].date2,"YYYY-MM-DD"))),[l.a.createElement(On.a,{key:"s1",span:24},l.a.createElement("label",null,e.title)),l.a.createElement(On.a,{key:"s2",span:24},l.a.createElement(Sa.a.RangePicker,{value:a,format:"YYYY-MM-DD",onKeyUp:function(e){13===e.keyCode&&(r(r),i(!0),o(!1))},locale:er.a,onChange:function(t,n){var a={date1:n[0],date2:n[1]};u(e.column,a)}}))];case"check":return[l.a.createElement(On.a,{key:"s1",span:24},l.a.createElement("label",null,e.title)),l.a.createElement(On.a,{key:"s2",span:24},l.a.createElement(wn.a,{placement:"topLeft",title:e.title||""},l.a.createElement(y.a,{checked:n[e.column]||null,indeterminate:v,onClick:function(){d(e.column,n[e.column])}},e.title)))];default:return l.a.createElement(On.a,null,e.type)}}())})):null),l.a.createElement(da.a,{key:"sawad2",style:{margin:"15px 0 0 0"}}),l.a.createElement(_n.a,{key:"sawad3",gutter:4},l.a.createElement(b.a,{type:"link",icon:"check",onClick:function(){_.pagenum=1,j(_),r(r),i(!0)}},"применить"),l.a.createElement(b.a,{type:"link",icon:"delete",onClick:function(){c(n={}),i(!0),_.pagenum=1,j(_),r(r,{})}},"очистить"),l.a.createElement(b.a,{type:"link",icon:"close",style:{color:"#ef1010"},onClick:function(){return o(!1)}},"закрыть")),l.a.createElement(_n.a,{key:"sawad5",gutter:4},l.a.createElement("br",null),l.a.createElement(g.a,{size:"small",header:l.a.createElement("div",null,"Показать/скрыть столбцы"),bordered:!0,dataSource:E,renderItem:function(e){return l.a.createElement(g.a.Item,null,l.a.createElement(y.a,{checked:-1===s.a.findIndex(O,(function(t){return t===e.title})),onChange:function(t){return p(t,e)}},e.title))}})))}));function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ml=Object(E.a)(Object(E.e)((function(e){var t=e.inState;return{modal_open:(void 0===t?{modal_open:!1}:t).modal_open}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}))((function(e){var t=e.files,n=void 0===t?[]:t,a=e.modal_open,r=e.set_state;return _.isEmpty(n)?null:[l.a.createElement("img",{key:"s1",width:150,src:C._url+n[0].uri,onClick:function(){r({modal_open:!0})}}),l.a.createElement(ta.a,{key:"s2",width:400,title:"Просмотр",visible:a,onCancel:function(){return r({modal_open:!1})},footer:null},l.a.createElement(xa.a,{dotPosition:"top"},n.map((function(e){return l.a.createElement("div",{key:Un.nanoid()},l.a.createElement("img",{key:"s1",width:350,src:C._url+e.uri}))}))))]})),dl=a(93),pl=a.n(dl),fl=a(640),hl=a.n(fl);function gl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Oa.locale("ru-Ru");var bl=ea.a.Content,vl=ka.a.Panel,El=Un.nanoid(),Ol=il(Object(i.o)((function(t){var n=t.origin,a=void 0===n?{}:n,r=t.history,i=t.ready,c=t.allProps,u=t.getData,m=t.basicConfig,d=t.pagination,p=t.handlerPaginationPage,g=t.filters,y=t.filter,v=t.changeFilter,E=t.isorderby,O=t.listData,_=void 0===O?[]:O,j=t.listColumns,k=t.listActions,S=t.listConfig,C=t.params,D=t.changeFilters,P=t.compo,x=t.loading,T=t.changeLoading,M=(t.ts,t.type_list,t.handlerGetTable),I=t.changeTS,A=t.set_state,L=t.location,z=t.get_params,F=t.onChangeInput,N=t.expandState,V=t.collapseAll,U=t.onChangeCollapse,R=t.localChangeCollapse,Y=t.localActiveKey,H=t.changePagination,B=t.changeChecked,q=t.checked;if(i){var W=function(e){return c.isfoundcount?"Всего: ".concat(e):""},J=function(){return l.a.createElement(l.a.Fragment,null,P?l.a.createElement(nr,{key:"sd1",actions:a.acts,origin:a,data:_,params:C,history:r,location:L,getData:u,checked:q}):null,Q(K),l.a.createElement("div",{key:"sd2",className:"size_table"},l.a.createElement(o.a,{spinning:x,tip:"Загрузка..."},"tiles"===a.viewtype?l.a.createElement("div",{className:c.classname&&""!==c.classname?c.classname:"fr_tiles"},(i?X:[]).map((function(e,t){return l.a.createElement(Ia.a,{key:"tile_"+t,style:{marginBottom:"5px"}},l.a.createElement(On.a,null,S.filter((function(e){return"rownum"!==e.key})).map((function(n,a){return!0===n.visible?l.a.createElement("div",null," ","__actions__"!==n.key?l.a.createElement(On.a,{span:n.width||12,key:"lfa_"+a,className:n.classname,style:{borderBottom:"1px dashed #ececec"},onDoubleClick:function(){var n=s.a.find(k,(function(t){return!0===t.ismain&&zn(e,t.act_visible_condition,C.inputs)}));if(n)switch(n.type){case"Link":Rn(_[t],n,S,C.inputs,r)}}},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,n.title+": ")),l.a.createElement("div",null,e[n.key]))):l.a.createElement(On.a,{span:24,key:"lfa_"+a,style:{borderBottom:"1px dashed #ececec"}},l.a.createElement("div",{className:"tiles_actions"},e[n.key]))):null}))))}))):l.a.createElement(l.a.Fragment,{key:El},l.a.createElement("div",{style:{overflowX:"auto"}},l.a.createElement(pl.a,{classes:c.classname&&""!==c.classname?c.classname:"tabtab list_table",keyField:"id",data:X,columns:$,expandRow:!!a.acts.filter((function(e){return"Expand"===e.type}))[0]&&Z,noDataIndication:function(){return l.a.createElement("label",{style:{color:"#c1bbbb"}},"...пусто...")},cellEdit:hl()({mode:"click",blurToSave:!0})}),l.a.createElement("label",{style:{fontSize:"9px"}},"count : ",c.foundcount))))),Q())},G=(((JSON.parse(localStorage.getItem("usersettings"))||{views:{}}).views||{})[L.pathname]||{}).hide||[],K=!!s.a.isArray(c.filters)&&!s.a.isEmpty(c.filters),Q=function(e){return l.a.createElement(_n.a,null,l.a.createElement(On.a,{span:20},c.pagination?l.a.createElement(el.a,{pageSizeOptions:["10","20","30","40","100"],current:d.pagenum,pageSize:d.pagesize,total:d.foundcount,showSizeChanger:c.ispagesize,size:"small",showTotal:W,onChange:p,onShowSizeChange:p}):null),l.a.createElement(On.a,{span:4},l.a.createElement(b.a,{type:"dashed",style:{float:"right"},icon:"filter",onClick:function(){return v(!y)}}),l.a.createElement(cl,{getData:u,allProps:c,path:L.pathname,filter:y,changeFilter:v,filters:g,changeFilters:D,listConfig:S,listColumns:j,changeLoading:T,arr_hide:G,handlerGetTable:M,changeTS:I,basicConfig:m,pagination:d,changePagination:H})))},X=[],$=[];S.forEach((function(t,n){"__checker__"==t.key&&$.push({dataField:t.key,text:t.title,title:t.title,editable:!1,headerFormatter:function(){return l.a.createElement("input",{onChange:function(e){var t=S.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key,n=[];e.target.checked&&_.forEach((function(e){n.push(e[t])})),B(n)},type:"checkbox"})}}),t.visible&&0===G.filter((function(e){return e===t.title})).length&&"__checker__"!==t.key&&$.push({dataField:t.key,text:t.title,title:function(){return t.title},events:{onDoubleClick:function(e,t,n,a,l){var i=s.a.find(k,(function(e){return!0===e.ismain&&zn(_[l],e.act_visible_condition,C.inputs)}));if(i)switch(i.type){case"Link":Rn(_[l],i,S,C.inputs,r)}}},headerTitle:!0,editable:t.editable,style:S.length-1!==n?{maxWidth:t.width,minWidth:t.width,border:"1px solid #c8c8c8"}:{hover:"black",maxWidth:t.width,minWidth:t.width,background:"#ffe8c9",border:"1px solid #c8c8c8",paddingLeft:".857em",position:"sticky",right:0},searchable:!0,headerStyle:S.length-1!==n?{width:t.width,maxWidth:t.width,minWidth:t.width,border:"1px solid #c8c8c8"}:{maxWidth:t.width,minWidth:t.width,background:"#ffe8c9",color:"black",border:"1px solid #c8c8c8",paddingLeft:".857em",position:"sticky",right:0},classes:t.classname,headerClasses:"ant-table-header-column ant-table-column-has-actions",sort:E,sortCaret:function(e,t){return e?"asc"===e?l.a.createElement("span",{style:{fontSize:9}},l.a.createElement(h.a,{style:{color:"red"},type:"caret-up"}),l.a.createElement(h.a,{type:"caret-down"})):"desc"===e?l.a.createElement("span",{style:{fontSize:9}},l.a.createElement(h.a,{type:"caret-up"}),l.a.createElement(h.a,{style:{color:"red"},type:"caret-down"})):null:l.a.createElement("span",{style:{fontSize:9}},l.a.createElement(h.a,{type:"caret-up"}),l.a.createElement(h.a,{type:"caret-down"}))},onSort:function(e,n){var a=C.inputs,r="";"desc"===n&&(r=n);var l=[{col:t.col,desc:r,fn:t.fn,fncols:t.fncolumns,related:t.related,t:t.t}];a.orderby=l,C.inputs=a,A({params:C},u(u))},editorRenderer:function(n,a,r,i,o,c){var s=_[o],u=s[i.dataField];switch(t.type){case"text":case"number":case"password":return l.a.createElement(f.a,{type:t.type,value:u||"",onChange:function(e){_[o][i.dataField]=e.target.value,A({listData:_})},onBlur:function(e){return F(e.target.value,t,o)}});case"checkbox":return l.a.createElement(f.a,{type:t.type,checked:u,onChange:function(e){_[o][i.dataField]=e.target.checked,F(e.target.checked,t,o),A({listData:_})}});case"date":return l.a.createElement(Sa.a,{value:u?Oa(u,"DD.MM.YYYY"):null,onChange:function(e,n){_[o][i.dataField]=n,F(n,t,o),A({listData:_})},locale:er.a,format:"DD.MM.YYYY"});case"datetime":return l.a.createElement(Sa.a,{value:u?Oa(u,"DD.MM.YYYY HH:mm"):null,onChange:function(n,a){_[o][i.dataField]=e,F(a,t,o),A({listData:_})},locale:er.a,format:"DD.MM.YYYY HH:mm"});case"select":case"select_api":return l.a.createElement(hr,{name:Un.nanoid(5),config:t,data:s,inputs:C.inputs,onChangeInput:function(e){_[o][i.dataField]=e,A({listData:_}),F(e,t,o)},location:L,globalConfig:S});case"multiselect":case"multiselect_api":return l.a.createElement(vr,{name:Un.nanoid(5),config:t,data:s,inputs:C.inputs,onChangeInput:function(e){_[o][i.dataField]=e,F(e,t,o),A({listData:_})},location:L,globalConfig:S});case"typehead":case"typehead_api":return l.a.createElement(Pr,{name:Un.nanoid(5),config:t,data:s,inputs:C.inputs,onChangeInput:function(e){_[o][i.dataField]=e,F(e.value,t,o),A({listData:_})},location:L,globalConfig:S});case"multitypehead":case"multitypehead_api":return l.a.createElement(zr,{name:Un.nanoid(5),config:t,data:s,inputs:C.inputs,onChangeInput:function(e){_[o][i.dataField]=e,F(e,t,o),A({listData:_})},location:L,globalConfig:S});default:return l.a.createElement("input",{value:u,onChange:function(e){_[o][i.dataField]=e.target.value,A({listData:_})},onBlur:function(e){return F(e.target.value,t,o)}})}}})})),_.forEach((function(e,t){var n={};Object.keys(e).forEach((function(t){var a=S.filter((function(e){return e.key===t}))[0],r=e[t],i=function(e,t){var n;return t.filter((function(e){return"colorrow"===e.type})).length>0&&(n=t.filter((function(e){return"colorrow"===e.type}))[0].key),e[n]};if(a&&a.visible)if("image"===a.type||"images"===a.type||"gallery"===a.type)n[t]=l.a.createElement(ml,{files:r||[]});else if("file"===a.type||"files"===a.type||"filelist"===a.type)n[t]=l.a.createElement("ul",null,(r||[]).map((function(e){return l.a.createElement("li",{key:e.uri},l.a.createElement("div",null,l.a.createElement("div",null,e.filename),l.a.createElement("div",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.uri},"скачать"))))})));else if("link"===a.type)n[t]=l.a.createElement("div",null,"object"!==yl(r)?l.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"}," ",r):l.a.createElement("a",{href:(r||{link:""}).link,target:(r||{target:null}).target||"_blank",rel:"noopener noreferrer"},(r||{title:""}).title));else if("color"===a.type||"colorpicker"===a.type)n[t]=l.a.createElement("div",{style:{width:20,height:20,backgroundColor:r}});else if("select"===a.type)if(a.relation&&a.relationcolums&&a.relationcolums.length>0&&a.relationcolums.filter((function(e){return"id"!==e.value})).length>0&&a.relationcolums.filter((function(e){return"id"!==e.value}))[0].value){var o=a.relationcolums.filter((function(e){return"id"!==e.value}))[0].value,c=(S.filter((function(e){return e.col===o&&e.table===a.relation}))[0]||{}).key;r=e[c],n[t]=l.a.createElement("span",{style:{color:i(e,S)}},null!=r?"object"===yl(r)?l.a.createElement("span",null,JSON.stringify(r)):r.toString().split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e,l.a.createElement("br",null))})):"")}else n[t]=l.a.createElement("span",{style:{color:i(e,S)}},null!=r?"object"===yl(r)?l.a.createElement("span",null,JSON.stringify(r)):r.toString().split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e,l.a.createElement("br",null))})):"");else"array"===a.type?n[t]=l.a.createElement("div",null,r.length>0?l.a.createElement(ka.a,{defaultActiveKey:["1"]},l.a.createElement(vl,{header:a.title,key:"1"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,Object.keys(r[0]||{}).map((function(e){return l.a.createElement("th",{key:e},e)})))),l.a.createElement("tbody",null,r.map((function(e){return l.a.createElement("tr",{key:JSON.stringify(e)},Object.keys(e).map((function(t){return l.a.createElement("td",{key:t},e[t])})))})))))):l.a.createElement("div",null)):"checkbox"===a.type?n[t]=l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",disabled:!0,checked:r})):n[t]=l.a.createElement("span",{style:{color:i(e,S)}},null!=r?"object"===yl(r)?l.a.createElement("span",null,JSON.stringify(r)):r.toString().split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e,l.a.createElement("br",null))})):"")}));var i=z();n.__actions__=l.a.createElement(nr,{actions:k||[],origin:a||{},data:e||{},params:i,history:r,location:L,getData:function(){return u(u,g)},type:"table",checked:q}),n.id=t;n.__checker__=l.a.createElement("div",null,l.a.createElement("input",{checked:function(e){var t=S.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key;return q.filter((function(n){return e[t]===n})).length>0}(e),onChange:function(t){var n=S.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key,a=e[n],r=q;t.target.checked?r.push(a):r=r.filter((function(e){return e!==a})),B(r)},type:"checkbox"})),X.push(n)}));var Z={renderer:function(e,t){var n=a.acts.filter((function(e){return"Expand"===e.type}))[0],i={};if(n){i={search:Fn(_[t],n,S,r),pathname:n.act};var o=n.act.split("/")[1];switch(o){case"list":return l.a.createElement("div",null,l.a.createElement(Ol,{compo:!0,location:i,path:n.act.split("/")[2],id_page:n.act.split("/")[2]}));case"getone":return l.a.createElement("div",null,"tabForm",l.a.createElement($r,{compo:!0,location:i,path:n.act.split("/")[2],id_page:n.act.split("/")[2]}));default:return function(){w.a.open({message:"Тип ".concat(o," невалидный  "),description:"используйте list, либо getone"})}}}},expanded:N,onExpand:function(e,t,n,r){if(a.acts.filter((function(e){return"Expand"===e.type}))[0]){var l=gl(N),i=e.id,o=l.findIndex((function(e){return e===i}));t?!l.includes(i)&&l.push(e.id):l.splice(o,1),A({expandState:l})}}};return l.a.createElement(ka.a,{activeKey:R?Y:V?[]:["1"],onChange:U},l.a.createElement(vl,{header:c.title.toUpperCase(),key:"1"},l.a.createElement(bl,{key:"s3",className:"f_content_app"},l.a.createElement("h3",null,C.inputs._sub_title),P?null:l.a.createElement(ga,{key:"s1",history:r,title:""},l.a.createElement(nr,{actions:a.acts,origin:a,data:_,params:C,history:r,location:L,getData:u,checked:q})),P?l.a.createElement("div",{className:"f_content_app"}," ",J()," "):l.a.createElement(Ia.a,{key:"s2",size:"small",style:{margin:P?"":"10px"}},J()))),l.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          .ant-collapse-content-box {padding:0 !important}\n          .tabtab {\n            border-collapse: collapse;\n            width: 100%;\n          }\n        "}}))}return l.a.createElement(_n.a,{style:{textAlign:"center",background:"rgba(0, 0, 0, 0.05)",borderRadius:"4px",marginBottom:"20px",padding:"150px 30px",margin:"20px 0"}}," ",l.a.createElement(o.a,null)," ")}))),_l=Object(E.a)(Object(v.b)((function(e){return{viewtypes:e.settings.viewtypes,tables:e.settings.tables,columntypes:e.settings.columntypes,filtertypes:e.settings.filtertypes}})),Object(E.d)("ready","changeReady",!1),Object(E.d)("values","changeValues",{}),Object(E.d)("renderJson","changeRenderJson",{}),Object(E.d)("views","changeViews",[]),Object(E.d)("helper","changeHelper",{}),Object(E.c)({getData:function(e){var t=e.changeReady,n=e.changeValues,a=e.changeViews,r=e.location;return function(){I("/api/compo",{id:P.a.parse(r.search).id}).then((function(e){document.title=e.data.outjson.title,n(e.data.outjson),I("/api/views",{}).then((function(e){a(e.data.outjson),t(!0)}))}))}},handlerSaveForm:function(e){var t=e.values;return function(){z({url:"api/compo",data:JSON.stringify(t)}).then((function(e){w.a.success({message:"Сохранено",description:""})}))}}}),Object(E.c)({handlerValues:function(e){var t=e.changeValues;return function(e,n){t(e)}},handlerValuesHelper:function(e){var t=e.helper,n=e.changeHelper;return function(e,a,r){t[r]=e,n(t)}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.renderJson,n=e.changeRenderJson,a=e.getData;t.basic=Un.parseJSON([{block:"row",params:{css:"",gutter:4},content:[{block:"col",params:{css:"",span:12},content:[{block:"input",binding:"path",type:"text",params:{css:"",label:"compo path",placeholder:"path"}}]},{block:"col",params:{css:"",span:12},content:[{block:"input",binding:"title",type:"text",params:{css:"",label:"compo title",placeholder:"title "}}]}]}]),t.views=Un.parseJSON([{block:"row",params:{css:"",gutter:4},content:[{block:"col",params:{css:"",span:24},content:[{block:"select",binding:"path",params:{css:"",showSearch:!0,labelInValue:!0,data:"views",api_id:"id",api_text:"title",label:"Выберите View",placeholder:"view path",item_path:"path"}}]},{block:"col",params:{css:"",span:8},content:[{block:"input",binding:"width",type:"number",params:{css:"",label:"width",placeholder:"width",min:0,max:24}}]}]}]),n(t),a()}}));function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){kl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}b.a.Group;var Sl=ea.a.Content,Cl={path:null,heigh:null,width:null},Dl=_l((function(e){var t=e.views,n=e.renderJson,a=e.ready,r=e.handlerSaveForm,i=e.values,c=e.handlerValues,u=e.changeValues,m=e.helper,d=e.changeHelper,p=e.handlerValuesHelper,f={views:t||[]};return[l.a.createElement(ga,{key:"s1",title:""},l.a.createElement(b.a,{type:"dashed",icon:"save",onClick:r},"Сохранить")),l.a.createElement(o.a,{key:"s2",spinning:!a},l.a.createElement(Sl,{className:"content_app get_one_form"},a?[l.a.createElement(On.a,{key:"s1",style:{marginBottom:"8px"}},Un.render(n.basic,null,i,c,f)),l.a.createElement(da.a,{key:"s2"}),l.a.createElement(On.a,{key:"s3",style:{marginBottom:"8px"}},i.config&&i.config.length>0?i.config.map((function(e,t){var a=24;return[l.a.createElement(_n.a,{key:"sr_i_"+t,gutter:8},e.cols.map((function(r,o){r.width=r.width?parseInt(r.width):r.width,0===o?a=e.cols.length>0?a-r.width:24:a-=r.width;var g=0===o?24:Math.floor(e.cols.length>1?24-a:24);return l.a.createElement(On.a,{key:"col_d_"+o,span:r.width||g},l.a.createElement("div",{style:{position:"absolute",right:"0px",height:"100%",width:"2px",background:"rgba(24, 144, 255, 0.38)"}},l.a.createElement(b.a,{type:"primary",icon:"plus",shape:"circle",size:"small",style:{top:"-20px",left:"-11px",zIndex:1},onClick:function(){var t=wl({},Cl);t.rownum=e.cols.length+1,t.width=a,e.cols.splice(o+1,0,t),u(i),m.col=wl({},t),m.col_origin=t,m.new_col=o+1,d(m)}})),l.a.createElement(Ia.a,{size:"small",style:{marginRight:"2px"},title:Un.searchByString(r,"path,title")||"--Не найден--",extra:[l.a.createElement(h.a,{key:"sawe_1",type:"setting",title:"Настройка",onClick:function(){m.col=wl({},r),m.col_origin=r,d(m)}}),l.a.createElement(da.a,{key:"sawe_2",type:"vertical"}),l.a.createElement(kn.a,{key:"sawe_3",title:"Вы действительно хотите удалить?",onConfirm:function(){e.cols.splice(o,1),s.a.isEmpty(e.cols)&&i.config.splice(t,1),c(i)},okText:"Да",cancelText:"Нет"},l.a.createElement(h.a,{title:"Удалить",type:"delete"}))]},m.col&&m.col_origin===r?l.a.createElement(ta.a,{title:"",visible:!0,onOk:function(){m.new_col?i.config[t].cols[m.new_col]=wl({},m.col):i.config[t].cols[o]=wl({},m.col),m.col=null,m.new_col=null,d(m),u(i)},onCancel:function(){m.new_col&&(i.config[t].cols.splice(m.new_col,1),u(i)),m.col=null,m.new_col=null,d(m)}},Un.render(n.views,null,m.col,(function(e,t){return p(e,t,"col")}),f)):null))}))),l.a.createElement("div",{key:"sr_s_"+t,style:{width:"20%",height:"2px",background:"rgba(24, 144, 255, 0.38)",margin:"2px 0px"}},l.a.createElement(b.a,{type:"primary",icon:"plus",shape:"circle",size:"small",style:{top:"-11px",left:"-8px",zIndex:1},onClick:function(){var n=wl({},{cols:[{rownum:1,path:null,heigh:null,width:null}]});n.rownum=e.rownum+1,i.config.splice(t+1,0,n),u(i)}}))]})):l.a.createElement("div",{style:{width:"20%",height:"2px",background:"rgba(24, 144, 255, 0.38)",margin:"2px 0px"}},l.a.createElement(b.a,{type:"primary",icon:"plus",shape:"circle",size:"small",style:{top:"-11px",left:"-8px",zIndex:1},onClick:function(){var e=wl({},{cols:[{rownum:1,path:null,heigh:null,width:null}]});e.rownum=1,i.config=[e],u(i)}})))]:null))]}));function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){Tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Il=function(e){var t=e.history,n=e.path,a=e.compo,i=e.location,c=e.match,s=Ml(Object(r.useState)({}),2),u=s[0],m=s[1],d=u.loading,p=void 0!==d&&d,f=u.values,h=void 0===f?{}:f,g=u.id_page,y=void 0===g?null:g,v=u.init,E=void 0!==v&&v,O=u.btnCollapseAll,j=void 0!==O&&O;function w(e){var t=xl({},u);_.keys(e).map((function(n){t[n]=e[n]})),m(t)}function k(e,t){I("/api/compobypath",{path:e}).then((function(n){document.title=n.data.outjson.title,w({id_page:e,loading:!1,init:!!t||E,values:xl({},n.data.outjson)})}))}var S=a?n:c.params.id;function C(){w({btnCollapseAll:!j})}return Object(r.useEffect)((function(){y!==S&&null!==y?(m({loading:!0,values:{}}),k(S)):_.isNull(y)&&k(a?n:c.params.id,"init")}),[S]),l.a.createElement("div",{tabIndex:0,onKeyDown:function(e){48===e.keyCode&&e.altKey&&e.ctrlKey&&C()}},a?null:l.a.createElement(ga,{key:"s1",history:t,title:""}),l.a.createElement(_n.a,{key:"s2",style:{margin:"0 10px"}},l.a.createElement("div",{style:{display:"flex",justifyContent:"right",padding:"10px 0"}},l.a.createElement(b.a,{type:"primary",ghost:!0,size:"small",onClick:C,icon:j?"plus-square":"minus-square"},j?"Развернуть":"Свернуть"," все")),l.a.createElement(o.a,{tip:"Loading...",spinning:p||!1},y===S?p?null:h.config&&_.isArray(h.config)?h.config.map((function(e,n){return l.a.createElement(_n.a,{key:n,gutter:8,type:"flex",justify:"center",align:"middle"},e.cols.map((function(e,n){return l.a.createElement(On.a,{key:n,span:e.width||24},function(){switch(e.path.viewtype){case"table":case"tiles":return l.a.createElement(Ol,{compo:!0,path:e.path.path,history:t,location:i,btnCollapseAll:j});case"form full":case"form not mutable":return l.a.createElement("div",null,l.a.createElement("h4",null,null),l.a.createElement($r,{compo:!0,path:e.path.path,history:t,location:i,values:h,btnCollapseAll:j}))}}())})))})):null:null)))};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fl=Object(E.a)(Object(E.d)("values","changeValues",{}),Object(E.d)("menu","changeMenu",[]),Object(E.d)("openedKeys","changeOpenedKeys",[]),Object(E.d)("rootKeys","changeRootKeys",[]),Object(E.d)("view","changeView",{}),Object(E.d)("params","changeParams",{inputs:{}}),Object(E.d)("ready","changeReady",!0),Object(E.c)({handlerOpenChange:function(e){var t=e.openedKeys,n=e.rootKeys,a=e.changeOpenedKeys;return function(e){var r=e.find((function(e){return-1===t.indexOf(e)}));-1===n.indexOf(r)?a(e):a(r||[])}}}),Object(E.c)({getData:function(e){var t=e.history,n=e.location,a=e.match,r=e.changeView,l=e.changeValues,i=e.changeReady,o=e.changeMenu,c=e.changeRootKeys;return function(){I("/api/treesbypath",{path:a.params.id}).then((function(e){document.title=e.data.outjson.title,l(Ll({},e.data.outjson));var a=e.data.outjson,s=a.branches,u=a.items,m=[],d=!!n.hash;if(_.isArray(s)&&!_.isEmpty(s)&&(s.map((function(e,a){if(!0===e.ismain&&!d){var l=_.find(u,(function(t){return t.key===e.key}));t.push(n.pathname+n.search+"#"+l.key),l.path&&l.treeviewtype>0&&r(l)}e.children&&m.push(e.key)})),o(s),n.hash)){var p=_.find(u,(function(e){return"#"+e.key===n.hash}));p.path&&p.treeviewtype>0&&r(p)}c(m),i(!0)}))}}}),Object(E.c)({handlerSelectMenu:function(e){var t=e.changeReady,n=e.history,a=e.values,r=e.location,l=e.changeView;return function(e){var i=Un.searchByString(e,"item,props,data"),o=_.find(a.items,(function(e){return e.key===i.key}));r.hash!=="#"+o.key&&(t(!1),n.push(r.pathname+r.search+"#"+o.key),o.path&&o.treeviewtype>0&&l(o))}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.getData,n=e.changeReady,a=e.params,r=e.changeParams,l=e.match,i=e.location;a.inputs=P.a.parse(i.search),a.path=l.params.match,a.search=i.search,r(Ll({},a)),n(!1),t()},componentDidUpdate:function(e){e.location.hash!==this.props.location.hash&&!1===this.props.ready&&this.props.changeReady(!0),e.location.search!==this.props.location.search&&(this.props.getData(),this.props.changeReady(!1))}})),Nl=En.a.SubMenu,Vl=Fl((function(e){var t=e.history,n=e.location,a=e.getData,r=e.view,i=e.ready,c=e.openedKeys,u=e.menu,m=e.handlerOpenChange,d=e.handlerSelectMenu,p=e.values,f=e.params;function g(e,t){return e.map((function(e,n){return e.children?l.a.createElement(Nl,{key:e.key,data:e,title:l.a.createElement("span",null,l.a.createElement(h.a,{type:e.icon||""}),l.a.createElement("span",null,e.label||"--"))},t(e.children,t)):l.a.createElement(En.a.Item,{key:e.key,data:e},l.a.createElement("span",null,l.a.createElement(h.a,{type:e.icon||""}),l.a.createElement("span",null,e.label||"--")))}))}return[l.a.createElement(ga,{key:"s1",history:t,title:""},s.a.isEmpty(p)?null:l.a.createElement("b",{style:{marginLeft:"5rem",color:"#001529",fontSize:"1.1em"}},p.title.toUpperCase())),l.a.createElement(_n.a,{key:"s2",gutter:8,style:{margin:"10px",background:"inherit !inherit"}},l.a.createElement(_n.a,null,l.a.createElement(nr,{actions:p.acts,origin:p,data:p.items,params:f,history:t,location:n,getData:a})),l.a.createElement(ea.a,null,l.a.createElement(_n.a,{style:{margin:"0 10px"}},l.a.createElement(En.a,{size:"small",mode:"horizontal",openKeys:c,onOpenChange:m,onClick:d},g(u,g))),l.a.createElement(ea.a.Content,null,l.a.createElement(o.a,{tip:"Loading...",spinning:!i},i?1===r.treeviewtype?function(){switch(r.viewtype){case"table":return l.a.createElement(_n.a,{style:{margin:"0 10px"}},l.a.createElement(Ol,{compo:!0,path:r.path,history:t,location:n}));case"form full":case"form not mutable":return l.a.createElement(_n.a,{style:{margin:"0 10px"}},l.a.createElement($r,{compo:!0,path:r.path,history:t,location:n}))}}():2===r.treeviewtype?l.a.createElement(Il,{trees:!0,compo:!0,path:r.path,history:t,location:n}):null:null))))]}));function Ul(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wl=Object(E.a)(Object(E.d)("values","changeValues",{}),Object(E.d)("params","changeParams",[]),Object(E.d)("inputs","changeInputs",{}),Object(E.d)("selections","changeSelections",[]),Object(E.c)({getData:function(e){var t=e.match,n=e.changeValues,a=e.changeParams;return function(){I("/api/report",{id:t.params.id}).then((function(e){document.title=e.data.outjson.title,n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){Yl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data.outjson)),a(Ul(e.data.outjson.params))}))}},getSelectOptions:function(e){var t=e.changeSelections,n=e.selections;return function(e,a,r){I("/api/methodinfo",{id:r}).then((function(r){"get"===r.data.outjson.methotypename?I("/api/".concat(r.data.outjson.methodname),{substr:a}).then((function(a){var r=n;r[e]=a.data.outjson,t(r)})):Error("Methotypename от data не является GET запросом")}))}},getReportFile:function(e){var t=e.inputs,n=e.values;return function(){var e="?";Object.keys(t).forEach((function(n){return e+=n+"="+JSON.stringify(t[n])+"&"})),e+="filename="+n.filename+"&template=.."+n.template_path,console.log("open report","/rep/"+n.path+e),window.open("/rep/"+n.path+e)}}}),Object(E.b)({componentDidMount:function(){(0,this.props.getData)()},componentDidUpdate:function(e){this.props.selections;e.selections}}))((function(e){var t=e.values,n=e.params,a=e.changeInputs,r=e.inputs,i=e.selections,o=e.getSelectOptions,c=e.getReportFile,s=t.title,u=ur.a.Option;return[l.a.createElement(Ia.a,{key:"1l"},l.a.createElement("h2",null,s),n.map((function(e){return l.a.createElement("div",{key:e.id+e.ptitle},function(){switch(e.typename){case"select":var t=e.id+e.ptitle;return l.a.createElement(On.a,{span:24,key:t},l.a.createElement("div",null,l.a.createElement("b",null,e.ptitle)),l.a.createElement(ur.a,{styles:{container:function(e){return Bl({},e,{width:"40%"})}},onChange:function(t){var n=r;n[e.func_paramtitle]=t,a(n)},defaultValue:r[e.func_paramtitle],onFocus:function(){return o(t,null,e.apimethod)},options:i[t]}));case"multiselect":return l.a.createElement("div",{key:e.ptitle+e.id},l.a.createElement("div",null,l.a.createElement("b",null,e.ptitle)),l.a.createElement(ur.a,{isMulti:!0,styles:{container:function(e){return Bl({},e,{width:"70%"})}},onChange:function(){var t=r,n=arguments.length<=0?void 0:arguments[0];_.isNull(n)?delete t[e.func_paramtitle]:t[e.func_paramtitle]=n,a(t)},devaultValue:r[e.func_paramtitle],onFocus:function(){return o(t,null,e.apimethod)},options:i[t]}));case"typehead":return l.a.createElement("div",{key:e.title},l.a.createElement("div",null,l.a.createElement("b",null,e.ptitle)),l.a.createElement("div",null,l.a.createElement(Ca.a,{onFocus:function(){return o(t,null,e.apimethod)},placeholder:e.ptitle,filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())},dataSource:i[e.func_paramtitle],devaultValue:r[e.func_paramtitle],onChange:function(t){var n=r,l=i.find((function(e){return e.label===t}));n[e.func_paramtitle]=l,a(n)}},i&&i[t]?i[t].map((function(e){return l.a.createElement(u,{key:e.id+e.label,value:e.label},e.label)})):null)));default:return l.a.createElement("div",{key:e.ptitle+e.id},l.a.createElement("div",null,l.a.createElement("b",null,e.ptitle)),l.a.createElement(f.a,{style:{width:"30%"},onChange:function(t){var n=r;n[e.func_paramtitle]=t.target.value,a(n)},defaultValue:r[e.func_paramtitle],type:e.typename,placeholder:e.ptitle}))}}())})),l.a.createElement(b.a,{onClick:c,style:{marginTop:"10px"}},"Сформировать отчет"))]})),Jl=a(1256),Gl=function(e){var t=e.history,n=e.location;return l.a.createElement(Jl.a,{status:"404",title:"404: Страница не найдена",subTitle:"".concat(n.pathname+n.search+n.hash),extra:l.a.createElement(b.a,{type:"primary",onClick:function(){return t.goBack()}},"Назад")})};function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xl=ea.a.Content,$l=Object(E.a)(Object(v.b)((function(e){return{user_detail:e.user.user_detail}}),(function(e){return{getMenu:function(t){return e(Object(O.k)(t))}}})),Object(E.e)((function(e){var t=e.inState;return{one:(void 0===t?{one:{}}:t).one}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){Ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return s.a.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(E.c)({getData:function(e){var t=e.set_state;return function(e){I("/api/userorgs").then((function(n){t({json:e,api_data:{orgs:n.data.outjson}})}))}},handleChange:function(e){var t=e.set_state;return function(e,n){t(e)}},handleSave:function(e){var t=e.one,n=e.getMenu;return function(){L({url:"/api/userorgs",data:JSON.stringify({orgid:t.org})}).then((function(e){w.a.success({message:"Сохранено",description:""}),A("api/menus").then((function(e){n(e)}))}))}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.getData;e.one;t({orgs:Un.parseJSON([{block:"select",binding:"org",params:{css:"",showSearch:!0,data:"orgs",api_id:"value",api_text:"label",label:"Организация",placeholder:"Организация"}}])})},componentDidUpdate:function(){var e=this.props,t=e.one,n=e.user_detail,a=e.set_state;!s.a.isEmpty(n)&&s.a.isEmpty(t)&&a({one:{org:n.orgid}})}}))((function(e){e.data;var t=e.handleChange,n=e.handleSave,a=e.one,r=e.json,i=void 0===r?{}:r,o=e.api_data,c=void 0===o?{}:o;return[l.a.createElement(ga,{key:"s1"}),l.a.createElement(Xl,{key:"s2",className:"content_app"},l.a.createElement("h3",null,"Выбор организации"),Un.render(i.orgs||[],null,a,t,c),l.a.createElement(b.a,{style:{marginTop:"10px"},type:"primary",onClick:n},"Сменить"))]}));function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ti=Object(E.a)(Object(v.b)((function(e){return{chatId:e.user.chatId,is_unreaded_exist:e.user.is_unreaded_exist}}),(function(e){return{get_chat_id:function(){return e(Object(O.i)())},set_chat_id:function(t){return e(Object(O.m)(t))},set_first_id:function(t){return e(Object(O.o)(t))},set_unreaded_status:function(t){return e(Object(O.r)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{openDrawerPanel:!1,openModalInit:!1,openModalInitPerson:!1,carouselRef:l.a.createRef(),carouselRefPerson:l.a.createRef(),statusCreateChat:!1,dataListChats:[],chatPhotoUri:"",chatName:"",getStatus:!1}:t;return{openDrawerPanel:n.openDrawerPanel,openModalInit:n.openModalInit,openModalInitPerson:n.openModalInitPerson,carouselRef:n.carouselRef,carouselRefPerson:n.carouselRefPerson,statusCreateChat:n.statusCreateChat,dataListChats:n.dataListChats,chatPhotoUri:n.chatPhotoUri,chatName:n.chatName,getStatus:n.getStatus}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getData:function(e){var t=e.set_state;return function(){I("/api/dialogs").then((function(e){t({dataListChats:e.data.outjson,getStatus:!0})}))}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.get_chat_id,n=e.getData,a=e.set_state;t(),n(),a({getStatus:!1})},componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=t.dataListChats,r=t.set_state,l=t.statusCreateChat,i=t.set_chat_id,o=(t.set_first_id,t.set_unreaded_status),c=t.is_unreaded_exist,s=t.getData;if(!0===c&&(s(),o(!1)),e.chatId!==n&&n&&a.length>0){var u=a.find((function(e){return e.id===n}));r({chatPhotoUri:u.photo[0]?u.photo[0].uri:"",chatName:u.title})}!0===l&&e.dataListChats!==a&&(i(a[0].id),r({statusCreateChat:!1,getStatus:!1}));if(e.dataListChats!==a&&n&&a.length>0){var m=a.find((function(e){return e.id===n}));try{r({chatPhotoUri:m.photo[0]?m.photo[0].uri:"",chatName:m.title})}catch(e){throw console.error("inner",e.message),e}}}}));function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var li=Object(E.a)(Object(v.b)((function(e){return{chatId:e.user.chatId}}),(function(e){return{set_chat_id:function(t){return e(Object(O.m)(t))}}}))),ii={sider__list:{borderRight:"1px solid #c1c1c1",overflow:"auto",maxHeight:"calc(100vh - 116px)"},sider__listItem:{borderBottom:"1px solid grey"},list_avatarIcon:{marginLeft:5}},oi=li((function(e){var t=e.dataListChats,n=e.set_chat_id,a=e.chatId;return l.a.createElement(g.a,{style:ii.sider__list,itemLayout:"horizontal",dataSource:t,renderItem:function(e){var t=a===e.id?"#98cdfb":"aliceblue",r=a===e.id?{padding:"0 10px 0",backgroundColor:"#4586c2",color:"white",display:"inline",borderRadius:10}:null;return l.a.createElement(g.a.Item,{className:"chat__menuItem",style:ai({},ii.sider__listItem,{backgroundColor:t}),onClick:function(){n(e.id)}},l.a.createElement(g.a.Item.Meta,{avatar:e.photo.length>0?l.a.createElement(na.a,{size:42,className:"chat__avatar",src:C._url+e.photo[0].uri}):"group"===e.dialog_type_name?l.a.createElement(na.a,{size:42,style:ii.list_avatarIcon,icon:"team"}):l.a.createElement(na.a,{size:42,style:ii.list_avatarIcon,icon:"user"}),title:l.a.createElement("div",{style:ai({fontSize:18},r)},l.a.createElement("span",null,"group"===e.dialog_type_name?l.a.createElement(h.a,{type:"team",style:{paddingRight:10}}):null,e.title),e.unreaded>0?l.a.createElement("span",{style:{color:"aliceblue",position:"absolute",right:30,padding:"1px 7px",backgroundColor:"grey",borderRadius:"50%"}},e.unreaded):null),description:null===e.last_message?"Чат создан. Нет сообщений":l.a.createElement("div",null,l.a.createElement("span",{style:{color:"blue"}},e.last_message.ismine?"Вы":e.last_message.login,": "),l.a.createElement("span",null,""===e.last_message.message_text?"файл/картинка":e.last_message.message_text.length>79?e.last_message.message_text.slice(0,79).concat("..."):e.last_message.message_text))}))}})})),ci=a(1244),si=a(641),ui=a(86),mi={37:1,38:1,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function di(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function pi(e){if(mi[e.keyCode])return di(e),!1}function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yi=f.a.Search,bi=Object(E.a)(Object(v.b)((function(e){return{chatId:e.user.chatId,is_first_id:e.user.is_first_id}}),(function(e){return{get_chat_id:function(){return e(Object(O.i)())},set_first_id:function(t){return e(Object(O.o)(t))},set_chat_id:function(t){return e(Object(O.m)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{refList:l.a.createRef(),visiblePopover:!1,refLastEl:l.a.createRef(),isScrolled:!1,elemTopScroll:null,isModalImgOpen:!1,isModalForwardOpen:!1,isModalDeleteOpen:!1,srcImage:null,commentForwardID:null,valueSearch:"",dataFilteredChats:[],idDeleteComment:null}:t;return{refList:n.refList,visiblePopover:n.visiblePopover,refLastEl:n.refLastEl,isScrolled:n.isScrolled,elemTopScroll:n.elemTopScroll,isModalImgOpen:n.isModalImgOpen,isModalForwardOpen:n.isModalForwardOpen,isModalDeleteOpen:n.isModalDeleteOpen,srcImage:n.srcImage,commentForwardID:n.commentForwardID,valueSearch:n.valueSearch,dataFilteredChats:n.dataFilteredChats,idDeleteComment:n.idDeleteComment}}),{set_state:function(e){return function(t){var n=hi({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({removeComment:function(e){var t=e.setStateUpComp,n=e.set_state;return function(e){n({idDeleteComment:null,isModalDeleteOpen:!1}),t({isCommentDelete:e}),F({url:"api/dialog_delete_message",data:{id:e}}).catch((function(){t({isCommentDelete:!1})}))}},replyComment:function(e){var t=e.setStateUpComp;return function(e){t({answerComment:{id:e.id,text:e.message_text,login:e.login}})}},scrollMore:function(e){var t=e.chatId,n=e.setStateUpComp,a=e.comments,r=e.set_state;return function(e){a.some((function(e){return!0===e.isfirst}))?r({elemTopScroll:null,isScrolled:!1}):I("/api/dialog_messages",{dialogid:t,pagesize:e}).then((function(e){n({comments:e.data.outjson})}))}},scrollToAnchor:function(e){var t=e.comments,n=e.chatId,a=e.setStateUpComp;return function(e,r){t.some((function(e){return e.id===r}))||I("/api/dialog_messages",{dialogid:n,reply_to:r}).then((function(e){a({comments:e.data.outjson})})),e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("color-change-2x"),window.setTimeout((function(){e.classList.remove("color-change-2x")}),4e3)}},forwardMessage:function(e){var t=e.commentForwardID,n=e.set_state,a=e.set_chat_id;return function(e){z({url:"api/dialog_message_send",data:{dialogid:e,forwarded_from:t}}).then((function(){n({commentForwardID:null,valueSearch:"",dataFilteredChats:[],isModalForwardOpen:!1}),a(e)}))}},filterChatRooms:function(e){var t=e.dataListChats,n=e.set_state;return function(e){var a=e.toLocaleLowerCase(),r=t.filter((function(e){return e.title.toLocaleLowerCase().includes(a)}));n({dataFilteredChats:r,valueSearch:e})}},scrollToBottom:function(e){var t=e.refList,n=e.refLastEl,a=e.comments;return function(){a.length>0&&t.current.scrollTo({top:n.current.offsetTop,behavior:"smooth"})}}}),Object(E.b)({componentDidMount:function(){(0,this.props.get_chat_id)()},componentDidUpdate:function(e){var t=this.props,n=t.refList,a=t.comments,r=t.refLastEl,l=t.setStateUpComp,i=t.changedId,o=t.is_first_id,c=t.set_first_id,s=t.isSubmit,u=t.set_state,m=t.isScrolled,d=t.elemTopScroll;e.comments!==a&&a.length>0&&(m&&(document.getElementById(d).scrollIntoView({block:"start"}),u({elemTopScroll:null,isScrolled:!1})),!0===o&&(n.current.scrollTo(0,r.current.offsetTop),c(!1)),!0===i&&(l({changedId:!1}),n.current.scrollTo(0,r.current.offsetTop)),!0===a[a.length-1].ismine&&!0===s&&(n.current.scrollTo(0,r.current.offsetTop),l({isSubmit:!1})))}})),vi={comments__list:{padding:0,display:"flex",flexDirection:"column",overflow:"auto",listStyle:"none",marginBottom:0,height:"100%",background:"no-repeat url('./public/fon4.jpg')",backgroundOrigin:"border-box",backgroundPosition:"center"},comments__li:{display:"flex",alignItems:"flex-start",marginTop:10,minWidth:100,paddingLeft:40,boxSizing:"border-box"},comments__avatar:{marginRight:20,borderRadius:"50%"},comments__itemContainer:{display:"flex",justifyContent:"space-between"},comments__itemAuthor:{margin:"0 10px",color:"aliceblue",fontSize:14,backgroundColor:"#4586c2",padding:"0 4px",borderRadius:10},comments__itemDatetime:{fontSize:10,fontWeight:"bold",color:"#4d524c"},comments__itemContent:{marginLeft:20,padding:"5px 0"},createInfo:{margin:"10px auto",borderRadius:10,padding:5,backgroundColor:"tan"}},Ei=bi((function(e){var t=e.refList,n=e.comments,a=e.removeComment,i=e.set_state,c=e.setStateUpComp,s=e.isCommentDelete,u=e.replyComment,m=e.globalSpin,d=e.dataListChats,p=e.filterChatRooms,f=e.dataFilteredChats,y=e.scrollToBottom,v=e.lastComment,E=e.refLastEl,O=e.scrollMore,_=e.isModalImgOpen,j=e.srcImage,w=e.scrollToAnchor,k=e.chatId,S=e.isModalForwardOpen,D=e.forwardMessage,P=e.valueSearch,x=e.isModalDeleteOpen,T=e.idDeleteComment,M=d.find((function(e){return e.id===k})),A=void 0!==M?_a()(M.created).format("HH:mm DD MMMM YYYY"):"";return l.a.createElement("ul",{className:"chat__list",ref:t,style:vi.comments__list,onScroll:function(e){var t=e.target;if(n.length>0&&0===t.scrollTop){i({isScrolled:!0,elemTopScroll:n[0].id});var a=n.length+20;O(a)}}},m?null:n.length>0?n[0].isfirst?l.a.createElement("div",{style:vi.createInfo},l.a.createElement("span",{style:{fontWeight:"bolder"}},M.creator.login)," создал чат в ",A):null:l.a.createElement("div",{style:vi.createInfo},l.a.createElement("span",{style:{fontWeight:"bolder"}},M.creator.login)," создал чат в ",A),m?l.a.createElement(o.a,{style:{margin:"auto",fontSize:30},tip:"Загрузка...",size:"large"}):n.map((function(e,t){var a=e.ismine?"chat__listItem--ismine":"chat__list__item",m=_a()(),d=_a.a.duration(m.diff(e.created)).asHours(),p=_a()(e.created).format("DD MMMM YYYY"),f=t<n.length-1&&_a()(n[t+1].created).format("DD MMMM YYYY");return l.a.createElement(r.Fragment,{key:Un.nanoid()},l.a.createElement("li",{ref:v.id===e.id?E:null,key:e.id,id:e.id,style:vi.comments__li},l.a.createElement("div",{style:vi.comments__avatar},e.photo.length>0?l.a.createElement(na.a,{size:42,className:"chat__avatar",src:C._url+e.photo[0].uri}):l.a.createElement(na.a,{size:42,icon:"user"})),l.a.createElement(ui.b,{id:"".concat(e.id)},l.a.createElement("div",{style:{minWidth:200},className:a},l.a.createElement("div",{style:vi.comments__itemContainer},l.a.createElement("div",{style:vi.comments__itemAuthor},e.login),null!==e.forwarded_from?l.a.createElement("span",{style:{fontWeight:"bolder"}},"Переслано от ",l.a.createElement("span",{style:{backgroundColor:"#c8c8c8",color:"#4586c2",fontWeight:"bolder",padding:"0 5px",borderRadius:10}},e.forwarded_from_user)):null,l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",width:70}},l.a.createElement("div",{style:vi.comments__itemDatetime},_a()(e.created).format("HH:mm")))),e.reply_message?l.a.createElement(si.HashLink,{to:"chat#".concat(e.reply_message.id),scroll:function(t){w(t,e.reply_message.id),window.history.pushState("",document.title,window.location.pathname+window.location.search)}},l.a.createElement("div",{onClick:function(){n.some((function(t){return t.id===e.reply_message.id}))||I("/api/dialog_messages",{dialogid:k,reply_to:e.reply_message.id}).then((function(e){c({comments:e.data.outjson})}))},style:{borderLeft:"3px solid #37a1de",margin:"5px 0 5px 20px",padding:"5px 0 5px 5px"}},l.a.createElement("span",{style:hi({},vi.comments__itemAuthor,{backgroundColor:"#c8c8c8",color:"#4586c2",fontWeight:"bolder"})},e.reply_message.login),l.a.createElement("div",null,e.reply_message.message_text.length>100?e.reply_message.message_text.split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e.slice(0,100).concat("..."),l.a.createElement("br",null))})):e.reply_message.message_text),e.reply_message.files.length>0?l.a.createElement("div",{style:{backgroundColor:"aliceblue",padding:"0 5px",borderRadius:10}},e.reply_message.files[0].filename):null,e.reply_message.images.length>0?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",{style:{backgroundColor:"aliceblue",margin:"2px 0",padding:"0 5px",borderRadius:10}},"Фотография:")),l.a.createElement("img",{src:C._url+e.reply_message.images[0].uri,height:40})):null)):null,e.images.length>0?e.id===s?l.a.createElement(o.a,{style:{marginLeft:20,marginTop:10}}):e.images.map((function(e){return l.a.createElement("div",{key:e.uri,style:{borderRadius:10,border:"black",height:200,cursor:"pointer",marginTop:5}},l.a.createElement("img",{src:C._url+e.uri,height:200,onClick:function(){return i({isModalImgOpen:!0,srcImage:C._url+e.uri})}}))})):null,e.files.length>0?e.id===s?l.a.createElement(o.a,{style:{marginLeft:20,marginTop:10}}):l.a.createElement("div",{key:e.id+"files"},l.a.createElement("div",{style:{marginTop:10}},l.a.createElement("span",{style:{fontSize:12,backgroundColor:"aliceblue",fontWeight:"bolder",padding:5,borderRadius:10}},"Файл:")),l.a.createElement("ul",{className:"getone__filelist",style:{backgroundColor:"aliceblue",borderRadius:10}},e.files.map((function(e){return l.a.createElement("li",{key:e.uri,className:"getone__filelist-item"},l.a.createElement("div",{style:{paddingLeft:20}},e.label||e.filename),l.a.createElement("div",{style:{paddingLeft:40,paddingRight:20}},l.a.createElement(wn.a,{title:"Скачать",placement:"topLeft"},l.a.createElement(b.a,{icon:"download",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(C._url+e.uri)}}))))})))):null,l.a.createElement("div",{style:vi.comments__itemContent},e.message_text?e.id===s?l.a.createElement(o.a,null):e.message_text.split("\n").map((function(e,t){return l.a.createElement("span",{key:t},e,l.a.createElement("br",null))})):null),e.isupdated?l.a.createElement("div",{style:{textAlign:"right",fontSize:10,fontWeight:"bolder"}},"изменено"):null)),l.a.createElement(ui.a,{id:"".concat(e.id),className:"react-contextmenu-wrapper",onShow:function(){return window.addEventListener&&window.addEventListener("DOMMouseScroll",di,!1),document.addEventListener("wheel",di,{passive:!1}),window.onwheel=di,window.onmousewheel=document.onmousewheel=di,window.ontouchmove=di,void(document.onkeydown=pi)},onHide:function(){return window.removeEventListener&&window.removeEventListener("DOMMouseScroll",di,!1),document.removeEventListener("wheel",di,{passive:!1}),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,void(document.onkeydown=null)}},l.a.createElement(ui.c,{onClick:function(){return u(e)}},"Ответить"),l.a.createElement(ui.c,{onClick:function(){return i({isModalForwardOpen:!0,commentForwardID:e.id})}},"Переслать сообщение"),e.ismine?e.files.length>0||e.images.length>0?null:e.forwarded_from?null:d>24?null:l.a.createElement(ui.c,{onClick:function(){c({isModalEditOpen:!0,commentForEdit:e})}},"Изменить"):null,e.ismine?l.a.createElement(ui.c,{onClick:function(){return i({isModalDeleteOpen:!0,idDeleteComment:e.id})}},"Удалить"):null)),function(){if(t!==n.length-1)switch(p){case f:return null;default:return l.a.createElement("div",{style:vi.createInfo},f)}}())})),n.length>0?l.a.createElement("div",{style:{fontSize:40,position:"absolute",top:"80%",left:"95%"}},l.a.createElement(h.a,{type:"down-circle",onClick:function(){return y()}})):null,l.a.createElement(ta.a,{width:250,title:"Удалить комментарий",centered:!0,visible:x,okText:"Да",okButtonProps:{type:"danger"},onOk:function(){return a(T)},onCancel:function(){return i({isModalDeleteOpen:!1,idDeleteComment:null})}},l.a.createElement("div",{style:{fontSize:30}},"Вы уверены?")),l.a.createElement(ta.a,{centered:!0,footer:null,visible:_,width:"max-content",onCancel:function(){return i({isModalImgOpen:!1})}},l.a.createElement("img",{src:j,height:700})),l.a.createElement(ta.a,{centered:!0,footer:l.a.createElement(b.a,{onClick:function(){return i({isModalForwardOpen:!1,commentForwardID:null,valueSearch:"",dataFilteredChats:[]})}},"Отмена"),title:"Выберите получателя...",visible:S,onCancel:function(){return i({isModalForwardOpen:!1,commentForwardID:null,valueSearch:"",dataFilteredChats:[]})}},l.a.createElement(yi,{placeholder:"Фильтровать...",value:P,onChange:function(e){return p(e.target.value)}}),l.a.createElement(g.a,{style:{maxWidth:600,marginTop:10,minHeight:200},bordered:!0,dataSource:""===P?d:f,renderItem:function(e){return l.a.createElement(g.a.Item,{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{style:{marginLeft:10}},l.a.createElement(na.a,{icon:"group",src:e.photo.length>0&&C._url+e.photo[0].uri})),l.a.createElement("div",null,e.title),l.a.createElement("div",{style:{marginRight:10}},l.a.createElement(b.a,{onClick:function(){return D(e.id)},type:"primary"},"Переслать")))}})))})),Oi=a(1243),_i=(a(1225),a(645)),ji={editor__picker:{position:"absolute",bottom:0,left:-320},editor__icon:{fontSize:24,color:"#1b90fa",marginLeft:30}},wi=function(e){var t=e.visiblePicker,n=e.setStateUpComp,a=e.addEmoji;return l.a.createElement(Oi.a,{trigger:"click",visible:t,onVisibleChange:function(e){return n({visiblePicker:e})},content:l.a.createElement(_i.a,{emojiSize:24,title:"",style:ji.editor__picker,onSelect:function(e){a(e),n({visiblePicker:!1})},i18n:{search:"Поиск",clear:"Очистить",notfound:"Эмодзи не найдено",skintext:"Выберите свой оттенок кожи по умолчанию",categories:{search:"результаты поиска",recent:"Часто используемый",people:"Смайлики и люди",nature:"Животные и Природа",foods:"Еда, напиток",activity:"Мероприятия",places:"Путешествия и Места",objects:"Объекты",symbols:"Символы",flags:"Флаги",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}})},l.a.createElement(h.a,{type:"smile",style:ji.editor__icon,onClick:function(){return n({visiblePicker:!t})}}))};function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ci=f.a.TextArea,Di=Object(E.a)(Object(E.e)((function(e){var t=e.inState;return{visiblePicker:(void 0===t?{visiblePicker:!1}:t).visiblePicker}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({handleChangeImg:function(e){var t=e.set_state,n=e.onSubmit;return function(e){var a=new FileReader;a.addEventListener("load",(function(){t({imageUrl:a.result})}),!1);var r=e.target.files[0];r&&a.readAsDataURL(r),n(e.target.files,"","image")}}})),Pi={comment:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:5,maxWidth:800,borderRadius:10,backgroundColor:"#99cdf8",position:"absolute",left:"50%",top:-30,transform:"translate(-50%, 0)"},editor__textarea:{maxWidth:800,margin:"0 auto"},editor__iconContainer:{position:"absolute",top:-7,left:-70},comments__itemAuthor:{margin:"0 10px 0 50px",color:"aliceblue",fontSize:14,backgroundColor:"#4586c2",padding:"0 4px",borderRadius:10}},xi=Di((function(e){var t=e.onChange,n=e.onSubmit,a=e.submitting,r=e.value,i=e.set_state,o=e.visiblePicker,c=e.refForm,s=e.refFormImg,u=e.answerComment,m=e.addEmoji,d=e.setStateUpComp,f=e.handleChangeImg;return l.a.createElement("div",null,u?l.a.createElement("div",{style:Pi.comment},l.a.createElement(h.a,{type:"message",style:{fontSize:20,marginLeft:20}}),l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("div",{style:Pi.comments__itemAuthor},u.login),l.a.createElement("div",{style:{marginRight:50}},""===u.text?"Файл":u.text.length>25?u.text.slice(0,25).concat("..."):u.text)),l.a.createElement(h.a,{type:"close",style:{fontSize:15,marginRight:20,cursor:"pointer"},onClick:function(){return d({answerComment:null})}})):null,l.a.createElement(p.a,null,l.a.createElement("div",{style:{margin:"0 auto",maxWidth:800}},l.a.createElement(p.a.Item,null,l.a.createElement(Ci,{onChange:t,value:r,style:Pi.editor__textarea,autoSize:{maxRows:6},placeholder:"Написать сообщение...",onPressEnter:function(e){13==e.keyCode&&0==e.shiftKey&&(e.preventDefault(),n())}})))),l.a.createElement("div",{style:{margin:"0 auto",maxWidth:800,textAlign:"right"}},l.a.createElement(p.a.Item,null,l.a.createElement("span",{style:{position:"absolute",left:-130,top:-5}},l.a.createElement(wn.a,{title:"Прикрепить картинку"},l.a.createElement("form",{ref:s},l.a.createElement("label",{htmlFor:"image-input",style:{width:30,height:30,cursor:"pointer"}},l.a.createElement(h.a,{type:"picture",style:{fontSize:25,color:"#1b90fa"}})),l.a.createElement("input",{id:"image-input",accept:"image/*",style:{display:"none"},type:"file",onChange:function(e){return f(e)}})))),l.a.createElement("span",{className:"editor__icon",style:{position:"absolute",left:-80,top:-7}},l.a.createElement(wn.a,{title:"Прикрепить файлы"},l.a.createElement("form",{ref:c},l.a.createElement("label",{htmlFor:"file-input",style:{width:30,height:30,cursor:"pointer"}},l.a.createElement(h.a,{component:bn.clip,style:{fontSize:25}})),l.a.createElement("input",{multiple:!0,id:"file-input",style:{display:"none"},type:"file",onChange:function(e){return n(e.target.files,"","files")}})))),l.a.createElement("span",{style:Pi.editor__iconContainer},l.a.createElement(wi,{visiblePicker:o,setStateUpComp:i,addEmoji:m})),l.a.createElement(b.a,{htmlType:"submit",loading:a,onClick:function(){return n()},type:"primary"},"Отправить коммент"))))}));function Ti(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Li,zi=f.a.TextArea,Fi=Object(E.a)(Object(v.b)((function(e){return{chatId:e.user.chatId}}),(function(e){return{set_chat_id:function(t){return e(Object(O.m)(t))},set_unreaded_status:function(t){return e(Object(O.r)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{comments:[],submitting:!1,value:"",valueSign:"",refForm:l.a.createRef(),refFormImg:l.a.createRef(),isModalEditOpen:!1,commentForEdit:{},isCommentDelete:!1,answerComment:null,globalSpin:!0,visiblePickerEdit:!1,lastComment:{},changedId:!1,isSubmit:!1}:t;return{comments:n.comments,submitting:n.submitting,value:n.value,valueSign:n.valueSign,refForm:n.refForm,refFormImg:n.refFormImg,isModalEditOpen:n.isModalEditOpen,commentForEdit:n.commentForEdit,isCommentDelete:n.isCommentDelete,answerComment:n.answerComment,globalSpin:n.globalSpin,visiblePickerEdit:n.visiblePickerEdit,lastComment:n.lastComment,changedId:n.changedId,isSubmit:n.isSubmit}}),{set_state:function(e){return function(t){var n=Ii({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({handleWS:function(e){var t=e.set_state,n=e.set_unreaded_status;return function(e){var a=document.location.href.split("//")[1];a="ws://"+(a=a.split("/")[0])+"/messages",(Li=new WebSocket(a)).onopen=function(){Li.send(JSON.stringify({dialogid:e}))},Li.onmessage=function(e){var a=JSON.parse(e.data);a.forEach((function(e){return e.key=Un.nanoid()})),a.length>0?(t({globalSpin:!1,comments:Ti(a),isCommentDelete:!1,submitting:!1,lastComment:a[a.length-1]}),a.forEach((function(e,t){a.length-1===t?I("api/dialog_message_setreaded",{id:e.id}).then((function(){return n(!0)})):I("api/dialog_message_setreaded",{id:e.id})}))):t({globalSpin:!1})}}},handleSubmit:function(e){var t=e.value,n=e.chatId,a=e.set_state,r=e.refForm,l=e.refFormImg,i=e.answerComment;return function(e,o,c){var s;if(a({submitting:!0,isSubmit:!0}),c)for(var u in s=o.trimLeft(),""!==o&&z({url:"api/dialog_message_send",data:{dialogid:n,message_text:s}}).then((function(){a({valueSign:""})})),e){if("length"===u||"item"===u)break;var m=new FormData;m.append("config",JSON.stringify({type:c})),m.append("dialogid",n),u==e.length-1?(m.append("file_0",e[u]),z({url:"api/dialog_message_send",data:m}).then((function(){r.current.reset(),l.current.reset()})).catch((function(){return a({submitting:!1})}))):(m.append("file_0",e[u]),z({url:"api/dialog_message_send",data:m}))}else{s=t.trimLeft();var d={dialogid:n,message_text:s,reply_to:i?i.id:null};z({url:"api/dialog_message_send",data:d}).then((function(){a({value:"",valueSign:"",answerComment:null}),r.current.reset(),l.current.reset()})).catch((function(){return a({submitting:!1})}))}}},handleEdit:function(e){var t=e.commentForEdit,n=e.set_state;return function(){n({submitting:!0,isSubmit:!0}),z({url:"api/dialog_message_edit",data:{id:t.id,message_text:t.message_text}}).then((function(){return n({commentForEdit:{},isModalEditOpen:!1})}))}},addEmoji:function(e){var t=e.set_state,n=e.value,a=e.commentForEdit;return function(e){var r=e.unified.split("-"),l=[];r.forEach((function(e){return l.push("0x"+e)}));var i=String.fromCodePoint.apply(String,l);0===Object.keys(a).length&&a.constructor===Object?t({value:n+i}):t({commentForEdit:Ii({},a,{message_text:a.message_text+i})})}}}),Object(E.b)({componentDidMount:function(){var e=this.props;(0,e.handleWS)(e.chatId)},componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=t.handleWS,r=t.set_state;e.chatId!==n&&(r({answerComment:null,comments:[],globalSpin:!0,changedId:!0}),Li.close(),a(n))}})),Ni={comment__container:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start"}},Vi=Fi((function(e){var t=e.comments,n=e.submitting,a=e.value,r=e.set_state,i=e.handleSubmit,o=e.handleEdit,c=e.addEmoji,s=e.answerComment,u=e.visiblePicker,m=e.chatId,d=e.isSubmit,p=e.valueSign,f=e.refForm,h=e.refFormImg,g=e.isModalEditOpen,y=e.commentForEdit,b=e.isCommentDelete,v=e.globalSpin,E=e.lastComment,O=e.changedId,_=e.dataListChats;return l.a.createElement("div",{style:Ni.comment__container},l.a.createElement(Ei,{comments:t,setStateUpComp:r,isCommentDelete:b,globalSpin:v,lastComment:E,changedId:O,chatId:m,isSubmit:d,dataListChats:_}),l.a.createElement(ci.a,{style:{position:"fixed",bottom:"0%",width:"calc(100% - 500px)"},content:l.a.createElement(xi,{onChange:function(e){return r({value:e.target.value})},onSubmit:i,submitting:n,value:a,addEmoji:c,setStateUpComp:r,valueSign:p,refForm:f,refFormImg:h,answerComment:s,commentForEdit:y})}),l.a.createElement(ta.a,{title:"Редактирование",centered:!0,visible:g,onCancel:function(){return r({isModalEditOpen:!1,commentForEdit:{}})},onOk:function(){return o()}},l.a.createElement("div",null,"Сообщение"),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(zi,{autoSize:{maxRows:6},value:y.message_text,onChange:function(e){return r({commentForEdit:Ii({},y,{message_text:e.target.value})})},placeholder:"Написать сообщение...",onPressEnter:function(e){13==e.keyCode&&0==e.shiftKey&&(e.preventDefault(),o())}}),l.a.createElement(wi,{visiblePicker:u,setStateUpComp:r,addEmoji:c}))))}));function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hi=f.a.Search,Bi=Object(E.a)(Object(v.b)(null,(function(e){return{set_chat_id:function(t){return e(Object(O.m)(t))}}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{isModalDelMemberOpen:!1,isModalAddMemberOpen:!1,isModalMainOpen:!1,selectedUser:[],valueSearch:"",isShowAllUsers:!1,findedUsers:[],isAddAdmin:!1,valueTitle:"",imageUrl:"",objAvatarFile:{}}:t;return{isModalDelMemberOpen:n.isModalDelMemberOpen,isModalAddMemberOpen:n.isModalAddMemberOpen,isModalMainOpen:n.isModalMainOpen,selectedUser:n.selectedUser,valueSearch:n.valueSearch,isShowAllUsers:n.isShowAllUsers,findedUsers:n.findedUsers,isAddAdmin:n.isAddAdmin,valueTitle:n.valueTitle,imageUrl:n.imageUrl,objAvatarFile:n.objAvatarFile}}),{set_state:function(e){return function(t){var n=Ri({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({filterUsers:function(e){var t=e.dataListChats,n=e.chatId,a=e.set_state;return function(e){a({isShowAllUsers:!1});var r=e.toLocaleLowerCase(),l=t.find((function(e){return e.id===n})).users.filter((function(e){return e.login.toLocaleLowerCase().includes(r)}));a({selectedUser:l})}},deleteUser:function(e){var t=e.chatId,n=e.getDataUpComp,a=e.set_chat_id,r=e.set_state;return function(e){F({url:"/api/dialog_removeuser",data:{id:t,user_to_remove:e}}).then((function(){r({selectedUser:[],isModalDelMemberOpen:!1,valueSearch:""}),n(),a(t)}))}},showAllUsers:function(e){var t=e.dataListChats,n=e.chatId,a=e.set_state;return function(){var e=t.find((function(e){return e.id===n}));a({selectedUser:e.users,isShowAllUsers:!0})}},findUser:function(e){var t=e.set_state;return function(e){""!==e&&I("/api/dialogs_usersearch",{substr:e}).then((function(e){var n=e.data,a=_.sortBy(n.outjson,["login"]);t({findedUsers:a})}))}},addUser:function(e){var t=e.chatId,n=e.getDataUpComp,a=e.set_chat_id,r=e.set_state;return function(e){z({url:"api/dialog_adduser",data:{user_to_add:e,id:t}}).then((function(){r({findedUsers:[],isModalAddMemberOpen:!1,valueSearch:""}),n(),a(t)}))}},deleteSelf:function(e){var t=e.chatId,n=e.set_chat_id,a=e.getDataUpComp,r=e.setStateUpComp;return function(){z({url:"/api/dialog_leave",data:{id:t}}).then((function(){r({openDrawerPanel:!1}),n(!1),a()}))}},addAdmin:function(e){var t=e.chatId,n=e.set_state,a=e.getDataUpComp;return function(e){z({url:"/api/dialog_addadmin",data:{user_to_add:e,id:t}}).then((function(){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1}),a(),Object(O.m)(t)})).catch((function(){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1})}))}},deleteAdmin:function(e){var t=e.chatId,n=e.set_state,a=e.getDataUpComp;return function(e){F({url:"/api/dialog_removeadmin",data:{admin_to_remove:e,id:t}}).then((function(){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1}),a()})).catch((function(){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1})}))}},setStateFile:function(e){var t=e.set_state;return function(e){var n=new FileReader,a=e.target.files[0];n.addEventListener("load",(function(){t({imageUrl:n.result})}),!1),a&&(n.readAsDataURL(a),t({objAvatarFile:a}))}},changeGroupSet:function(e){var t=e.chatId,n=e.set_state,a=e.getDataUpComp,r=e.objAvatarFile;return function(e,l){if("title"===e)z({url:"/api/dialog_edit",data:{id:t,title:l}}).then((function(){n({valueTitle:"",isModalMainOpen:!1}),a(),w.a.success({message:"Изменено"})}));else{var i=new FormData;i.append("file_0",r),i.append("config",JSON.stringify({type:"image"})),i.append("id",t),z({url:"/api/dialog_edit",data:i}).then((function(){n({objAvatarFile:{},isModalPicOpen:!1,imageUrl:""}),a(),w.a.success({message:"Изменено"})}))}}}})),qi={admins:{display:"flex",justifyContent:"space-around",alignItems:"flex-end",flexWrap:"wrap",backgroundColor:"#bafdaf",borderTopLeftRadius:20,borderTopRightRadius:20,padding:10},login:{textAlign:"center",backgroundColor:"#4686bf",color:"aliceblue",borderRadius:10,fontSize:12,padding:"0 2px"},members:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:"#bafdaf",borderTopLeftRadius:20,borderTopRightRadius:20,padding:10},buttons:{display:"flex",justifyContent:"space-around",paddingTop:10,paddingBottom:10,backgroundColor:"#ccc"},avatar_contain:{textAlign:"center",display:"flex",justifyContent:"center",cursor:"pointer"},avatarNull:{width:100,height:100,border:"1px dashed",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},Wi=Bi((function(e){var t=e.dataListChats,n=e.chatId,a=e.setStateUpComp,r=e.set_state,i=e.isModalDelMemberOpen,o=e.filterUsers,c=e.selectedUser,s=e.deleteSelf,u=e.isAddAdmin,m=e.deleteUser,d=e.valueSearch,p=e.showAllUsers,y=e.isModalAddMemberOpen,v=e.findUser,E=e.findedUsers,O=e.addUser,_=e.isModalAdminOpen,j=e.addAdmin,w=e.deleteAdmin,k=e.changeGroupSet,S=e.isModalMainOpen,C=e.valueTitle,D=e.isModalPicOpen,P=e.imageUrl,x=e.setStateFile,T=e.objAvatarFile,M=t.find((function(e){return e.id===n})),I=M.creator,A=M.dialog_admins.filter((function(e){return e!==I.id})).map((function(e){for(var t=0;t<M.users.length;++t)if(e===M.users[t].id)return M.users[t]}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{style:{textAlign:"center"}},"Дата создания: "),l.a.createElement("div",{style:{textAlign:"center",fontWeight:"bolder",fontSize:24}},_a()(M.created).format("DD.MM.YYYY"))),"group"===M.dialog_type_name?l.a.createElement("div",{style:Ri({margin:"20px 0",borderRadius:10},qi.buttons)},l.a.createElement(b.a,{onClick:function(){return r({isModalMainOpen:!0})}},"Изменить название"),l.a.createElement(b.a,{onClick:function(){return r({isModalPicOpen:!0})}},"Изменить аватарку")):null,l.a.createElement("div",null,l.a.createElement("div",null,"Администратор(ы)"),l.a.createElement("div",{style:qi.admins},l.a.createElement("div",null,l.a.createElement("div",{style:{textAlign:"center",fontSize:20,height:25}},l.a.createElement(h.a,{type:"crown"})),l.a.createElement(na.a,{icon:"user",src:I.photo[0].src,size:46}),l.a.createElement("div",{style:qi.login},I.login),l.a.createElement("div",{style:{fontSize:10,textAlign:"center"}},"Владелец")),A.map((function(e){return l.a.createElement("div",{key:e.login+"admins"},l.a.createElement(na.a,{icon:"user",src:e.photo[0].src,size:46}),l.a.createElement("div",{style:qi.login},e.login),l.a.createElement("div",{style:{fontSize:10,textAlign:"center"}},"админ"))})))),"group"===M.dialog_type_name&&M.isadmin?l.a.createElement("div",{style:qi.buttons},l.a.createElement(b.a,{size:"small",type:"primary",onClick:function(){return r({isModalAdminOpen:!0,isAddAdmin:!0})}},"Добавить админа"),l.a.createElement(b.a,{size:"small",type:"danger",onClick:function(){return r({isModalAdminOpen:!0})}},"Удалить админа")):null,l.a.createElement("div",{style:{marginTop:20}},l.a.createElement("div",null,"Участник(и)"),l.a.createElement("div",{style:qi.members},M.users?M.users.map((function(e){return l.a.createElement("div",{key:e.login},l.a.createElement(na.a,{icon:"user",src:null!==e.photo&&e.photo[0].src,size:46}),l.a.createElement("div",{style:qi.login},e.login))})):l.a.createElement(Er.a,null)))),"group"===M.dialog_type_name&&M.isadmin?l.a.createElement("div",{style:qi.buttons},l.a.createElement(b.a,{size:"small",type:"primary",onClick:function(){return r({isModalAddMemberOpen:!0})}},"Добавить участника"),l.a.createElement(b.a,{size:"small",type:"danger",onClick:function(){a({openDrawerPanel:!1}),r({isModalDelMemberOpen:!0})}},"Удалить участника")):null,"group"===M.dialog_type_name?l.a.createElement("div",{style:{marginTop:40,textAlign:"center"}},l.a.createElement(kn.a,{title:"Вы уверены?",okText:"Да",cancelText:"Нет",onConfirm:function(){return s()}},l.a.createElement(b.a,{type:"danger"},"Уйти из группы"))):null,l.a.createElement(ta.a,{centered:!0,title:"Изменить название",visible:S,onCancel:function(){return r({isModalMainOpen:!1})},onOk:function(){return k("title",C)}},l.a.createElement(f.a,{value:C,onChange:function(e){return r({valueTitle:e.target.value})}})),l.a.createElement(ta.a,{centered:!0,title:"Изменить аватарку",visible:D,onCancel:function(){return r({isModalPicOpen:!1,objAvatarFile:{},imageUrl:""})},onOk:function(){return k("image",T)}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"avatarChangePic"},l.a.createElement("div",{style:qi.avatar_contain},P?l.a.createElement("img",{src:P,width:400,style:qi.avatarImg}):l.a.createElement("div",{style:qi.avatarNull},"Выберите изображение"))),l.a.createElement("input",{type:"file",accept:"image/*",id:"avatarChangePic",style:{visibility:"hidden",height:1},onChange:function(e){return x(e)}}))),l.a.createElement(ta.a,{centered:!0,title:"Удалить участника",onCancel:function(){return r({isModalDelMemberOpen:!1,selectedUser:[],valueSearch:""})},visible:i,footer:l.a.createElement(b.a,{onClick:function(){return r({isModalDelMemberOpen:!1,selectedUser:[],valueSearch:""})}},"Отмена")},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20,marginTop:20}},l.a.createElement(b.a,{onClick:function(){return p()},type:"primary"},"Показать всех"),l.a.createElement(Hi,{placeholder:"Поиск",style:{width:300},onSearch:function(e){return o(e)},value:d,onChange:function(e){return r({valueSearch:e.target.value})}})),l.a.createElement(g.a,{bordered:!0,dataSource:c,renderItem:function(e){return l.a.createElement(g.a.Item,{style:{display:"flex",justifyContent:"space-around"},key:e.id},l.a.createElement(na.a,{icon:"user",src:e.photo[0].src}),l.a.createElement("div",null,e.login),l.a.createElement(kn.a,{title:"Вы уверены?",okText:"Да",cancelText:"Нет",onConfirm:function(){return m(e.id)}},l.a.createElement(b.a,{type:"danger"},"Удалить")))}})),l.a.createElement(ta.a,{centered:!0,title:"Добавить участника",onCancel:function(){return r({isModalAddMemberOpen:!1,valueSearch:"",findedUsers:[]})},visible:y,footer:l.a.createElement(b.a,{onClick:function(){return r({isModalAddMemberOpen:!1,valueSearch:"",findedUsers:[]})}},"Отмена")},l.a.createElement("div",{style:{display:"flex",justifyContent:"added",marginBottom:20,marginTop:20}},l.a.createElement(Hi,{placeholder:"Поиск",style:{width:300},onSearch:function(e){return v(e)},value:d,onChange:function(e){return r({valueSearch:e.target.value})}})),l.a.createElement(g.a,{bordered:!0,dataSource:E,renderItem:function(e){return l.a.createElement(g.a.Item,{style:{display:"flex",justifyContent:"space-around"},key:e.id},l.a.createElement(na.a,{icon:"user",src:e.photo[0].src}),l.a.createElement("div",null,e.login),l.a.createElement(b.a,{type:"primary",onClick:function(){return O(e.id)}},"Добавить"))}})),l.a.createElement(ta.a,{centered:!0,title:u?"Добавить администратора":"Удалить администратора",visible:_,onCancel:function(){return r({isModalAdminOpen:!1,valueSearch:"",selectedUser:[],isAddAdmin:!1})},footer:l.a.createElement(b.a,{onClick:function(){return r({isModalAdminOpen:!1,valueSearch:"",selectedUser:[],isAddAdmin:!1})}},"Отмена")},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20,marginTop:20}},l.a.createElement(b.a,{onClick:function(){return p()},type:"primary"},"Показать всех"),l.a.createElement(Hi,{placeholder:"Поиск",style:{width:300},onSearch:function(e){return o(e)},value:d,onChange:function(e){return r({valueSearch:e.target.value})}})),l.a.createElement(g.a,{bordered:!0,dataSource:c,renderItem:function(e){return l.a.createElement(g.a.Item,{style:{display:"flex",justifyContent:"space-around"},key:e.id},l.a.createElement(na.a,{icon:"user",src:e.photo[0].src}),l.a.createElement("div",null,e.login),u?e.isadmin?l.a.createElement(b.a,{disabled:!0},"админ"):l.a.createElement(kn.a,{title:"Вы уверены?",okText:"Да",cancelText:"Нет",onConfirm:function(){return j(e.id)}},l.a.createElement(b.a,{type:u?"primary":"danger"},u?"Добавить":"Удалить")):e.isadmin?l.a.createElement(kn.a,{title:"Вы уверены?",okText:"Да",cancelText:"Нет",onConfirm:function(){return w(e.id)}},l.a.createElement(b.a,{type:u?"primary":"danger"},u?"Добавить":"Удалить")):l.a.createElement(b.a,{disabled:!0},"Участник"))}})))}));function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ki={},Qi=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{inputGroupName:"",usersData:[],valueSelect:[],setUsersForSubmit:new Set,objAvatarFile:{},imageUrl:"",fetching:!1,listEmpty:!1,usersDataAccum:[]}:t;return{inputGroupName:n.inputGroupName,usersData:n.usersData,valueSelect:n.valueSelect,setUsersForSubmit:n.setUsersForSubmit,objAvatarFile:n.objAvatarFile,imageUrl:n.imageUrl,fetching:n.fetching,listEmpty:n.listEmpty,usersDataAccum:n.usersDataAccum}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){Gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getListData:function(e){var t=e.set_state,n=e.usersDataAccum;return function(e){if(""!==e)return t({fetching:!0}),Ki.listUserSelect&&clearTimeout(Ki.listUserSelect),new Promise((function(t){Ki.listUserSelect=setTimeout((function(){I("/api/dialogs_usersearch",{substr:e}).then((function(e){var n=e.data,a=_.sortBy(n.outjson,["login"]);t(a)}))}),100)})).then((function(e){t({fetching:!1}),0===e.length&&t({listEmpty:!0});var a=[],r=e.map((function(e,t){var r={login:e.login,avatar:null===e.photo?null:C._url+e.photo[0].uri,id:e.id};n.length>0&&(n.some((function(t){return t.login===e.login}))||a.push(r));return r}));0===n.length?t({usersData:r,usersDataAccum:r}):t({usersData:r,usersDataAccum:n.concat(a)})}))}},onChangeSelect:function(e){e.usersData;var t=e.set_state,n=e.setUsersForSubmit,a=e.usersDataAccum;return function(e){n.clear(),e.map((function(e){a.forEach((function(t){t.login===e&&n.add(t.id)}))})),t({valueSelect:e,setUsersForSubmit:n})}},setStateFile:function(e){var t=e.set_state;return function(e){var n=new FileReader,a=e.target.files[0];n.addEventListener("load",(function(){t({imageUrl:n.result})}),!1),a&&(n.readAsDataURL(a),t({objAvatarFile:a}))}}}),Object(E.c)({createChatRoom:function(e){var t=e.setUsersForSubmit,n=e.inputGroupName,a=e.objAvatarFile,r=e.usersData,l=e.set_stateUpComponent,i=e.set_state,o=e.getDataUpComp;return function(){if(0!==r.length){var e,c=[];t.forEach((function(e){c.push(e)})),(e=new FormData).append("file_0",a),e.append("config",JSON.stringify({type:"image"})),e.append("users",JSON.stringify(c)),e.append("title",n),!(a instanceof File)&&(e={config:{type:"image"},users:c,title:n}),z({url:"api/dialog_group_create",data:e}).then((function(){o(),l({openModalInit:!1,statusCreateChat:!0}),w.a.success({message:"Групповой чат создан"}),i({setUsersForSubmit:new Set,inputGroupName:"",objAvatarFile:{},usersData:[],valueSelect:[],imageUrl:"",usersDataAccum:[]})}))}else w.a.error({message:"Вы не выбрали участника(ов) чата"})}}})),Xi={btn__firstContainer:{textAlign:"center"},btn__secondContainer:{display:"flex",justifyContent:"space-between",marginTop:100},btn:{marginTop:50},option__name:{marginLeft:10},select:{width:"100%"},avatar_contain:{textAlign:"center",display:"flex",justifyContent:"center"},avatarNull:{width:100,height:100,border:"1px dashed",borderRadius:"50%",display:"inline-block",textAlign:"center",position:"relative",top:"50%",cursor:"pointer"},avatarImg:{borderRadius:"50%",border:"1px solid",cursor:"pointer"},listEmpty:{textAlign:"center"}},$i=Qi((function(e){var t=e.openModalInit,n=e.carouselRef,a=e.set_stateUpComponent,r=e.fetching,i=e.createChatRoom,c=e.setStateFile,s=e.inputGroupName,u=e.set_state,m=e.usersData,d=e.valueSelect,p=e.getListData,h=e.onChangeSelect,g=e.imageUrl,y=e.listEmpty;return l.a.createElement(ta.a,{centered:!0,visible:t,title:"Инициализация группового чата",onCancel:function(){u({imageUrl:"",inputGroupName:"",usersData:[],usersDataAccum:[]}),a({openModalInit:!1})},footer:null},l.a.createElement(xa.a,{dots:!1,ref:function(e){return n=e}},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",{style:{position:"relative",left:"40%"},htmlFor:"avatarChatInit"},g?l.a.createElement("img",{src:g,width:100,height:100,style:Xi.avatarImg}):l.a.createElement("span",{style:Xi.avatarNull},l.a.createElement("span",{style:{position:"absolute",top:"40%",transform:"translate(-50%, -40%)"}},"Выберите изображение"))),l.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",id:"avatarChatInit",style:{visibility:"hidden",height:1},onChange:function(e){return c(e)}})),l.a.createElement("div",null,"Название группы"),l.a.createElement(f.a,{value:s,placeholder:"Введите название группы",onChange:function(e){return u({inputGroupName:e.target.value})}})),l.a.createElement("div",{style:Xi.btn__firstContainer},l.a.createElement(b.a,{style:Xi.btn,onClick:function(){s.trimLeft()?n.next():(w.a.error({message:"Вы ввели некорректные данные"}),u({inputGroupName:event.target.value}))}},"Далее"))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,"Участник(и) чата"),l.a.createElement(vn.a,{notFoundContent:r?l.a.createElement(o.a,{size:"small"}):y?l.a.createElement("div",{style:Xi.listEmpty},"Пользователь не найден"):null,placeholder:"Поиск...",mode:"multiple",value:d,onChange:function(e){return h(e)},onSearch:p,style:Xi.select,size:"large"},m.map((function(e){return l.a.createElement(vn.a.Option,{key:e.login},null===e.avatar?l.a.createElement(na.a,{icon:"user"}):l.a.createElement(na.a,{src:e.avatar}),l.a.createElement("span",{style:Xi.option__name},e.login))})))),l.a.createElement("div",{style:Xi.btn__secondContainer},l.a.createElement(b.a,{onClick:function(){return n.prev()}},"Назад"),l.a.createElement(b.a,{type:"primary",onClick:function(){return i()}},"Создать")))))}));function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to={},no=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{userData:[],valueSelect:[],arrUserForSubmit:[],fetching:!1,listEmpty:!1}:t;return{userData:n.userData,valueSelect:n.valueSelect,arrUserForSubmit:n.arrUserForSubmit,fetching:n.fetching,listEmpty:!1}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getListData:function(e){var t=e.set_state;return function(e){if(""!==e)return t({fetching:!0}),to.listUserSelect&&clearTimeout(to.listUserSelect),new Promise((function(t){to.listUserSelect=setTimeout((function(){I("/api/dialogs_usersearch",{substr:e}).then((function(e){var n=e.data,a=_.sortBy(n.outjson,["login"]);t(a)}))}),100)})).then((function(e){t({fetching:!1}),0===e.length&&t({listEmpty:!0});var n=e.map((function(e){return{login:e.login,avatar:null===e.photo?null:C._url+e.photo[0].uri,id:e.id}}));t({userData:n})}))}},onChangeSelect:function(e){var t=e.userData,n=e.set_state;return function(e){var a=[];t.forEach((function(t){t.login===e&&a.push(t.id)})),n({valueSelect:e,arrUserForSubmit:a})}}}),Object(E.c)({createChatRoom:function(e){var t=e.arrUserForSubmit,n=e.userData,a=e.set_stateUpComponent,r=e.set_state,l=e.getDataUpComp;return function(){if(0!==n.length){var e={config:{type:"image"},reciver_user_id:t[0]};z({url:"api/dialog_personal_create",data:e}).then((function(){l(),a({openModalInitPerson:!1,statusCreateChat:!0}),w.a.success({message:"Чат создан"}),r({arrUserForSubmit:[],userData:[],valueSelect:[]})}))}else w.a.error({message:"Вы не выбрали участника чата"})}}}))((function(e){var t=e.userData,n=e.valueSelect,a=e.fetching,i=e.getListData,c=e.onChangeSelect,s=e.createChatRoom,u=e.listEmpty;return l.a.createElement(r.Fragment,null,l.a.createElement("div",null,l.a.createElement("div",null,"Участник чата"),l.a.createElement(vn.a,{notFoundContent:a?l.a.createElement(o.a,{size:"small"}):u?l.a.createElement("div",{style:ao.listEmpty},"Пользователь не найден"):null,placeholder:"Поиск...",value:n,onChange:function(e){return c(e)},onSearch:i,style:ao.select,size:"large",showSearch:!0,autoFocus:!0},t.map((function(e){return l.a.createElement(vn.a.Option,{key:e.login},null===e.avatar?l.a.createElement(na.a,{icon:"user"}):l.a.createElement(na.a,{src:e.avatar}),l.a.createElement("span",{style:ao.option__name},e.login))})))),l.a.createElement("div",{style:ao.btn__secondContainer},l.a.createElement(b.a,{type:"primary",onClick:function(){return s()}},"Создать")))})),ao={btn__firstContainer:{textAlign:"center"},btn__secondContainer:{display:"flex",justifyContent:"center",marginTop:100},btn:{marginTop:50},option__name:{marginLeft:10},select:{width:"100%"},listEmpty:{textAlign:"center"}},ro=function(e){var t=e.openModalInitPerson,n=e.set_stateUpComponent,a=e.getDataUpComp;return l.a.createElement(ta.a,{centered:!0,visible:t,title:"Инициализация чата",onCancel:function(){return n({openModalInitPerson:!1})},footer:null},l.a.createElement(no,{getDataUpComp:a,set_stateUpComponent:n}))},lo=ea.a.Sider,io=ea.a.Content,oo=ea.a.Header,co={mainLayout:{height:"100%"},secondLayout:{backgroundColor:"white"},thirdLayout:{display:"flex",justifyContent:"center",alignItems:"center",background:"no-repeat url('./public/fon4.jpg')",backgroundOrigin:"border-box",backgroundPosition:"center"},sider:{backgroundColor:"#3e4f5f"},sider__icon:{position:"absolute",top:25,left:20,color:"aliceblue"},sider__btn:{margin:"16px auto",display:"block",width:160},header:{backgroundColor:"#4486c5",display:"flex",justifyContent:"space-between",alignItems:"center"},header__nameChat:{color:"aliceblue",fontSize:25},dividerSider:{background:"#fff",display:"block",textAlign:"center",borderRight:"1px solid #c1c1c1",borderBottom:"1px solid #c1c1c1",padding:"5px"},containerInit:{background:"#98cdfb",borderRadius:10,padding:40}},so=ti((function(e){var t=e.openModalInit,n=e.set_state,a=e.carouselRef,r=e.openDrawerPanel,i=e.getData,o=e.openModalInitPerson,c=e.carouselRefPerson,s=e.chatId,u=e.dataListChats,m=e.chatName,d=e.chatPhotoUri;return l.a.createElement(ea.a,{style:co.mainLayout},l.a.createElement(lo,{width:300,style:co.sider},l.a.createElement("div",{style:{color:"white",height:64,backgroundColor:"#3e4f5f",borderRight:"#c1c1c1",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(wn.a,{title:"Создать группу"},l.a.createElement(h.a,{style:{fontSize:30,backgroundColor:"white",color:"black",borderRadius:10,padding:5},onClick:function(){return n({openModalInit:!0})},type:"usergroup-add"})),l.a.createElement(wn.a,{title:"Создать диалог"},l.a.createElement(h.a,{style:{fontSize:30,marginLeft:20,backgroundColor:"white",color:"black",borderRadius:10,padding:5},type:"user-add",onClick:function(){return n({openModalInitPerson:!0})}}))),l.a.createElement("div",{style:co.dividerSider},"Список чатов"),l.a.createElement(oi,{set_stateUpComponent:n,dataListChats:u}),l.a.createElement($i,{getDataUpComp:i,openModalInit:t,carouselRef:a,set_stateUpComponent:n}),l.a.createElement(ro,{getDataUpComp:i,openModalInitPerson:o,carouselRefPerson:c,set_stateUpComponent:n})),s?l.a.createElement(ea.a,{style:co.secondLayout},l.a.createElement(oo,{style:co.header},l.a.createElement("div",{style:co.header__nameChat},l.a.createElement("span",{style:{paddingRight:10}},d?l.a.createElement(na.a,{src:C._url+d,size:42,className:"chat__avatar"}):l.a.createElement(na.a,{icon:"question",size:42,className:"chat__avatar"})),m),l.a.createElement(b.a,{onClick:function(){return n({openDrawerPanel:!0})}},"Панель управления")),l.a.createElement(io,null,l.a.createElement(Vi,{dataListChats:u}),l.a.createElement(ol.a,{title:"Панель управления чата",onClose:function(){return n({openDrawerPanel:!1})},visible:r,width:516},l.a.createElement(Wi,{chatId:s,dataListChats:u,setStateUpComp:n,getDataUpComp:i})))):l.a.createElement(ea.a,{style:co.thirdLayout},l.a.createElement("div",{style:co.containerInit,className:"slide-in-elliptic-top-fwd"},l.a.createElement("div",{style:{textAlign:"center"}},"Выберите в списке чатов, кому хотели бы написать,"),l.a.createElement("div",{style:{textAlign:"center"}},"либо создайте чат"),l.a.createElement("div",null,l.a.createElement(b.a,{style:co.sider__btn,onClick:function(){return n({openModalInit:!0})},icon:"usergroup-add"},"Создать группу"),l.a.createElement(b.a,{style:co.sider__btn,onClick:function(){return n({openModalInitPerson:!0})},icon:"user-add"},"Создать диалог")))))})),uo=a(1254);function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fo=a(1231),ho={},go=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{month:_a()().format("MM YYYY"),isModalTemplateOpen:!1,isModalDayOpen:!1,isVisibleListPacients:!1,mainValue:void 0,fetching:!1,daysData:[],dataTypeSlots:[],valueDoctor:null,valueDoctorTemplate:null,dataDoctors:[],timeStart:"08:00",timeEnd:"12:00",interval:15,typeSlot:1,dataTable:[],status:!1,selectedDay:null,isTemplate:!1,templates:[],isModifiedTemp:!1,slotsPacients:[],typeslotsPacients:[],isDayPublished:!1,flagReset:!1,checkboxCollection:new Map,checkboxesValue:[]}:t;return{month:n.month,isModalTemplateOpen:n.isModalOpen,isModalDayOpen:n.isModalDayOpen,isVisibleListPacients:n.isVisibleListPacients,mainValue:n.mainValue,fetching:n.fetching,daysData:n.daysData,dataTypeSlots:n.dataTypeSlots,valueDoctor:n.valueDoctor,valueDoctorTemp:n.valueDoctorTemplate,dataDoctors:n.dataDoctors,timeStart:n.timeStart,timeEnd:n.timeEnd,interval:n.interval,typeSlot:n.typeSlot,dataTable:n.dataTable,status:n.status,selectedDay:n.selectedDay,isTemplateFull:n.isTemplateFull,templates:n.templates,isModifiedTemp:n.isModifiedTemp,slotsPacients:n.slotsPacients,typeslotsPacients:n.typeslotsPacients,isDayPublished:n.isDayPublished,flagReset:n.flagReset,checkboxCollection:n.checkboxCollection,checkboxesValue:n.checkboxesValue}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getTemplate:function(e){var t=e.set_state,n=e.valueDoctor;return function(e){z({url:"api/templates_select",data:{doctorid:void 0===e?n:e}}).then((function(n){return t({templates:n.data.outjson.templates,dataTypeSlots:n.data.outjson.typeslots,valueDoctorTemp:e})}))}},getDayTimeSlots:function(e){var t=e.valueDoctor,n=e.set_state;return function(e){n({status:!0});var a=_a()(e).format("DD MM YYYY").split(" ");z({url:"api/timeslots_day_select",data:{doctorid:t,dd:a[0],mm:a[1],yyyy:a[2]}}).then((function(e){n({dataTable:e.data.outjson.days[0].slots,dataTypeSlots:e.data.outjson.typeslots,status:!1})}))}}}),Object(E.c)({onSearch:function(e){var t=e.set_state;return function(e){if(""!==e.trim())return t({fetching:!0}),ho[name]&&clearTimeout(ho[name]),new Promise((function(t,n){ho[name]=setTimeout((function(){z({url:"api/doctors_select",data:{substr:e}}).then((function(e){return t(e)}))}),e?1e3:1)})).then((function(e){t({dataDoctors:e.data.outjson,fetching:!1})}))}},handleSelect:function(e){var t=e.set_state,n=e.getTemplate;return function(e,a,r){var l;r?n(e):(l=a.split(" "),z({url:"api/timeslots_select",data:{doctorid:e,mm:l[0],yyyy:l[1]}}).then((function(n){return t({daysData:n.data.outjson.days,valueDoctor:e})})))}},handleChange:function(e){var t=e.set_state,n=e.dataDoctors;return function(e){var a=n.find((function(t){return t.value===e}));t({mainValue:a.label,dataDoctors:[]})}},handleChangeCheckbox:function(e){var t=e.checkboxCollection,n=e.set_state;return function(e,a){t.set(a,e);var r=[];t.forEach((function(e){r=r.concat(e)})),n({checkboxesValue:r,checkboxCollection:t})}},createDaySlot:function(e){var t=e.timeStart,n=e.timeEnd,a=e.interval,r=e.typeSlot,l=e.dataTable,i=e.set_state;return function(){var e=_a()(t,"HH:mm"),o=_a()(n,"HH:mm");if(e.diff(o)>=0)return w.a.error({message:"Конечное время не может быть меньше или равно начальному",duration:2});var c=o.diff(e,"minute");if(a>c)return w.a.error({message:"Интервал (Длительность) больше отрезка времени",duration:2});var s=fo(t,n,a,{includeOverflow:!0}),u=[],m=!1;if(s.forEach((function(e){u.push({btime:e[0],etime:e[1],id:null,typeslotsid:r})})),l.forEach((function(e){var t=_a()(e.btime,"HH:mm"),n=_a()(e.etime,"HH:mm");u.forEach((function(e){var a=_a()(e.btime,"HH:mm"),r=_a()(e.etime,"HH:mm");t.isSame(a)&&(m=!0),a.isAfter(t)&&a.isBefore(n)&&(m=!0),r.isAfter(t)&&r.isBefore(n)&&(m=!0),n.isAfter(a)&&n.isBefore(r)&&(m=!0)}))})),m)return w.a.error({message:"Добавленные слоты не должны совпадать c существующими слотами",duration:2});(l=l.concat(u)).sort((function(e,t){return e.btime>t.btime?1:e.btime<t.btime?-1:0})),i({dataTable:l})}}}),Object(E.c)({setIsPublished:function(e){var t=e.valueDoctor,n=e.handleSelect,a=e.month,r=e.checkboxesValue,l=e.set_state;return function(e,i){switch(e){case"one":z({url:"api/timeslots_ispublished",data:{doctorid:t,workdate:[i],ispublished:!0}}).then((function(){w.a.success({message:"Изменено",duration:2}),n(t,a)}));break;case"rm_one":z({url:"api/timeslots_ispublished",data:{doctorid:t,workdate:[i],ispublished:!1}}).then((function(){w.a.success({message:"Изменено",duration:2}),n(t,a)}));break;case"more":z({url:"api/timeslots_ispublished",data:{doctorid:t,workdate:r,ispublished:!0}}).then((function(){w.a.success({message:"Изменено",duration:2}),l({checkboxCollection:new Map,checkboxesValue:[]}),n(t,a)}));break;case"rm_more":z({url:"api/timeslots_ispublished",data:{doctorid:t,workdate:r,ispublished:!1}}).then((function(){w.a.success({message:"Изменено",duration:2}),l({checkboxCollection:new Map,checkboxesValue:[]}),n(t,a)}))}}},submitTimeSlots:function(e){var t=e.valueDoctor,n=e.selectedDay,a=e.set_state,r=e.dataTable,l=e.handleSelect,i=e.month,o=e.daysData,c=e.checkboxesValue,s=e.getDayTimeSlots;return function(e,u){switch(e){case"clear":var m=o.find((function(e){return e.workdate===u}));z({url:"api/timeslots_insupd",data:{doctorid:t,days:[{workdate:u,slots:[],ispublished:m.ispublished}]}}).then((function(){w.a.success({message:"Изменено",duration:2}),l(t,i)})).catch((function(){a({flagReset:!0}),s(n)}));break;case"clear_some":z({url:"api/timeslots_isdeleteslots",data:{doctorid:t,workdate:c}}).then((function(){w.a.success({message:"Изменено",duration:2}),a({checkboxCollection:new Map,checkboxesValue:[]}),l(t,i)})).catch((function(){a({flagReset:!0}),s(n)}));break;case"change":var d=n.format("DD.MM.YYYY"),p=o.find((function(e){return e.workdate===d}));z({url:"api/timeslots_insupd",data:{doctorid:t,days:[{workdate:d,slots:r,ispublished:p.ispublished}]}}).then((function(){w.a.success({message:"Изменено",duration:2}),l(t,i)})).catch((function(){a({flagReset:!0}),s(n)}))}}}}),Object(E.b)({componentDidUpdate:function(e){var t=this.props,n=t.getTemplate,a=t.isModalTemplateOpen,r=t.set_state,l=t.isModifiedTemp;e.isModalTemplateOpen!==a&&(void 0!==e.isModalTemplateOpen&&!1!==e.isModalTemplateOpen||n()),e.isModifiedTemp!==l&&!0===l&&(n(),r({isModifiedTemp:!1}))}}));function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _o=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{slotsPacients:[],typeslotsPacients:[]}:t;return{slotsPacients:n.slotsPacients,typeslotsPacients:n.typeslotsPacients}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getListPacients:function(e){var t=e.setStateUpComp,n=e.valueDoctor;return function(e){t({isVisibleListPacients:!0,status:!0}),z({url:"api/timeslots_day_pacient_select",data:{doctorid:n,workdate:e}}).then((function(e){t({status:!1,slotsPacients:e.data.outjson.days[0].slots,typeslotsPacients:e.data.outjson.typeslots})}))}},sendToExchanger:function(e){var t=e.valueDoctor,n=e.getTimeslots,a=e.month;return function(e){z({url:"api/inbasket",data:{doctorid:t,workdate:[e]}}).then((function(){n(t,a),w.a.success({message:"Список пациентов добавлены в обменник",duration:2})}))}}}))((function(e){var t=e.month,n=e.date,a=e.setStateUpComp,i=e.daysData,o=e.getDayTimeSlots,c=e.submitTimeSlots,s=e.setIsPublished,u=e.checkboxesValue,m=e.getListPacients,d=e.sendToExchanger,p={border:"1px solid",backgroundColor:"#b8deff"},f=_a()().format("DD.MM.YYYY"),g=_a()(n._d).format("DD.MM.YYYY"),v=_a()(n._d).format("MM YYYY"),E=_a()().subtract(1,"days").endOf("day"),O=i.find((function(e){return e.workdate===g}));return E.diff(_a()(n._d).format())>0?l.a.createElement("div",{style:Eo({},p,{minHeight:80,maxWidth:"80%",backgroundColor:"#dcdcdc",margin:"0 auto"})},l.a.createElement("div",{style:{marginLeft:10}},_a()(n._d).format("DD"))):(f===g&&(p=Eo({},p,{backgroundColor:"#b9fdaa"})),l.a.createElement("div",{title:"",style:Eo({},p,{minHeight:105})},v===t?l.a.createElement(r.Fragment,null,l.a.createElement("div",{style:{marginTop:2,marginLeft:2,display:"flex",justifyContent:"space-between",alignItems:"center"}},l.a.createElement(y.a,{value:g,size:"small"}),O?O.ispublished?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(wn.a,{overlayStyle:{fontSize:10},title:"Опубликовать",placement:"leftTop"},l.a.createElement(h.a,{className:"cell__btn-icon cell__btn-icon--hover",type:"file-done",onClick:function(){return s("one",g)}})),l.a.createElement(wn.a,{overlayStyle:{fontSize:10},title:"Удалить расписание",placement:"right"},l.a.createElement(kn.a,{title:"Вы уверены?",okText:"Да",onConfirm:function(){return c("clear",g)}},l.a.createElement(h.a,{style:{marginLeft:5,color:"crimson"},className:"cell__btn-icon cell__btn-icon--hover",type:"close-square"}))))):null,l.a.createElement("div",{style:{marginRight:10,fontSize:10}},v)),l.a.createElement(da.a,{style:{margin:"2px 0 0"}}),l.a.createElement("div",null,l.a.createElement(wn.a,{title:"Открыть расписание",placement:"topRight",overlayStyle:{fontSize:10}},l.a.createElement(b.a,{size:"small",onClick:function(){a({isModalDayOpen:!0,selectedDay:n,isDayPublished:O.ispublished}),o(n._d)},className:"timetable__cell-btn",style:{fontSize:14,fontWeight:"bold",width:"100%",margin:0,backgroundColor:"transparent",borderColor:"transparent"}},_a()(n._d).format("DD"))),O?O.ispublished?l.a.createElement("div",null,l.a.createElement(kn.a,{title:"Вы дейстительно хотите отменить публикацию?",okText:"Да",onConfirm:function(){return s("rm_one",g)}},l.a.createElement(b.a,{title:"Отменить публикацию",style:{fontSize:12,width:"100%",height:20,margin:0,backgroundColor:"aliceblue"},icon:"schedule"},"Опубликовано")),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:2,marginBottom:1}},l.a.createElement(kn.a,{title:"Переместить записавшихся в обменник записей?",okText:"Да",cancelText:"Нет",onConfirm:function(){return d(g)}},l.a.createElement(b.a,{title:"Переместить записавшихся в обменник записей",icon:"retweet",size:"small"})),l.a.createElement(b.a,{onClick:function(){return m(g)},title:"Посмотреть список пациентов (пациенты, явки, услуги)",icon:"eye",type:"dashed",size:"small"},"".concat(O.persons," ").concat(O.personsarrival," ").concat(O.serviceprovision)))):l.a.createElement("div",{style:{textAlign:"center"}},"".concat(O.mintime," - ").concat(O.maxtime)):null)):l.a.createElement(r.Fragment,null,l.a.createElement("div",{style:{fontSize:18,margin:10,textAlign:"center"}},_a()(n._d).format("DD"),O?l.a.createElement("div",{style:{textAlign:"center",fontSize:10}},"".concat(O.mintime," - ").concat(O.maxtime)):null,O&&O.ispublished?l.a.createElement("div",{style:{textAlign:"center",fontSize:10}},"Опубликовано"):null,u.some((function(e){return e==g}))?l.a.createElement(h.a,{type:"check-square",theme:"filled"}):null))))})),jo=a(207),wo=a(275),ko=a(649);function So(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po=Object(E.a)(Object(E.e)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uniqTagsMonth:[],visibleDropdown:!1,visibleFirstConfirm:!1,visibleSecondConfirm:!1,visibleThirdConfirm:!1};return{uniqTagsMonth:e.uniqTagsMonth,visibleDropdown:e.visibleDropdown,visibleFirstConfirm:e.visibleFirstConfirm,visibleSecondConfirm:e.visibleSecondConfirm,visibleThirdConfirm:e.visibleThirdConfirm}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({checkCheckboxes:function(e){var t=e.set_state,n=e.checkboxesValue;return function(e){if(0===n.length)return w.a.warning({message:"Вы не отметили день/дни",duration:2});"first"===e?t({visibleFirstConfirm:!0}):"second"===e?t({visibleSecondConfirm:!0}):"third"===e&&t({visibleThirdConfirm:!0})}},setVisibleDropdown:function(e){var t=e.set_state;return function(e){switch(e.key){case"1":case"2":case"4":case"6":t({visibleDropdown:!1})}}},setWeekdays:function(e){var t=e.monthCalendar,n=e.checkboxCollection,a=e.setStateUpComp,r=e.checkboxesValue;return function(){for(var e=_a()(t,["MM YYYY"]).daysInMonth(),l=[],i=1;i<=e;i++)l.push("".concat(i," ").concat(t));var o=l.map((function(e){var t=_a()(e,["DD MM YYYY"]);if(_a()().subtract(1,"days").endOf("day").diff(_a()(t).format())<0&&6!==t.isoWeekday()&&7!==t.isoWeekday())return _a()(t).format("DD.MM.YYYY")})).filter((function(e){return void 0!==e}));n.set(t,o),a({checkboxesValue:function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var a=n+1;a<t.length;++a)t[n]===t[a]&&t.splice(a--,1);return t}(r.concat(o)),checkboxCollection:n})}},setUniqTags:function(e){var t=e.checkboxesValue,n=e.set_state;return function(){var e=t.map((function(e){return _a()(e,"DD.MM.YYYY").format("MMMM")})),a=So(new Set(e));n({uniqTagsMonth:a})}},sendToExchangerMore:function(e){var t=e.valueDoctor,n=e.checkboxesValue,a=e.setStateUpComp;return function(){z({url:"api/inbasket",data:{doctorid:t,workdate:n}}).then((function(){w.a.success({message:"Список пациентов добавлены в обменник",duration:2}),a({checkboxCollection:new Map,checkboxesValue:[]})}))}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.setUniqTags,n=e.checkboxesValue;n&&n.length>0&&t()},componentDidUpdate:function(e){var t=this.props,n=t.checkboxesValue,a=t.setUniqTags;e.checkboxesValue!==n&&a()}})),xo=jo.a.Group,To=jo.a.Button,Mo=Po((function(e){for(var t=e.value,n=e.type,a=e.onChange,r=e.onTypeChange,i=e.setStateUpComp,o=e.checkboxesValue,c=e.visibleDropdown,s=e.uniqTagsMonth,u=e.submitTimeSlots,m=e.setIsPublished,d=e.setVisibleDropdown,p=e.setWeekdays,f=e.set_state,g=e.checkCheckboxes,y=e.visibleFirstConfirm,b=e.visibleSecondConfirm,v=e.sendToExchangerMore,E=e.visibleThirdConfirm,O=e.reloadTimeslots,_=e.valueDoctor,j=e.monthCalendar,k=l.a.createElement(En.a,{onClick:d},l.a.createElement(En.a.Item,{key:"1"},l.a.createElement("div",{className:"cell__btn-icon--hover",onClick:function(){return i({checkboxCollection:new Map,checkboxesValue:[]})}},"Снять метку со всех выбранных дней")),l.a.createElement(En.a.Item,{key:"2"},l.a.createElement("div",{className:"cell__btn-icon--hover",onClick:function(){return p()}},"Отметить будние дни текущего месяца")),l.a.createElement(En.a.Divider,null),l.a.createElement(En.a.Item,{key:"3"},l.a.createElement(kn.a,{overlayStyle:{zIndex:1111},title:"Вы уверены?",okText:"Да",cancelText:"Нет",visible:y,onCancel:function(){return f({visibleFirstConfirm:!1})},onConfirm:function(){f({visibleFirstConfirm:!1,visibleDropdown:!1}),u("clear_some")}},l.a.createElement("div",{className:"cell__btn-icon--hover",style:{backgroundColor:"#ff9999"},onClick:function(){return g("first")}},"Удалить расписание"))),l.a.createElement(En.a.Item,{key:"4"},l.a.createElement("div",{className:"cell__btn-icon--hover",style:{backgroundColor:"#b8defd"},onClick:function(){if(0===o.length)return w.a.warning({message:"Вы не отметили день/дни",duration:2});i({isModalTemplateOpen:!0})}},"Применить шаблон")),l.a.createElement(En.a.Divider,null),l.a.createElement(En.a.Item,{key:"5"},l.a.createElement(kn.a,{overlayStyle:{zIndex:1111},title:"Вы уверены?",okText:"Да",cancelText:"Нет",visible:b,onCancel:function(){return f({visibleSecondConfirm:!1})},onConfirm:function(){f({visibleSecondConfirm:!1,visibleDropdown:!1}),m("rm_more")}},l.a.createElement("div",{className:"cell__btn-icon--hover",style:{backgroundColor:"#ff9999"},onClick:function(){return g("second")}},"Отменить публикацию"))),l.a.createElement(En.a.Item,{key:"6"},l.a.createElement("div",{className:"cell__btn-icon--hover",style:{backgroundColor:"#bafdaf"},onClick:function(){if(0===o.length)return w.a.warning({message:"Вы не отметили день/дни",duration:2});m("more")}},"Опубликовать")),l.a.createElement(En.a.Divider,null),l.a.createElement(En.a.Item,null,l.a.createElement(kn.a,{overlayStyle:{zIndex:1111},title:"Вы уверены?",okText:"Да",cancelText:"Нет",visible:E,onCancel:function(){return f({visibleThirdConfirm:!1})},onConfirm:function(){f({visibleThirdConfirm:!1,visibleDropdown:!1}),v()}},l.a.createElement("div",{className:"cell__btn-icon--hover",style:{backgroundColor:"#bafdaf"},onClick:function(){return g("third")}},"Переместить в обменник")))),S=[],C=t.clone(),D=t.localeData(),P=[],x=0;x<12;x++)C.month(x),P.push(D.months(C));for(var T=0;T<12;T++)S.push(l.a.createElement(vn.a.Option,{className:"month-item",key:"".concat(T)},P[T]));for(var M=t.month(),I=t.year(),A=[],L=I-10;L<I+10;L+=1)A.push(l.a.createElement(vn.a.Option,{key:L,value:L,className:"year-item"},L));return l.a.createElement("div",{style:{padding:"5px 0 0"}},l.a.createElement(_n.a,{type:"flex"},l.a.createElement(On.a,null,l.a.createElement(xo,{size:"small",onChange:function(e){return r(e.target.value)},value:n},l.a.createElement(To,{value:"month"},"Месяц"),l.a.createElement(To,{value:"year"},"Год"))),l.a.createElement(On.a,{style:{marginLeft:10}},l.a.createElement(vn.a,{size:"small",dropdownMatchSelectWidth:!1,className:"my-year-select",onChange:function(e){var n=t.clone().year(e);a(n)},value:String(I)},A)),l.a.createElement(On.a,null,l.a.createElement(vn.a,{size:"small",dropdownMatchSelectWidth:!1,value:String(M),onChange:function(e){var n=t.clone();n.month(parseInt(e,10)),a(n)}},S)),l.a.createElement(On.a,null,l.a.createElement("span",{className:"cell__btn-icon--hover",style:{borderRadius:20,border:"1px solid",padding:4,fontSize:14,marginLeft:10},onClick:function(){return O(_,j,!1)}},l.a.createElement(h.a,{type:"reload",title:"Обновить данные"}))),l.a.createElement(On.a,{style:{marginLeft:10}},l.a.createElement(wo.a,{className:"dropdown",overlay:k,trigger:["click"],onVisibleChange:function(e){return f({visibleDropdown:e,visibleFirstConfirm:!1,visibleSecondConfirm:!1})},visible:c},l.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:3,backgroundColor:"#4586c2",borderRadius:10}},l.a.createElement(h.a,{type:"check-circle",style:{fontSize:18,marginRight:5,color:"aliceblue"}}),l.a.createElement(h.a,{type:"caret-down",style:{color:"aliceblue"}})))),l.a.createElement(On.a,{style:{marginLeft:20}},s&&s.length>0?l.a.createElement("span",{style:{marginRight:10}},"Месяцы отмеченных дней:"):null,s?s.map((function(e){return l.a.createElement(ko.a,{key:Un.nanoid(),color:"purple"},e)})):null)))}));function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo={},zo=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{dataTableTemp:[],idTemplate:null,valueSelect:null,newTempName:"",newTempDesc:"",isModalVisible:!1,isAddTemp:!1,dataForTemplates:[],mainValueTemplate:void 0,fetching:!1}:t;return{dataTableTemp:n.dataTableTemp,idTemplate:n.idTemplate,valueSelect:n.valueSelect,newTempName:n.newTempname,newTempDesc:n.newTempDesc,isModalVisible:n.isModalVisible,isAddTemp:n.isAddTemp,dataForTemplates:n.dataForTemplates,mainValueTemplate:n.mainValueTemplate,fetching:n.fetching}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){Ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({handleChange:function(e){var t=e.dataForTemplates,n=e.set_state;return function(e){var a=t.find((function(t){return t.value===e}));n({mainValueTemplate:a.label,dataForTemplates:[]})}},handleSearch:function(e){var t=e.set_state;return function(e){if(""!==e.trim())return t({fetching:!0}),Lo[name]&&clearTimeout(Lo[name]),new Promise((function(t){Lo[name]=setTimeout((function(){z({url:"api/fn_doctorsall_get",data:{substr:e}}).then((function(e){return t(e)}))}),e?1e3:1)})).then((function(e){return t({dataForTemplates:e.data.outjson,fetching:!1})}))}},handleRename:function(e){var t=e.set_state,n=e.idTemplate,a=e.templates;return function(){var e=a.find((function(e){return e.id===n})),r=e.temp_name,l=e.temp_desc;t({isModalVisible:!0,newTempName:r,newTempDesc:l})}},handleSelectTemp:function(e){var t=e.dataTypeSlots,n=e.templates,a=e.set_state;return function(e){a(e?{valueSelect:e.label}:{valueSelect:null,dataTableTemp:[]});var r=[];n.find((function(t){return t.id===e.value})).slots.forEach((function(e){t.forEach((function(t){e.typeslotsid===t.id&&r.push({beginTime:e.btime,endTime:e.etime,typeSlot:t.names})}))})),a({dataTableTemp:r,idTemplate:e.value})}},setChangeTemp:function(e){var t=e.idTemplate,n=e.valueDoctorTemp,a=e.templates,r=e.valueDoctor,l=e.dataTable,i=e.setStateUpComp,o=e.set_state,c=e.newTempName,s=e.newTempDesc;return function(e){switch(e){case"delete":if(!t)return w.a.error({message:"Вы не выбрали шаблон",duration:2});var u=a.findIndex((function(e){return e.id===t}));a.splice(u,1),z({url:"api/templates_insupd",data:{doctorid:n||r,templates:a}}).then((function(){w.a.success({message:"Шаблон успешно удален",duration:2}),o({valueSelect:null,dataTableTemp:[],idTemplate:null}),i({isModifiedTemp:!0})}));break;case"rename":if(!t)return w.a.error({message:"Вы не выбрали шаблон",duration:2});var m=a.findIndex((function(e){return e.id===t})),d=a.find((function(e){return e.id===t}));d.temp_name=c.trimLeft(),d.temp_desc=s.trimLeft(),a.splice(m,1,d),z({url:"api/templates_insupd",data:{doctorid:n||r,templates:a}}).then((function(){return o({valueSelect:null,isModalVisible:!1,isAddTemp:!1,newTempName:"",newTempDesc:"",dataTableTemp:[]})}));break;case"add":var p=c.trimLeft(),f=s.trimLeft();if(!p)return w.a.error({message:"Вы не ввели название",duration:2});var h={doctorid:n||r,temp_name:p,temp_desc:f,slots:l};a.push(h),z({url:"api/templates_insupd",data:{doctorid:n||r,templates:a}}).then((function(){w.a.success({message:"Шаблон добавлен",duration:2}),o({valueSelect:null,isModalVisible:!1,isAddTemp:!1,newTempName:"",newTempDesc:"",dataTableTemp:[]}),i({isModifiedTemp:!0})}))}}},handleApply:function(e){var t=e.isModalDayOpen,n=e.selectedDay,a=e.idTemplate,r=e.valueDoctorTemp,l=e.valueDoctor,i=e.checkboxesValue,o=e.refreshTimeSlots,c=e.month,s=e.setStateUpComp;return function(){if(t){var e=_a()(n._d).format("DD.MM.YYYY");z({url:"api/templates_apply",data:{doctorid:r||l,templatesid:a,workdate:[e]}}).then((function(){w.a.success({message:"Шаблон применен",duration:2});var e=_a()(n._d).format("MM YYYY");o(l,e)}))}else z({url:"api/templates_apply",data:{doctorid:r||l,templatesid:a,workdate:i}}).then((function(){w.a.success({message:"Шаблон применен",duration:2}),s({checkboxesValue:[],checkboxCollection:new Map}),o(l,c)}))}}}));function Fo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function No(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(){return(Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ro=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{selected:[],data:[]}:t;return{selected:n.selected,data:n.data}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({handleSelect:function(e){var t=e.set_state,n=e.selected;return function(e,a){if(a){var r=Fo(n);r.push(e.beginTime),t({selected:r})}else{var l=Fo(n).filter((function(t){return t!==e.beginTime}));t({selected:l})}}},handleSelectAll:function(e){var t=e.set_state;return function(e,n){if(e){var a=n.map((function(e){return e.beginTime}));t({selected:a})}else t({selected:[]})}},generateDataTable:function(e){var t=e.set_state,n=e.isTemplate,a=e.dataTable,r=e.dataTypeSlots,l=e.dataTableTemp;return function(){var e=[];if(n){var i=Fo(l);i.forEach((function(e,t){return e.number=t+1})),e=i}else a.forEach((function(t,n){r.forEach((function(a){t.typeslotsid===a.id&&e.push({number:n+1,beginTime:t.btime,endTime:t.etime,typeSlot:a.names,id:t.typeslotsid})}))}));t({data:e})}},rowStyle:function(e){var t=e.dataTypeSlots;return function(e){var n={},a=t.find((function(t){return t.names===e.typeSlot}));return a&&(n.backgroundColor=a.colors),n}},removeSlot:function(e){var t=e.dataTable,n=e.setStateUpComp;return function(e,a){var r=Fo(t);if(a){var l=Fo(e),i=r.filter((function(e){return-1===l.indexOf(e.btime)}));n({dataTable:i})}else{var o=r.findIndex((function(t){return t.btime===e}));t&&r.splice(o,1),n({dataTable:r})}}},setOddSlots:function(e){var t=e.dataTable,n=e.set_state;return function(){for(var e=Fo(t),a=[],r=0;r<e.length;r+=2)a.push(e[r].btime);n({selected:a})}},setEvenSlots:function(e){var t=e.dataTable,n=e.set_state;return function(){for(var e=Fo(t),a=[],r=1;r<e.length;r+=2)a.push(e[r].btime);n({selected:a})}},changeTypeSlot:function(e){var t=e.dataTable,n=e.selected,a=e.setStateUpComp;return function(e){for(var r=Fo(t),l=0;l<r.length;l++)for(var i=0;i<n.length;i++)r[l].btime===n[i]&&(r[l].typeslotsid=e);a({dataTable:r})}}}),Object(E.b)({componentDidMount:function(){(0,this.props.generateDataTable)()},componentDidUpdate:function(e){var t=this.props,n=t.dataTable,a=t.generateDataTable,r=t.dataTableTemp,l=t.selectedDay,i=t.set_state,o=t.flagReset,c=t.setStateUpComp;e.dataTable!==n&&a(),e.dataTableTemp!==r&&a(),e.selectedDay!==l&&i({selected:[]}),e.flagReset!==o&&!0===o&&(c({flagReset:!1}),i({selected:[]}))}}))((function(e){var t=e.dataTypeSlots,n=e.status,a=e.isTemplate,i=e.rowStyle,c=e.data,s=e.handleSelect,u=e.handleSelectAll,m=e.selected,d=e.removeSlot,p=e.setOddSlots,f=e.setEvenSlots,h=e.changeTypeSlot,g=e.isDayPublished,y=e.set_state,v=l.a.createElement(En.a,null,t.filter((function(e){return e.createslots})).map((function(e){return l.a.createElement(En.a.Item,{key:e.id},l.a.createElement("div",{style:{backgroundColor:e.colors},onClick:function(){return h(e.id)}},e.names))}))),E={mode:"checkbox",clickToSelect:!0,onSelect:s,onSelectAll:u,selected:m},O={};return a||g||(O.selectRow=E),l.a.createElement("div",{style:{marginTop:20,textAlign:"center"}},n?l.a.createElement(o.a,{tip:"Загрузка..."}):c.length>0?l.a.createElement(r.Fragment,null,a?null:g?null:l.a.createElement("div",{style:{marginBottom:10}},l.a.createElement("h4",{style:{textAlign:"left"}},"Управление слотами"),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("span",{style:{marginRight:5}},l.a.createElement(b.a,{size:"small",onClick:p},"Выбрать нечетные слоты")),l.a.createElement("span",{style:{marginRight:5}},l.a.createElement(b.a,{size:"small",onClick:f},"Выбрать четные слоты")),l.a.createElement("span",{style:{marginRight:5}},l.a.createElement(b.a,{disabled:!(m&&m.length>0),type:"danger",size:"small",onClick:function(){d(m,!0),y({selected:[]})}},"Удалить выбранные слоты")),l.a.createElement("span",null,l.a.createElement(wo.a,{overlay:v,disabled:!(m&&m.length>0)},l.a.createElement(b.a,{size:"small",icon:"down"},"Изменить тип слота"))))),l.a.createElement(pl.a,Uo({classes:"bootstrapTable",keyField:"beginTime",columns:[{text:"#",dataField:"number"},{text:"Начальное время",dataField:"beginTime"},{text:"Конечное время",dataField:"endTime"},{text:"Тип",dataField:"typeSlot"}],data:c,rowStyle:i},O))):l.a.createElement(Er.a,null))}));function Yo(){return(Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ho=vn.a.Option,Bo=zo((function(e){var t=e.setStateUpComp,n=e.mainValueTemplate,a=e.mainValue,r=e.handleChange,i=e.handleSearch,c=e.fetching,s=e.handleSelect,u=e.set_state,m=e.dataForTemplates,d=e.isTemplateFull,p=e.isModalTemplateOpen,h=e.month,g=void 0===h?null:h,y=e.templates,v=e.dataTableTemp,E=e.dataTypeSlots,O=e.handleSelectTemp,_=e.setChangeTemp,j=e.valueSelect,w=e.idTemplate,k=e.isAddTemp,S=e.isModalVisible,C=e.newTempDesc,D=e.newTempName,P=e.handleRename,x=e.handleApply,T=y.map((function(e){return{value:e.id,label:e.temp_name,desc:e.temp_desc}}));return l.a.createElement(ta.a,{zIndex:1001,centered:!0,width:1200,style:{minHeight:500},footer:null,title:"Шаблоны расписание",visible:p,onCancel:function(){u({valueSelect:null,idTemplate:null,dataTableTemp:[]}),t({isModalTemplateOpen:!1,isTemplateFull:!1,mainValueTemplate:void 0,templates:[]})}},l.a.createElement("div",{style:{display:"flex",alignItems:"flex-start",width:"100%"}},l.a.createElement("div",{style:{flexGrow:2,marginRight:20,border:"1px solid #bcbcbc",padding:10,maxWidth:1e3}},l.a.createElement("div",null,l.a.createElement("div",null,"Врач"),l.a.createElement(vn.a,{showSearch:!0,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},placeholder:"Поиск врача",value:void 0===n?a:n,onChange:function(e){return r(e)},onSearch:function(e){return i(e)},notFoundContent:c?l.a.createElement(o.a,{size:"small"}):null,onSelect:function(e){return s(e,g,!0)}},m.map((function(e){return l.a.createElement(Ho,{key:e.label,value:e.value},e.label)})))),l.a.createElement("div",{style:{marginTop:10,maxWidth:400}},l.a.createElement("div",null,"Шаблон"),l.a.createElement(ur.a,{value:null===j?null:j.label,isClearable:!0,placeholder:"Выберите шаблон врача",isSearchable:!1,components:{Option:function(e){var t=e.data,n=e.innerProps;return l.a.createElement("div",Yo({},n,{style:{marginLeft:20}}),l.a.createElement("div",null,t.label),l.a.createElement("div",{style:{fontSize:10,color:"grey"}},t.desc))},NoOptionsMessage:function(){return l.a.createElement(Er.a,null)}},options:T,onChange:function(e){return O(e)}})),l.a.createElement("div",null,l.a.createElement(Ro,{isTemplate:!0,dataTableTemp:v,dataTypeSlots:E}))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("div",null,l.a.createElement(b.a,{type:"primary",disabled:!w,onClick:function(){return x()}},"Применить")),d?l.a.createElement("div",null,l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(b.a,{type:"primary",onClick:function(){return P()},disabled:!w},"Переименовать")),l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(wn.a,{title:"Добавить шаблон со слотами текущего дня"},l.a.createElement(b.a,{type:"primary",onClick:function(){return u({isModalVisible:!0,isAddTemp:!0})}},"Добавить"))),l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(kn.a,{title:"Вы уверены?",okType:"danger",onConfirm:function(){return _("delete")},disabled:!w},l.a.createElement(b.a,{type:"danger",disabled:!w},"Удалить")))):null),l.a.createElement(ta.a,{centered:!0,zIndex:1002,title:k?"Добавить шаблон":"Переименовать шаблон",visible:S,onCancel:function(){return u({isAddTemp:!1,isModalVisible:!1,newTempName:"",newTempDesc:""})},onOk:function(){return _(k?"add":"rename")}},l.a.createElement("div",null,"Название"),l.a.createElement(f.a,{placeholder:"Введите название",style:{marginBottom:10},value:D,onChange:function(e){return u({newTempName:e.target.value})}}),l.a.createElement("div",null,"Описание"),l.a.createElement(f.a,{placeholder:"Введите описание",value:C,onChange:function(e){return u({newTempDesc:e.target.value})}}))))})),qo=function(e){var t=e.isVisibleListPacients,n=e.setStateUpComp,a=e.slotsPacients,r=e.typeslotsPacients,i=e.status,c=[];a.forEach((function(e){r.forEach((function(t){e.typeslotsid===t.id&&c.push({id:e.orderby,typeSlot:t.names,time:e.btime,pacient:e.fullfio?e.fullfio+" "+_a()(e.dr,"YYYY-MM-DD").format("DD.MM.YYYY")+"г.р.":"",arrival:e.personsarrival?l.a.createElement(h.a,{type:"check"}):"",services:e.serviceprovision?l.a.createElement(h.a,{type:"check"}):""})}))}));return l.a.createElement(ta.a,{width:1200,title:"Список пациентов",centered:!0,footer:null,visible:t,onCancel:function(){return n({isVisibleListPacients:!1,slotsPacients:[],typeslotsPacients:[]})}},l.a.createElement("div",{style:{marginTop:20,textAlign:"center"}},i?l.a.createElement(o.a,{tip:"Загрузка..."}):c.length>0?l.a.createElement(pl.a,{keyField:"id",classes:"bootstrapTable",rowStyle:function(e){var t={},n=r.find((function(t){return t.names===e.typeSlot}));return n&&(t.backgroundColor=n.colors),t},columns:[{text:"#",dataField:"id"},{text:"Тип",dataField:"typeSlot"},{text:"Время",dataField:"time"},{text:"Пациент",dataField:"pacient"},{text:"Явка",dataField:"arrival"},{text:"Услуги",dataField:"services"}],data:c}):l.a.createElement(Er.a,null)))};function Wo(){return(Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Jo=vn.a.Option,Go=function(e){var t=e.propsTableSlots,n=e.setStateUpComp,a=e.isModalDayOpen,r=e.selectedDay,i=e.createDaySlot,o=e.dataTypeSlots,c=e.submitTimeSlots,s=e.isDayPublished;return l.a.createElement(ta.a,{centered:!0,width:1200,footer:null,visible:a,onCancel:function(){return n({isModalDayOpen:!1,selectedDay:null,dataTable:[],isDayPublished:!1})}},l.a.createElement("div",null,null!==r?l.a.createElement("h3",null,"Расписание дня: ",_a()(r._d).format("YYYY-MM-DD")):null,l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",null,l.a.createElement(wn.a,{title:"операции с шаблонами"},l.a.createElement(b.a,{style:{marginLeft:10},onClick:function(){return n({isModalTemplateOpen:!0,isTemplateFull:!0})}},"Шаблон"))),l.a.createElement("div",{style:{marginLeft:10}},l.a.createElement(b.a,{style:{backgroundColor:"#b9fda9"},onClick:function(){return c("change")}},"Сохранить"))),l.a.createElement(da.a,{style:{margin:"5px 0"}}),s?null:l.a.createElement("div",null,l.a.createElement("h4",null,"Добавить слоты"),l.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.a.createElement("div",{style:{marginLeft:40}},l.a.createElement("div",{style:{marginRight:2,fontSize:14}},"Нач.время"),l.a.createElement(Ta.a,{defaultValue:_a()("08:00","HH:mm"),format:"HH:mm",allowClear:!1,onChange:function(e,t){return n({timeStart:t})}})),l.a.createElement("div",{style:{marginLeft:10}},l.a.createElement("div",{style:{marginRight:2,fontSize:14}},"Кон.время"),l.a.createElement(Ta.a,{defaultValue:_a()("12:00","HH:mm"),format:"HH:mm",allowClear:!1,onChange:function(e,t){return n({timeEnd:t})}})),l.a.createElement("div",{style:{marginLeft:10}},l.a.createElement("div",{style:{marginRight:2,fontSize:14}},"Длит."),l.a.createElement(jn.a,{min:1,max:60,defaultValue:15,onChange:function(e){return n({interval:e})}})),l.a.createElement("div",{style:{marginLeft:10}},l.a.createElement("div",{style:{marginRight:2,fontSize:14}},"Типы слота"),l.a.createElement("div",{style:{minWidth:200}},l.a.createElement(vn.a,{style:{width:"100%"},placeholder:"Выберите тип",onChange:function(e){return n({typeSlot:e})},defaultValue:1},o.map((function(e){return e.createslots?l.a.createElement(Jo,{key:e.id,value:e.id},e.names):null}))))),l.a.createElement(b.a,{icon:"plus",type:"primary",style:{marginLeft:10},onClick:function(){return i()}},"Добавить")))),l.a.createElement(Ro,Wo({},t,{isTemplate:!1})))};function Ko(){return(Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Qo=vn.a.Option,Xo=go((function(e){var t,n,a,r=e.month,i=e.set_state,c=e.isModalTemplateOpen,s=e.isModalDayOpen,m=e.onSearch,d=e.createDaySlot,p=e.dataDoctors,f=e.handleSelect,h=e.daysData,g=e.getDayTimeSlots,b=e.status,v=e.isTemplateFull,E=e.fetching,O=e.mainValue,_=e.handleChange,j=e.handleChangeCheckbox,w=e.checkboxesValue,k=e.checkboxCollection,S=e.selectedDay,C=e.dataTable,D=e.dataTypeSlots,P=e.valueDoctor,x=e.submitTimeSlots,T=e.templates,M=e.valueDoctorTemp,I=e.setIsPublished,A=e.isVisibleListPacients,L=e.typeslotsPacients,z=e.slotsPacients,F=e.isDayPublished,N={setStateUpComp:i,mainValue:O,handleChange:_,handleSelect:f,dataTable:C,isTemplateFull:v,isModalTemplateOpen:c,templates:T,dataTypeSlots:D,valueDoctor:P,valueDoctorTemp:M,isModalDayOpen:s,selectedDay:S,refreshTimeSlots:f,checkboxesValue:w,month:r},V={submitTimeSlots:x,setIsPublished:I,month:r,setStateUpComp:i,daysData:h,getDayTimeSlots:g,checkboxesValue:w,valueDoctor:P,getTimeslots:f},U=(a=P,(n="valueDoctor")in(t={submitTimeSlots:x,setIsPublished:I,setStateUpComp:i,monthCalendar:r,checkboxCollection:k,checkboxesValue:w,valueDoctor:P,reloadTimeslots:f})?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),R={setStateUpComp:i,isVisibleListPacients:A,slotsPacients:z,typeslotsPacients:L,status:b},Y={propsTableSlots:{dataTable:C,dataTypeSlots:D,status:b,setStateUpComp:i,isDayPublished:F,selectedDay:S},setStateUpComp:i,isModalDayOpen:s,selectedDay:S,createDaySlot:d,dataTypeSlots:D,submitTimeSlots:x,isDayPublished:F};return l.a.createElement("div",{style:{padding:"5px 20px",height:"100%"}},l.a.createElement(u.Helmet,null,l.a.createElement("title",null,"Расписание врача")),l.a.createElement("div",{style:{marginBottom:5,fontSize:24,fontWeight:"bolder"}},"Расписание врача"),l.a.createElement("div",null,l.a.createElement("div",{style:{fontSize:12}},O?"Врач:":"Поиск врача:"),l.a.createElement("div",{style:{maxWidth:1e3}},l.a.createElement(vn.a,{size:"small",showSearch:!0,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},placeholder:"Поиск врача",value:O,onChange:function(e){return _(e)},onSearch:function(e){return m(e)},notFoundContent:E?l.a.createElement(o.a,{size:"small"}):null,onSelect:function(e){return f(e,r,!1)}},p.map((function(e){return l.a.createElement(Qo,{key:e.label,value:e.value},e.label)}))))),O?l.a.createElement(y.a.Group,{onChange:function(e){return j(e,r)},value:w},l.a.createElement(uo.a,{style:{padding:5},showTime:!1,headerRender:function(e){var t=e.value,n=e.type,a=e.onChange,r=e.onTypeChange;return l.a.createElement(Mo,Ko({},U,{value:t,type:n,onChange:a,onTypeChange:r}))},dateFullCellRender:function(e){return l.a.createElement(_o,Ko({date:e},V))},onChange:function(e){var t=_a()(e._d).format("MM YYYY");t!==r&&i({month:t})},onPanelChange:function(e,t){var n=_a()(e._d).format("MM YYYY");"month"===t&&f(P,n)}})):null,l.a.createElement(Go,Y),l.a.createElement(Bo,N),l.a.createElement(qo,R))}));function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ec={},tc={},nc=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{fetching:!1,doctorsList:[],pacientsList:[],doctorId:null,daysData:[],typeslots:[],dateValue:_a()(new Date),isLoading:!1,isModalRecordOpen:!1,valueDoctor:null,pacientId:null}:t;return{fetching:n.fetching,doctorsList:n.doctorsList,pacientsList:n.pacientsList,doctorId:n.doctorId,pacientId:n.pacientId,daysData:n.daysData,typeslots:n.typeslots,dateValue:n.dateValue,isLoading:n.isLoading,isModalRecordOpen:n.isModalRecordOpen,valueDoctor:n.valueDoctor}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){Zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getWeekSlots:function(e){var t=e.set_state;return function(e,n){z({url:"api/doctors_week_timeslots_select",data:{doctorid:e,workdate:n}}).then((function(e){t({daysData:e.data.outjson.days,typeslots:e.data.outjson.typeslots,isLoading:!1,isModalRecordOpen:!1})}))}}}),Object(E.c)({getPacientsList:function(e){var t=e.set_state;return function(e){if(""!==e.trim())return t({fetching:!0}),ec[name]&&clearTimeout(ec[name]),new Promise((function(t){ec[name]=setTimeout((function(){z({url:"api/persons_select",data:{substr:e}}).then((function(e){return t(e)}))}),e?1e3:1)})).then((function(e){t({pacientsList:e.data.outjson,fetching:!1})}))}},getDoctorsList:function(e){var t=e.set_state;return function(e){if(""!==e.trim())return t({fetching:!0}),tc[name]&&clearTimeout(tc[name]),new Promise((function(t){tc[name]=setTimeout((function(){z({url:"api/doctors_select",data:{substr:e}}).then((function(e){return t(e)}))}),e?1e3:1)})).then((function(e){t({doctorsList:e.data.outjson,fetching:!1})}))}},handleSelectPacient:function(e){var t=e.set_state;return function(e){t({pacientId:e})}},handleSelectDoctor:function(e){var t=e.set_state,n=e.getWeekSlots;return function(e){t({isLoading:!0});var a=_a()(new Date);n(e,a.format("DD.MM.YYYY")),t({doctorId:e,dateValue:a})}},handleChangeDoctor:function(e){var t=e.set_state,n=e.doctorsList;return function(e){var a=n.find((function(t){return t.value===e}));t({valueDoctor:a.label,doctorsList:[]})}},handleSito:function(e){var t=e.doctorId,n=e.pacientId,a=e.dateValue,r=e.getWeekSlots,l=e.workdate,i=e.set_state;return function(){z({url:"api/timeslots_record_cito",data:{doctorid:t,workdate:a.format("DD.MM.YYYY"),personsid:n}}).then((function(){w.a.success({message:"Пациент записан по СiТо",duration:2.5}),i({isLoading:!0}),r(t,l)}))}},handleChangePicker:function(e){var t=e.doctorId,n=e.getWeekSlots,a=e.set_state;return function(e,r){a({isLoading:!0,dateValue:e}),n(t,r)}}}));function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{menuList:[],isLoading:!1,slotId:null,workdate:null,commentValue:null}:t;return{menuList:n.menuList,isLoading:n.isLoading,slotId:n.slotId,workdate:n.workdate,commentValue:n.commentValue}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getTypeslotProperty:function(e){var t=e.typeslots;return function(e,n){var a=t.find((function(t){return t.id===e}));return"name"===n?a.names:a.colors}},cancelMedRecord:function(e){var t=e.doctorId,n=e.dateValue,a=e.getWeekSlots,r=e.setStateUpComp;return function(e,l,i){z({url:"api/timeslots_record_cancel",data:{doctorid:t,workdate:i,personsid:l,id:e}}).then((function(){r({isLoading:!0}),a(t,n.format("DD.MM.YYYY"))}))}},recordReceptionOfPacient:function(e){var t=e.doctorId,n=e.pacientId,a=e.dateValue,r=e.getWeekSlots,l=e.setStateUpComp,i=e.slotId,o=e.workdate,c=e.commentValue;return function(e){z({url:"api/timeslots_record",data:{workdate:o,doctorid:t,personsid:n,id:i,platformsid:e,comment:c}}).then((function(){l({isLoading:!0}),r(t,a.format("DD.MM.YYYY"))}))}},sendToExchanger:function(e){var t=e.doctorId,n=e.setStateUpComp,a=e.getWeekSlots,r=e.dateValue;return function(e,l){z({url:"api/inbasket",data:{doctorid:t,personsid:e,workdate:[l]}}).then((function(){n({isLoading:!0}),a(t,r.format("DD.MM.YYYY"))}))}},getMenuList:function(e){var t=e.set_state;return function(e){t({focusedSlotId:e,isLoading:!0}),z({url:"api/slot_menu",data:{id:e}}).then((function(e){return t({menuList:e.data.outjson.menu,isLoading:!1})}))}}}),Object(E.c)({postSlotOperation:function(e){var t=e.set_state,n=e.cancelMedRecord,a=e.sendToExchanger,r=e.pacientId;e.setStateUpComp;return function(e,l,i,o){switch(e){case"record_pacient":t({isModalRecordOpen:!0,slotId:l,workdate:o});break;case"recordcancel":n(l,i,o);break;case"inbasket":a(i,o);break;case"callhome":if(null===r)return void w.a.error({message:"Вы не выбрали пациента"});t({isModalHomeOpen:!0,slotId:l})}}}}));function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cc={},sc=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{isLoading:!1,pacientInfo:null,applicantInfo:null,valueTextArea:null,isByHimself:!0,applicantList:[]}:t;return{isLoading:n.isLoading,pacientInfo:n.pacientInfo,applicantInfo:n.applicantInfo,valueTextArea:n.valueTextArea,isByHimself:n.isByHimself,applicantList:n.applicantList}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){oc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getApplicantList:function(e){var t=e.set_state;return function(e){if(""!==e.trim())return t({fetchingApplicant:!0}),cc[name]&&clearTimeout(cc[name]),new Promise((function(t){cc[name]=setTimeout((function(){z({url:"api/clientweb_persons_select",data:{substr:e}}).then((function(e){return t(e)}))}),e?1e3:1)})).then((function(e){t({applicantList:e.data.outjson,fetchingApplicant:!1})}))}},handleSelectApplicant:function(e){var t=e.set_state,n=e.applicantList;return function(e){var a=n.find((function(t){return t.value===e}));t({applicantInfo:a})}},getInfoPacient:function(e){var t=e.slotId,n=e.pacientId,a=e.set_state,r=e.setStateUpComp;return function(){a({isLoading:!0}),z({url:"api/timeslots_pacient_detail",data:{timeslotsid:t,pacientid:n}}).then((function(e){a({isLoading:!1,pacientInfo:e.data.outjson.info[0]})})).catch((function(){return r({isModalHomeOpen:!1})}))}}}),Object(E.b)({componentDidUpdate:function(e){var t=this.props,n=t.getInfoPacient,a=t.isModalHomeOpen;e.isModalHomeOpen!==a&&!0===a&&n()}})),uc=f.a.TextArea,mc=vn.a.Option,dc=sc((function(e){var t=e.isModalHomeOpen,n=e.setStateUpComp,a=e.isLoading,r=e.pacientInfo,i=e.valueTextArea,c=e.set_state,s=e.isByHimself,u=e.getApplicantList,m=e.fetchingApplicant,d=void 0!==m&&m,p=e.isPhoneActual,f=void 0===p||p,h=e.handleSelectApplicant,g=e.applicantList,b=e.applicantInfo;return l.a.createElement(ta.a,{title:"Оформление вызова врача на дом",style:{minHeight:700,minWidth:1e3},centered:!0,visible:t,onCancel:function(){return n({isModalHomeOpen:!1,pacientInfo:null})},footer:null},a?l.a.createElement("div",{style:{margin:"auto"}},l.a.createElement(o.a,{size:"large"})):null!==r?l.a.createElement("div",null,l.a.createElement("div",{style:{border:"1px solid lightGray",padding:5}},l.a.createElement("h2",null,"Информация о пациенте"),l.a.createElement("div",{style:{display:"flex",alignItems:"flex-start"}},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",{style:{fontWeight:"bolder"}},"Пациент: "),r.fullfio),l.a.createElement("div",null,l.a.createElement("span",{style:{fontWeight:"bolder"}},"Пол: "),r.pname),l.a.createElement("div",null,l.a.createElement("span",{style:{fontWeight:"bolder"}},"Дата рождения: "),_a()(r.dr,"YYYY-MM-DD").format("DD.MM.YYYY")),l.a.createElement("div",null,l.a.createElement("span",{style:{fontWeight:"bolder"}},"Полных лет: "),r.vozvrast),l.a.createElement("div",null,l.a.createElement("span",{style:{fontWeight:"bolder"}},"Адрес проживания: "),r.addres?r.addres.map((function(e,t,n){return l.a.createElement("span",{key:e.id},e.addrstr+(n.length-1===t?"":", "))})):null),r.contacts.map((function(e){return l.a.createElement("div",{key:e.id,style:{fontWeight:"bolder"}},l.a.createElement("span",null,e.tname+": "),e.cvalue)}))),l.a.createElement("div",{style:{padding:20,borderRadius:10,backgroundColor:"lightGreen",fontWeight:"bold",marginLeft:40}},l.a.createElement("div",{style:{fontSize:14}},"Время вызова:"),l.a.createElement("div",{style:{fontSize:20,textAlign:"center"}},r.btime)))),l.a.createElement("div",{style:{border:"1px solid lightGray",padding:5}},l.a.createElement("h2",null,"Сведения о вызове"),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(y.a,{checked:s,onChange:function(e){!1===e.target.checked&&b?c({isByHimself:e.target.checked,applicantInfo:null}):c({isByHimself:e.target.checked})}},"Вызов произвёл пациент лично")),l.a.createElement("div",null,!1===s?l.a.createElement(vn.a,{size:"small",showSearch:!0,onSearch:u,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},notFoundContent:d?l.a.createElement(o.a,{size:"small"}):null,placeholder:"Поиск",onSelect:h},g.map((function(e){return l.a.createElement(mc,{key:e.value},e.label)}))):r.fullfio),l.a.createElement("div",null,l.a.createElement(y.a,null,"Вызов по месту проживания")),l.a.createElement("div",null,!1===s?l.a.createElement(vn.a,{size:"small",showSearch:!0,onSearch:u,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},notFoundContent:d?l.a.createElement(o.a,{size:"small"}):null,placeholder:"Поиск",onSelect:h},g.map((function(e){return l.a.createElement(mc,{key:e.value},e.label)}))):r.fullfio),l.a.createElement("div",null,l.a.createElement(y.a,{checked:f,onChange:function(e){return c({isPhoneActual:e.target.checked})}},"Телефон пациента актуальный")),!1===f?l.a.createElement(wa.a,{mask:"+7 (999) 999-99-99",onChange:function(e){return console.log(23,e.target.value)}}):null),l.a.createElement("div",null,l.a.createElement("div",null,"Краткое описание причины вызова врача:"),l.a.createElement("div",null,l.a.createElement(uc,{value:i,onChange:function(e){return c({valueTextArea:e.target.value})}})))))):null)})),pc=f.a.TextArea,fc=lc((function(e){var t=e.daysData,n=e.getTypeslotProperty,a=e.recordReceptionOfPacient,r=e.focusedSlotId,i=void 0===r?null:r,c=e.set_state,s=e.pacientId,u=e.getMenuList,m=e.menuList,d=e.isLoading,p=e.postSlotOperation,f=e.isModalRecordOpen,h=e.isModalHomeOpen,g=void 0!==h&&h,y=e.commentValue,v=e.slotId,E=_a()().format("DD.MM.YYYY"),O={isModalHomeOpen:g,setStateUpComp:c,slotId:v,pacientId:s};return l.a.createElement("div",{style:{display:"flex"}},t.map((function(e){return l.a.createElement("div",{key:e.workdate,style:{minWidth:150,marginRight:10}},l.a.createElement("div",{style:e.workdate===E?{color:"#1890ff",borderBottom:"3px solid #1890ff",textAlign:"center"}:{borderBottom:"1px solid",textAlign:"center"}},l.a.createElement("div",null,_a()(e.workdate,"DD.MM.YYYY").format("dddd")),l.a.createElement("div",{style:{fontSize:10}},e.workdate)),l.a.createElement("div",null,e.slots.length>0?e.slots.map((function(t){return l.a.createElement("div",{key:t.id,style:{border:i===t.id?"1px solid darkMagenta":"1px solid",marginTop:10,padding:5,backgroundColor:i===t.id?"powderBlue":"gainsboro"}},l.a.createElement(ui.b,{id:t.id},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.a.createElement("div",{style:{padding:5,borderRadius:10,backgroundColor:n(t.typeslotsid,"color")},title:n(t.typeslotsid,"name")},t.btime),l.a.createElement("div",{style:{fontSize:12,marginLeft:5,textAlign:"right",fontWeight:"bolder"}},t.fullfio)),l.a.createElement("div",{style:{fontSize:10,textAlign:"right",margin:"5px 0"}},t.dr?_a()(t.dr,"YYYY-MM-DD").format("DD.MM.YYYY")+" г.р.":null),l.a.createElement("div",null,t.phones.map((function(e){return l.a.createElement("div",{style:{fontSize:12,marginLeft:5},key:e.id},e.tname+": "+e.cvalue)}))),l.a.createElement("div",null,t.addresses.map((function(e){return l.a.createElement("div",{style:{fontSize:12,marginLeft:5},key:e.id},e.aname+": "+e.addrstr)})))),l.a.createElement(ui.a,{id:t.id,onShow:function(){return u(t.id)},onHide:function(){return c({focusedSlotId:null})}},d?l.a.createElement(ui.c,{disabled:!0},l.a.createElement(o.a,null)):m.length>0?m.map((function(n){return l.a.createElement(ui.c,{onClick:function(){return p(n.name_modul,t.id,t.personsid,e.workdate)},key:n.name_modul},n.names)})):l.a.createElement(ui.c,{disabled:!0},l.a.createElement(Er.a,null))))})):l.a.createElement(Er.a,{image:Er.a.PRESENTED_IMAGE_SIMPLE,style:{marginTop:20}})))})),l.a.createElement(ta.a,{centered:!0,footer:null,title:"Записать пациента",visible:f,onCancel:function(){return c({isModalRecordOpen:!1,commentValue:null,workdate:null,slotId:null})}},s?l.a.createElement("div",null,l.a.createElement("div",{style:{textAlign:"center",marginBottom:20}},l.a.createElement(b.a,{onClick:function(){return a(4)},style:{backgroundColor:"lightGreen",marginRight:10},size:"large"},"По телефону"),l.a.createElement(b.a,{onClick:function(){return a(2)},style:{backgroundColor:"lightGreen"},size:"large"},"По регистратуре(МИС)")),l.a.createElement("div",null,l.a.createElement("div",null,"Комментарий:"),l.a.createElement(pc,{value:y,onChange:function(e){return c({commentValue:e.target.value})}}))):l.a.createElement("div",{style:{textAlign:"center"}},"Вы не выбрали пациента")),l.a.createElement(dc,O))}));function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yc=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{pacientSlots:[],isLoading:!1,valueDate:_a()(new Date)}:t;return{pacientSlots:n.pacientSlots,isLoading:n.isLoading,valueDate:n.valueDate}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({getRecordPacient:function(e){var t=e.pacientId,n=e.dateValue,a=e.set_state,r=e.getWeekSlots,i=e.setStateUpComp;return function(e){a({isLoading:!0}),z({url:"api/timeslots_pacient_select",data:{personsid:t,workdate:e||n.format("DD.MM.YYYY")}}).then((function(e){if(a({isLoading:!1}),e.data.outjson.slots){var t=e.data.outjson.slots.map((function(e,t){return{number:t+1,id:e.id,hospital:e.nameShort,subdivision:e.departname,date:_a()(e.workdate,"YYYY-MM-DD").format("DD.MM.YYYY"),time:e.btime,doctor:e.label,action:l.a.createElement(b.a,{style:{margin:"5px 0"},type:"primary",size:"small",onClick:function(){a({isLoading:!0}),i({doctorId:e.doctorid,valueDoctor:e.label,isLoading:!0}),r(e.doctorid,_a()(e.workdate,"YYYY-MM-DD").format("DD.MM.YYYY"))}},"Перейти")}}));a({pacientSlots:t})}else a({pacientSlots:[]})}))}}}),Object(E.c)({handleChangeDate:function(e){var t=e.set_state,n=e.getRecordPacient;return function(e,a){n(a),t({valueDate:e})}}}),Object(E.b)({componentDidUpdate:function(e){var t=this.props,n=t.getRecordPacient,a=t.isModalRecordOpen,r=t.pacientId;e.isModalRecordOpen!==a&&!0===a&&n(),e.pacientId!==r&&n()}}))((function(e){var t=e.isModalRecordOpen,n=e.setStateUpComp,a=e.pacientSlots,r=e.isLoading,i=e.valueDate,c=e.handleChangeDate;return l.a.createElement(ta.a,{style:{minHeight:400,minWidth:1e3},footer:null,centered:!0,visible:t,onCancel:function(){return n({isModalRecordOpen:!1})}},l.a.createElement(Sa.a,{style:{marginBottom:10},size:"small",value:i,onChange:c}),r?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(o.a,null)):a.length>0?l.a.createElement(pl.a,{rowClasses:"table-exchanger",keyField:"id",columns:[{text:"id",dataField:"id",hidden:!0},{text:"#",dataField:"number"},{text:"Дата",dataField:"date"},{text:"Время",dataField:"time"},{text:"МО",dataField:"hospital"},{text:"Подразделение",dataField:"subdivision"},{text:"Врач",dataField:"doctor"},{text:"Действия",dataField:"action"}],data:a}):l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Er.a,null)))})),bc=vn.a.Option,vc=nc((function(e){var t=e.pacientsList,n=e.doctorsList,a=e.getPacientsList,r=e.fetching,i=e.getDoctorsList,c=e.handleChangeDoctor,s=e.handleSelectDoctor,m=e.valueDoctor,d=e.typeslots,p=e.daysData,f=e.doctorId,h=e.dateValue,g=e.handleChangePicker,y=e.isLoading,v=e.handleSelectPacient,E=e.handleSito,O=e.pacientId,_=e.isModalRecordOpen,j=e.set_state,w=e.getWeekSlots,k=e.typeslotsMap,S={typeslots:d,daysData:p,setStateUpComp:j,doctorId:f,dateValue:h,getWeekSlots:w,pacientId:O,typeslotsMap:k},C={isModalRecordOpen:_,setStateUpComp:j,pacientId:O,dateValue:h,getWeekSlots:w};return l.a.createElement("div",{style:{padding:20,height:"100%"}},l.a.createElement(u.Helmet,null,l.a.createElement("title",null,"Модуль регистратора")),l.a.createElement("div",{style:{marginBottom:10,fontSize:24,fontWeight:"bolder"}},"Модуль регистратора"),l.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.a.createElement(kn.a,{onConfirm:E,title:"Записать по СiТо",okText:"Да",cancelText:"Нет"},l.a.createElement(b.a,{type:"primary",icon:"info-circle",size:"small",disabled:!O||!f},"По СiТо!")),l.a.createElement(b.a,{disabled:!O,onClick:function(){return j({isModalRecordOpen:!0})},type:"primary",icon:"info-circle",size:"small",style:{marginLeft:10}},"Куда записан пациент"),l.a.createElement("div",{style:{minWidth:600,marginLeft:10}},l.a.createElement("div",{style:{fontSize:12}},"Поиск пациента"),l.a.createElement(vn.a,{size:"small",showSearch:!0,onSearch:a,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},notFoundContent:r?l.a.createElement(o.a,{size:"small"}):null,placeholder:"Поиск пациента",onSelect:v},t.map((function(e){return l.a.createElement(bc,{key:e.value},e.label)}))))),l.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",marginTop:10}},l.a.createElement("div",{style:{flexGrow:2,maxWidth:900}},l.a.createElement("div",{style:{fontSize:12}},f?"Врач":"Поиск врача"),l.a.createElement(vn.a,{size:"small",showSearch:!0,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},placeholder:"Поиск врача",value:m,onChange:c,onSearch:i,notFoundContent:r?l.a.createElement(o.a,{size:"small"}):null,onSelect:s},n.map((function(e){return l.a.createElement(bc,{key:e.label,value:e.value},e.label)})))),l.a.createElement("div",{style:{marginLeft:10}},l.a.createElement("div",{style:{fontSize:12}},"Нач. дата"),l.a.createElement(Sa.a,{disabled:!f,size:"small",allowClear:!1,value:h,format:"DD.MM.YYYY",onChange:function(e,t){return g(e,t)}}))),y?l.a.createElement("div",{style:{minWidth:700,minHeight:400,display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(o.a,{size:"large"})):f?l.a.createElement("div",{style:{marginTop:20}},l.a.createElement(fc,S)):null,l.a.createElement(yc,C))}));function Ec(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){jc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wc={},kc=Object(E.a)(Object(v.b)((function(e){return{user_detail:e.user.user_detail}}),(function(){return{}})),Object(E.e)((function(e){var t=e.inState,n=void 0===t?{mainValue:void 0,fetching:!1,dataDoctors:[],doctorId:null,typeslotsSource:[],typeslotsDest:[],slots:[],nonSelectedPacients:[],valueDatePicker:null,pacients:[],isLoading:!1,selectedSource:[],selectedDest:[],isLoadingDestination:!1,workdate:null}:t;return{mainValue:n.mainValue,fetching:n.fetching,dataDoctors:n.dataDoctors,doctorId:n.doctorId,typeslotsSource:n.typeslotsSource,typeslotsDest:n.typeslotsDest,slots:n.slots,nonSelectedPacients:n.nonSelectedPacients,valueDatePicker:n.valueDatePicker,pacients:n.pacients,isLoading:n.isLoading,selectedSource:n.selectedSource,selectedDest:n.selectedDest,isLoadingDestination:n.isLoadingDestination,workdate:n.workdate}}),{set_state:function(e){return function(t){var n=_c({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({changeOrder:function(e){var t=e.slots,n=e.set_state;return function(e,a){var r=Ec(t),l=new Map;t.forEach((function(e,t){e.nonselect||l.set(t,e.id)}));var i=Array.from(l.keys()),o=i.findIndex((function(e){return e===a}));if("up"===e){if(o-1<0)return;var c=l.get(i[o]),s=l.get(i[o-1]),u=t.find((function(e){return e.id===c})),m=t.find((function(e){return e.id===s})),d=_c({},m);m.personsid=u.personsid,m.fullfio=u.fullfio,m.dr=u.dr,m.idbasket=u.idbasket,u.personsid=d.personsid,u.fullfio=d.fullfio,u.dr=d.dr,u.idbasket&&(u.idbasket=d.idbasket),r[t.findIndex((function(e){return e.btime===u.btime}))]=u,r[t.findIndex((function(e){return e.btime===m.btime}))]=m,n({slots:r})}if("down"===e){if(o+1===i.length)return;var p=l.get(i[o]),f=l.get(i[o+1]),h=t.find((function(e){return e.id===p})),g=t.find((function(e){return e.id===f})),y=_c({},g);g.personsid=h.personsid,g.fullfio=h.fullfio,g.dr=h.dr,g.idbasket=h.idbasket,h.personsid=y.personsid,h.fullfio=y.fullfio,h.dr=y.dr,h.idbasket&&(h.idbasket=y.idbasket),r[t.findIndex((function(e){return e.btime===h.btime}))]=h,r[t.findIndex((function(e){return e.btime===g.btime}))]=g,n({slots:r})}}},handleSearch:function(e){var t=e.set_state;return function(e){if(""!==e.trim())return t({fetching:!0}),wc[name]&&clearTimeout(wc[name]),new Promise((function(t){wc[name]=setTimeout((function(){z({url:"api/doctors_select",data:{substr:e}}).then((function(e){return t(e)}))}),e?1e3:1)})).then((function(e){t({dataDoctors:e.data.outjson,fetching:!1})}))}},handleChange:function(e){var t=e.set_state,n=e.dataDoctors;return function(e){var a=n.find((function(t){return t.value===e}));t({mainValue:a.label,dataDoctors:[]})}},handleSelect:function(e){var t=e.set_state,n=e.doctorId,a=e.nonSelectedPacients;return function(e,r,l){!l&&a.length>0&&w.a.warning({message:"Изменения сброшены",duration:3}),t({isLoadingDestination:!0,nonSelectedPacients:[],selectedDest:[]});var i=r||_a()(new Date),o=i.format("DD.MM.YYYY");z({url:"api/doctors_timeslots_select",data:{doctorid:e||n,workdate:[o]}}).then((function(a){var r=a.data.outjson,l=r.days[0].slots.map((function(e){return e.fullfio?_c({},e,{nonselect:!0}):e}));t({doctorId:e||n,workdate:o,typeslotsDest:r.typeslots,slots:l,valueDatePicker:i,isLoadingDestination:!1})}))}},setToDemo:function(e){var t=e.selectedSource,n=e.set_state,a=e.pacients,r=e.slots,l=e.nonSelectedPacients;return function(){if(0===t.length)return w.a.error({message:"Вы не выбрали пациентов",duration:2.5});var e=a.filter((function(e){return t.indexOf(e.id)>-1}));if(e.length>r.length)return w.a.error({message:"Вы выбрали пациентов больше чем слоты",duration:2.5});if(r.every((function(e){return e.fullfio})))return w.a.error({message:"Расписание полностью заполнено",duration:2.5});if(r.filter((function(e){return null===e.fullfio})).length<e.length)return w.a.error({message:"Свободных слотов меньше чем выбранные пациенты",duration:2.5});var i=Ec(r),o=Ec(l);e.forEach((function(e){var t=i.findIndex((function(e){return!e.fullfio}));i[t]=_c({},i[t],{personsid:e.personsid,fullfio:e.fullfio,dr:e.dr,idbasket:e.id}),o.push(e.id)})),n({slots:i,nonSelectedPacients:o,selectedSource:[]})}},returnToBasket:function(e){var t=e.nonSelectedPacients,n=e.selectedDest,a=e.slots,r=e.set_state;return function(){if(0===n.length)return w.a.error({message:"Вы не выбрали пациентов",duration:2.5});var e=a.filter((function(e){return n.indexOf(e.id)>-1}));console.log(99,t);var l=Ec(t),i=Ec(a),o=Ec(n);e.forEach((function(e){var t=l.findIndex((function(t){return t===e.idbasket})),n=i.findIndex((function(t){return t.id===e.id})),a=o.findIndex((function(){return e.id}));l.splice(t,1),o.splice(a,1),i[n]=_c({},e,{personsid:null,fullfio:null,dr:null}),console.log(100,o,a)})),r({nonSelectedPacients:l,slots:i,selectedDest:o})}},getInsideBasket:function(e){var t=e.set_state,n=e.user_detail;return function(){t({isLoading:!0}),z({url:"api/mo_select",data:{orgid:n.orgid}}).then((function(e){z({url:"api/timeslots_inbasket_select",data:{moid:e.data.outjson.mo[0].id}}).then((function(e){t({isLoading:!1,pacients:e.data.outjson.slots})}))}))}}}),Object(E.c)({postModifySlots:function(e){var t=e.doctorId,n=e.workdate,a=e.slots,r=e.nonSelectedPacients,l=e.getInsideBasket,i=e.handleSelect;return function(){if(0===r.length)return w.a.error({message:"Нет изменений",duration:2.5});z({url:"api/timeslots_inbasket_record",data:{doctorid:t,workdate:n,slots:a}}).then((function(){var e=_a()(n,"DD.MM.YYYY");i(!1,e,!0),l(),w.a.success({message:"Сохранено",duration:2.5})}))}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.getInsideBasket,n=e.user_detail;s.a.isEmpty(n)||t()},componentDidUpdate:function(e){var t=this.props,n=t.user_detail,a=t.getInsideBasket;e.user_detail!==n&&a()}}));function Sc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pc=Object(E.a)(Object(E.e)((function(e){var t=e.inState;return{dataTable:(void 0===t?{dataTable:[]}:t).dataTable}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({removePacient:function(e){var t=e.getInsideBasket;return function(e,n,a){z({url:"api/timeslots_inbasket_delete",data:{workdate:n,doctorid:e,id:a}}).then((function(){w.a.success({message:"Пациент успешно удален c обменника",duration:2.5}),t()}))}}}),Object(E.c)({handleSelect:function(e){var t=e.setStateUpComp,n=e.selectedSource;return function(e,a){if(a){var r=Sc(n);r.push(e.id),t({selectedSource:r})}else{var l=Sc(n).filter((function(t){return t!==e.id}));t({selectedSource:l})}}},handleSelectAll:function(e){var t=e.setStateUpComp;return function(e,n){if(e){var a=n.map((function(e){return e.id}));t({selectedSource:a})}else t({selectedSource:[]})}},generateDataTable:function(e){var t=e.set_state,n=e.pacients,a=e.removePacient,r=e.nonSelectedPacients;return function(){var e=n.map((function(e,t){var n=r.find((function(t){return t===e.id}));return{id:e.id,number:t+1,date:l.a.createElement("div",{style:{fontSize:12,textAlign:"center"}},l.a.createElement("div",null,e.workdate),l.a.createElement("div",null,e.btime)),pacient:l.a.createElement("div",null,l.a.createElement("div",{style:{fontSize:14}},e.fullfio),l.a.createElement("div",null,e.dr+" г.р.")),doctor:l.a.createElement("div",null,l.a.createElement("div",{style:{fontSize:14}},e.label),l.a.createElement("div",null,e.work_position),l.a.createElement("div",null,e.s_name)),action:l.a.createElement(kn.a,{disabled:!!n,title:"Вы уверены?",okText:"Да",onCancel:"Нет",onConfirm:function(){return a(e.doctorid,e.workdate,e.id)}},l.a.createElement(b.a,{type:"danger",disabled:!!n},"Удалить"))}}));t({dataTable:e})}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.pacients,n=e.generateDataTable;t.length>0&&n()},componentDidUpdate:function(e){var t=this.props,n=t.pacients,a=t.generateDataTable,r=t.nonSelectedPacients;t.dataTable;e.pacients!==n&&a(),e.nonSelectedPacients!==r&&a()}}))((function(e){var t=e.dataTable,n=e.isLoading,a=e.handleSelect,r=e.handleSelectAll,i=e.selectedSource,c=e.nonSelectedPacients;console.log(44,c);var s={mode:"checkbox",onSelect:a,onSelectAll:r,selected:i,nonSelectable:c,nonSelectableStyle:{backgroundColor:"lightgrey"}};return l.a.createElement("div",{style:{margin:"2em 1em"}},l.a.createElement("h3",{style:{fontWeight:"bolder"}},"Содержимое обменника"),n?l.a.createElement(o.a,{style:{margin:"40px auto"},tip:"Загрузка корзины..."}):t.length>0?l.a.createElement(pl.a,{keyField:"id",selectRow:s,data:t,columns:[{text:"id",dataField:"id",hidden:!0},{text:"#",dataField:"number"},{text:"Дата",dataField:"date"},{text:"Пациент",dataField:"pacient"},{text:"Врач",dataField:"doctor"},{text:"Действия",dataField:"action"}],rowClasses:"table-exchanger"}):l.a.createElement(Er.a,null))}));function xc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ic=Object(E.a)(Object(E.e)((function(e){var t=e.inState,n=void 0===t?{dataTable:[],nonSelected:[]}:t;return{dataTable:n.dataTable,nonSelected:n.nonSelected}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){Mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(E.c)({handleSelect:function(e){var t=e.setStateUpComp,n=e.selectedDest;return function(e,a){if(a){var r=xc(n);r.push(e.id),t({selectedDest:r})}else{var l=xc(n).filter((function(t){return t!==e.id}));t({selectedDest:l})}}},handleSelectAll:function(e){var t=e.setStateUpComp;return function(e,n){if(e){var a=n.map((function(e){return e.id}));t({selectedDest:a})}else t({selectedDest:[]})}},generateDataTable:function(e){var t=e.set_state,n=e.slots,a=e.changeOrder,r=e.typeslotsDest;return function(){var e=[],i=n.map((function(t,n){var i=r.find((function(e){return e.id===t.typeslotsid}));return t.nonselect&&e.push(t.id),t.fullfio||e.push(t.id),{id:t.id,beginTime:t.btime,typeslotsid:i.names,pacient:t.fullfio?t.nonselect?l.a.createElement("div",null,l.a.createElement("div",null," "),l.a.createElement("div",null,t.fullfio+" "+t.dr+" г.р."),l.a.createElement("div",null," ")):l.a.createElement("div",{style:{fontStyle:"italic",fontWeight:"bolder"}},l.a.createElement("span",null,"< "),t.fullfio+" "+t.dr+" г.р.",l.a.createElement("span",null," >")):null,action:l.a.createElement("div",null,l.a.createElement(b.a,{onClick:function(){return a("up",n)},disabled:!!t.nonselect||!t.fullfio,size:"small",icon:"up"}),l.a.createElement(b.a,{onClick:function(){return a("down",n)},disabled:!!t.nonselect||!t.fullfio,size:"small",icon:"down"}))}}));t({dataTable:i,nonSelected:e})}},rowStyle:function(e){var t=e.slots,n=e.typeslotsDest;return function(e){if(0===t.length)return{};var a=t.find((function(t){return t.btime===e.beginTime}));return a?{backgroundColor:n.find((function(e){return e.id===a.typeslotsid})).colors}:{}}}}),Object(E.b)({componentDidMount:function(){var e=this.props,t=e.generateDataTable,n=e.slots;n&&n.length&&t()},componentDidUpdate:function(e){var t=this.props,n=t.slots,a=t.generateDataTable;e.slots!==n&&a()}}))((function(e){var t=e.isLoadingDestination,n=e.slots,a=e.dataTable,r=e.nonSelected,i=e.handleSelect,c=e.handleSelectAll,s=e.selectedDest,u=e.rowStyle,m={mode:"checkbox",nonSelectable:r,onSelect:i,onSelectAll:c,selected:s};return l.a.createElement("div",{style:{margin:"2em 1em"}},l.a.createElement("h3",{style:{fontWeight:"bolder"}},"Расписание врача"),t?l.a.createElement(o.a,null):n&&n.length>0?l.a.createElement("div",null,l.a.createElement(pl.a,{keyField:"id",data:a,columns:[{text:"id",dataField:"id",hidden:!0},{text:"Время",dataField:"beginTime"},{text:"Тип",dataField:"typeslotsid"},{text:"Пациент",dataField:"pacient",style:{minWidth:300}},{text:"Действия",dataField:"action"}],selectRow:m,rowClasses:"table-exchanger tablemixed",rowStyle:u})):l.a.createElement(Er.a,null))})),Ac=vn.a.Option,Lc=kc((function(e){var t=e.mainValue,n=e.handleChange,a=e.handleSearch,r=e.fetching,i=e.handleSelect,c=e.dataDoctors,s=e.doctorId,m=e.valueDatePicker,d=e.set_state,p=e.typeslotsDest,f=e.slots,h=e.pacients,g=e.isLoading,y=e.isLoadingDestination,v=e.selectedSource,E=e.selectedDest,O=e.setToDemo,_=e.returnToBasket,j=e.nonSelectedPacients,w=e.postModifySlots,k=e.changeOrder,S=e.getInsideBasket,C={pacients:h,isLoading:g,selectedSource:v,setStateUpComp:d,nonSelectedPacients:j,getInsideBasket:S},D={isLoadingDestination:y,slots:f,selectedDest:E,setStateUpComp:d,typeslotsDest:p,changeOrder:k};return l.a.createElement("div",{style:{padding:20,height:"100%"}},l.a.createElement(u.Helmet,null,l.a.createElement("title",null,"Обменник")),l.a.createElement("div",{style:{marginBottom:10,fontSize:24,fontWeight:"bolder"}},"Обменник"),l.a.createElement("div",{style:{maxWidth:1e3}},l.a.createElement("div",{style:{marginRight:10}},"Врач:"),l.a.createElement(vn.a,{size:"small",showSearch:!0,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,style:{width:"100%"},placeholder:"Поиск врача",value:t,onChange:function(e){return n(e)},onSearch:function(e){return a(e)},notFoundContent:r?l.a.createElement(o.a,{size:"small"}):null,onSelect:function(e){return i(e)}},c.map((function(e){return l.a.createElement(Ac,{key:e.label,value:e.value},e.label)}))),s?l.a.createElement("div",{style:{marginTop:20,textAlign:"left"}},l.a.createElement("span",{style:{marginRight:10}},"День:"),l.a.createElement(Sa.a,{allowClear:!1,format:"DD.MM.YYYY",onChange:function(e){d({valueDatePicker:e}),i(!1,e)},value:m,size:"small",disabled:!s}),l.a.createElement(b.a,{style:{marginLeft:10,backgroundColor:"lightgreen"},onClick:function(){return w()}},"Сохранить изменения")):null),l.a.createElement("div",{style:{display:"flex",maxWidth:1400,justifyContent:"space-around",alignItems:"flex-start"}},l.a.createElement(Pc,C),l.a.createElement("div",{style:{marginTop:100}},l.a.createElement("div",{style:{marginBottom:10}},l.a.createElement(b.a,{disabled:!(f.length>0&&v.length>0),onClick:function(){return O()},icon:"arrow-right",size:"large"})),l.a.createElement("div",null,l.a.createElement(b.a,{disabled:!(E.length>0),onClick:function(){return _()},icon:"arrow-left",size:"large"}))),l.a.createElement(Ic,D)))}));function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Nc(e,t){return!t||"object"!==zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uc(e,t){return(Uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rc=ea.a.Content,Yc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Nc(this,Vc(t).call(this))).state={},e}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uc(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return document.title="Documentation",l.a.createElement(Rc,{key:"s2",className:"content_app get_one_form"},l.a.createElement("div",{className:"p-grid"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card docs"},l.a.createElement("h1",null,"Current Version"),l.a.createElement("p",null,"Jelata Framework v. 0.0.3"),l.a.createElement("h1",null,"Getting Started"),l.a.createElement("p",null,"Jelata Framework is a tool combining a framework and development environment that you can use in your browser. "),l.a.createElement("p",null,"The Jelata Framework is designed to simplify the development task with ready-made components that already have a bundle with data in the database.  "),l.a.createElement("p",null,"To start using you will need:  "),l.a.createElement("ul",null,l.a.createElement("li",null,"python 3 (recommended to use python versions older than 3.4)"),l.a.createElement("li",null,"PostgreSQL DBMS (PostgreSQL version 9.5 is recommended)")),l.a.createElement("p",null,"For python, you must install the following libraries:"),l.a.createElement("ul",null,l.a.createElement("li",null,"tornado v. 4.5.3"),l.a.createElement("li",null,"momoko")),l.a.createElement("pre",null,"pip install -Iv tornado==4.5.3 \npip install momoko\n"),l.a.createElement("p",null,"Next, you need to create the project database by running the script from the framework.sql file (If you already have a database to which you want to connect, you need to create all the objects from the framework.sql script in your database)."),l.a.createElement("p",null,"Base name can be renamed."),l.a.createElement("p",null,"The last step is to check the settings for connecting to the database server in the settings.json file, if everything is correct, then start the server:"),l.a.createElement("pre",null,"python3 run_server.py\n"),l.a.createElement("p",null,"After starting the server, in the browser, go to http: // localhost: 8080 and in the user menu click on the login item"),l.a.createElement("b",null,"login:")," ",l.a.createElement("p",null,"admin"),l.a.createElement("b",null,"password:"),l.a.createElement("p",null," 123"),l.a.createElement("p",null,"PS Be sure to change the administrator password before release"),l.a.createElement("p",null,l.a.createElement("a",{href:"https://github.com/YaSargis/jelata-framework-main-frontend"},"Main frontend repositorie")),l.a.createElement("h1",null,"Global Settings"),l.a.createElement("p",null,"After successful authorization, you can change the global settings of the project. To do this, go to the menu item Project Settings-> Global Settings."),l.a.createElement("p",null,"You can also change this data in the config.json file"),l.a.createElement("h1",null,"Views"),l.a.createElement("hr",null),l.a.createElement("p",null,"The main components are called view. Their list can be viewed in the menu Project Settings-> Views"),l.a.createElement("hr",null),l.a.createElement("p",null,"To create a view, click create view."),">",l.a.createElement("hr",null),l.a.createElement("p",null,"The first step is to select the main table. All tables must be created in advance and must meet the following requirements:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Do not use symbols = \\ = _ in the table name (*?:%; * & ^% $ # @! And capital letters"),l.a.createElement("li",null,"Each table must have an id - id field"),l.a.createElement("li",null,"All fields in the table must be allowed null or they must have a default value."),l.a.createElement("li",null,"All links must be specified using foreign key"),l.a.createElement("li",null,"Do not forget to describe logic in triggers.")),l.a.createElement("hr",null),l.a.createElement("p",null,"Next you need to fill in the name - it will be the title of the page. It is necessary for you and the team. And the path, along this path, depending on the type, will be available view. The field class name is optional, it serves for the general name of the css class (for example, for the table table)."),l.a.createElement("hr",null),l.a.createElement("p",null,"Specifying the type of view you will determine its further behavior. In the current version, the table and form full types are available. After selecting the type, you can save the View and look at it by clicking on the link for the type table / list / test for the type full / getone / test, where test is what you specified in the path field. Version 0.0.3 adds the tiles component. Access via the /tiles/(path) path (tiles/test)"),l.a.createElement("hr",null),l.a.createElement("p",null,"Following the link http://localhost:3000/list/test (http://localhost:3000/getone/test)"),l.a.createElement("hr",null),l.a.createElement("b",null,"Config description:"),l.a.createElement("ul",null,l.a.createElement("li",null,"column - the field from the table, as it is called in the table - not editable"),l.a.createElement("li",null,"title - the name of the field in the interface, so it will be called on the form."),l.a.createElement("li",null,"type - field type, depending on the type, the field will be displayed differently on the form. For tables, the type is not so important, except for types associated with arrays, files, photographs and colors. For forms, all logic is written based on the type",l.a.createElement("ul",null,l.a.createElement("li",null,"text - text input (form)"),l.a.createElement("li",null,"number is a numeric input (form)"),l.a.createElement("li",null,"date - input date (form)"),l.a.createElement("li",null,"checkbox - checkbox input (form)"),l.a.createElement("li",null,"select - select - it is important to work with realtion config, you must first select the field that goes as a value (saves the value of the entry in the table) i.e. in connection most often this field is id, do not forget about it. The second field - the label - that will show the select (form)"),l.a.createElement("li",null,"typehead - the principle is the same as for select, only the search will be carried out on the second field (form)"),l.a.createElement("li",null,"array - an array, needed for tables in feedback (1 to many) (table)"),l.a.createElement("li",null,"label - non-editable field (form)"),l.a.createElement("li",null,"password - input password, this data will not be displayed. Do not forget to specify this type if the password is in the field (form)"),l.a.createElement("li",null,"autocomplete - autocomplete, helps the user to find the value of this field in this table (form)"),l.a.createElement("li",null,"multiselect - multiple choice, allows you to send an array of json type with identifiers from the selected table (form)"),l.a.createElement("li",null,"multitypehead is the same principle as multiselect (form)"),l.a.createElement("li",null,"color - shows the color specified as the value in the table entry (form, table)"),l.a.createElement("li",null,"colorpicker - the choice of color in the table shows how the color (shape, table)"),l.a.createElement("li",null,"file - adding a file, the table will be displayed as a list of files (form, table)"),l.a.createElement("li",null,"files - adding files, the table will be displayed as a list of files (form, table)"),l.a.createElement("li",null,"image - adding a photo, the table will be displayed as a list of photos (form, table)"),l.a.createElement("li",null,"images - adding photos, the table will be displayed as a list of photos (form, table)"),l.a.createElement("li",null,"gallery - gallery of photos (form, table)"),l.a.createElement("li",null,"filelist - list of files (form, table)"),l.a.createElement("li",null,"datetime - date and time (form)"),l.a.createElement("li",null,"time - time (form)"))),l.a.createElement("li",null,"roles - what roles can see the data of this field"),l.a.createElement("li",null,"visible - field visibility on the view"),l.a.createElement("li",null,'default value - the default value of this value will go to the SELECT query for this field. There are constants that are replaced _userid_ - user ID _orgid_ - user organization ID _orgs_ - user organizations identifiers (array) if enter column type "array" and default value bool "in not in" in list (table or tiles) components you can compare _orgs_ with another array'),l.a.createElement("li",null,"width - the width of the column (for the form)"),l.a.createElement("li",null,"visible condition - field display conditions (for the form)"),l.a.createElement("li",null,"select condition - condition for types select, multiselect if you want the linked table to be output by condition, for example a reference book (for a form)"),l.a.createElement("li",null,"join - should JOIN be made (by default, all links with LEFT JOIN)"),l.a.createElement("li",null,"class name - field class"),l.a.createElement("li",null,"relation - link to FK tables"),l.a.createElement("li",null,"relation config - what fields are needed"),l.a.createElement("li",null,"relation path - the link diagram (where the field is from)")),l.a.createElement("hr",null),l.a.createElement("b",null,"Checklist Settings:"),l.a.createElement("ul",null,l.a.createElement("li",null,"pagination - enable paging (for tables)"),l.a.createElement("li",null,"pagesize - enable selection of number of records per page (for tables)"),l.a.createElement("li",null,"pagecount - number of pages (for tables)"),l.a.createElement("li",null,"foundcount - number of records total (for tables)"),l.a.createElement("li",null,"order by - sorting by field (for tables)"),l.a.createElement("li",null,"subscrible - subscribe to changes. Changes are added to the SQL logic in the framework.viewsnotification table. Open ws connection.")),l.a.createElement("b",null,"Add a function to a select query dataset"),l.a.createElement("hr",null),l.a.createElement("b",null,"Adding filters to tables"),l.a.createElement("p",null,"Filter Types:"),l.a.createElement("ul",null,l.a.createElement("li",null,"select - works only for fields that have a relation - a link to another table. In the relation config, you must specify the field that will be displayed in the html component. from this table, do not leave them in relation config"),l.a.createElement("li",null,"substr - search by text (like '%blabla%')"),l.a.createElement("li",null,"period "),l.a.createElement("li",null,"multiselect - the principle as in select, only the ability to select multiple values"),l.a.createElement("li",null,"check - for boolean fields"),l.a.createElement("li",null,"multijson - principle like multiselect only for JSON fields (arrays - [1,2,3]) ")),l.a.createElement("hr",null),l.a.createElement("b",null,"Adding actions (buttons):"),l.a.createElement("ul",null,l.a.createElement("li",null,"title - action name (buttons)"),l.a.createElement("li",null,"icon - button icon"),l.a.createElement("li",null,"class - css class"),l.a.createElement("li",null,"act - the action itself (url for example /getone/test) "),l.a.createElement("li",null,"act type - type of action ",l.a.createElement("ul",null,l.a.createElement("li",null,"API - method API call"),l.a.createElement("li",null,"Link - follow link"),l.a.createElement("li",null,"Print Data - print data, if a table, then print all data without paging"),l.a.createElement("li",null,"Delete - delete record"))),l.a.createElement("li",null,"roles - which roles are available for recording"),l.a.createElement("li",null,"for every row - for each entry in the table, if false, for the entire component"),l.a.createElement("li",null,"add parametrs - parameters Parameters can be constants as well as values ​​from a view data set. Do not forget that the view accepts parameters not as the column is called, but its title. In order to transfer to the form (form full) any parameters that, when creating the record, will also be written into the table, it is necessary to specify them through a comma in the relation paramete - for example (?relation=personid,personage&personage=19&personid=15)")),l.a.createElement("hr",null),l.a.createElement("b",null,"When you click on the Show sql button, you will see the SQL query:"),l.a.createElement("h1",null,"Compositions"),l.a.createElement("p",null,"In order to connect several components there is the possibility of creating compositions. "),l.a.createElement("p",null,"To create a composition of components, open the menu item Project Settings-> Compositions"),l.a.createElement("hr",null),l.a.createElement("p",null,"Click the + button"),l.a.createElement("hr",null),l.a.createElement("p",null,"Enter the path and name and select the components. It is possible to add rows and columns, this will depend on the location of components on the page."),l.a.createElement("p",null,"The composition will be available at /composition/(path) (for example /composition/mycomposition)"),l.a.createElement("p",null,"All parameters of the composition are transmitted to the selected components, be careful, especially on the same named fields."),l.a.createElement("h1",null,"Trees"),l.a.createElement("p",null,"It is possible to collect several components in one tree and not to switch between them by reference."),l.a.createElement("p",null,"To do this, use the Trees component. Go to the menu item Project Settings-> Trees"),l.a.createElement("p",null,"After adding a tree, you need to work with branches to do this, click on the button",l.a.createElement("img",{alt:"",width:"130",height:"52",src:"../pic/docs/doc20.png"})),l.a.createElement("p",null,"Further, if you need a component to appear when you click on the specified item, fill in the treeviewtype and depending on this, the components will be available to you Version 0.0.2 adds the ability to add actions for the Tree component"),l.a.createElement("p",null,"All parameters of the Tree are transferred to the selected components, be careful, do not forget about the merging parameters in the query string"),l.a.createElement("h1",null,"Menu Settings"),l.a.createElement("p",null,"To add menu item edits, go to Punut Project Settings-> Menu Settings"),l.a.createElement("h1",null,"SP API"),l.a.createElement("p",null,"It is possible to add an API method that will directly call the specified function."),l.a.createElement("p",null,"Parameters will be passed as an input parameter, such as JSON, to a user-defined SQL function and return everything that the function returns. The userid parameter is the current user, always present in the incoming JSON parameter."),l.a.createElement("p",null,"The method will be accessible via the /api/@alias path, where @alias is what you call the method"),l.a.createElement("p",null,"Project Settings-> SP API menu item"),l.a.createElement("h1",null,"If you still have questions"),l.a.createElement("a",{href:"/assets/FAQ_eng.pdf"},"One more instruction")))))}}])&&Fc(n.prototype,a),r&&Fc(n,r),t}(r.Component);function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qc(e,t){return!t||"object"!==Hc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wc(e){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gc=ea.a.Content,Kc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=qc(this,Wc(t).call(this))).state={},e}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return document.title="Documentation",l.a.createElement(Gc,{key:"s2",className:"content_app get_one_form"},l.a.createElement("div",{className:"p-grid"},l.a.createElement("div",{className:"p-col-12"},l.a.createElement("div",{className:"card docs"},l.a.createElement("h1",null,"Current Version"),l.a.createElement("p",null,"Jelata Framework v. 0.0.3"),l.a.createElement("h1",null,"Getting Started"),l.a.createElement("p",null,"Jelata Framework это инструмент совмещающий в себе framework и среду для разработки, которой вы можете пользоваться в вашем браузере. "),l.a.createElement("p",null,"Jelata Framework предназначен для упрощения задачи разработки готовыми компонетами, у которых уже реализована связка с данными в БД.  "),l.a.createElement("p",null,"Для начала использования вам понадобятся:  "),l.a.createElement("ul",null,l.a.createElement("li",null,"python 3 (рекомендуется использовать python версии старше 3.4)"),l.a.createElement("li",null,"СУБД PostgreSQL (рекомендуется использовать PostgreSQL версии 9.5)")),l.a.createElement("p",null,"Для python необходимо установить следующие библиотеки:"),l.a.createElement("ul",null,l.a.createElement("li",null,"tornado v. 4.5.3"),l.a.createElement("li",null,"momoko")),l.a.createElement("pre",null,"pip install -Iv tornado==4.5.3 \npip install momoko\n"),l.a.createElement("p",null,"Далее вам необходимо создать базу проекта запустив скрипт из файла framework.sql (Если у вас уже есть база к которой вы хотите подключиться, вам необходимо создать все объекты из скрипта framework.sql в вашей базе)."),l.a.createElement("p",null,"Название базы можно переименовывать."),l.a.createElement("p",null,"Последний шаг - это проверить настройки подключения к серверу БД в файле settings.json, если всё верно, тогда запускаем сервер:"),l.a.createElement("pre",null,"python3 run_server.py\n"),l.a.createElement("p",null,"После запуска сервера, в браузере переходим по ссылке http://localhost:8080 и в меню пользователя нажимаем на пункт login"),l.a.createElement("b",null,"login:")," ",l.a.createElement("p",null,"admin"),l.a.createElement("b",null,"password:"),l.a.createElement("p",null," 123"),l.a.createElement("p",null,"P.S. Обязательно смените пароль администратора перед релизом"),l.a.createElement("h1",null,"Global Settings"),l.a.createElement("p",null,"После удачной авторизации, вы можете сменить глобальные настройки проекта. Для этого перейдите в пункт меню Project Settings-> Global Settings."),l.a.createElement("p",null,"Так же вы можете менять эти данные в файле config.json"),l.a.createElement("h1",null,"Views"),l.a.createElement("hr",null),l.a.createElement("p",null,"Основные компонеты называются view. Их список можно посмотреть в разделе меню Project Settings->Views"),l.a.createElement("hr",null),l.a.createElement("p",null,'Для того, чтобы создать view нажмите "create view"'),l.a.createElement("hr",null),l.a.createElement("p",null,"Первым делом необходимо выбрать главную таблицу. Все таблицы должны быть заранее созданы и должны соответсвовать следующим требованиям:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Не используйте в названии таблицы символы=\\=_)(*?:%;*&^%$#@! и заглавные буквы"),l.a.createElement("li",null,"У каждой таблицы долже быть идентификатор - поле id"),l.a.createElement("li",null,"Во всех полях таблицы должен быть разрешён null либо они должны иметь значение по умолчанию"),l.a.createElement("li",null,"Все связи должны быть указаны с помощью foreign key"),l.a.createElement("li",null,"Не забывайте описывать логику в триггерах")),l.a.createElement("hr",null),l.a.createElement("p",null,"Далее необходимо заполнить название - оно будет заголовком страницы. Оно нужно для вас и команды. И путь, по этому пути в зависимости от типа, будет доступна view. Поле class name заполнять необязательно, оно служит для общего названия css класса (например для таблицы table)."),l.a.createElement("hr",null),l.a.createElement("p",null,"Указав тип view вы определите дальнейшее его поведение. В настоящей версии доступны типы table и form full. После выбора типа можно сохранить View и посмотреть на неё перейдя по ссылке, для типа table /list/test для типа form full /getone/test, где test это то, что вы указали в поле path. В версии 0.0.3 добавлен компонент tiles. Доступ по пути /tiles/(path) (tiles/test) "),l.a.createElement("hr",null),l.a.createElement("p",null,"Перейдя по ссылке http://localhost:3000/list/test (http://localhost:3000/getone/test) "),l.a.createElement("hr",null),l.a.createElement("b",null,"Описание конфига:"),l.a.createElement("ul",null,l.a.createElement("li",null,"column - поле из таблицы, как оно называется в таблице - не редактируемое"),l.a.createElement("li",null,"title - название поля в интерфейсе, так он будет называться на форме."),l.a.createElement("li",null,"type - тип поля, в зависимости от типа, на форме поле будет отображаться по разному Для таблиц не так важен тип, кроме типов связанных с массивами, файлами, фотографиями и цветами Для форм вся логика написана отталкиваясь от типа",l.a.createElement("ul",null,l.a.createElement("li",null,"text - текстовый input (форма)"),l.a.createElement("li",null,"number - числовой input (форма)"),l.a.createElement("li",null,"date - input date (форма)"),l.a.createElement("li",null,"checkbox - checkbox input (форма)"),l.a.createElement("li",null,"select - select - тут важна работа с realtion config, необходимо выбрать первым поле то, которое уходит в качестве значения (сохраняет значение записи в таблицу) т.е. в связи чаще всего это поле id, не забывайте об этом. Второе поле - label - то, что будет показывать select (форма)"),l.a.createElement("li",null,"typehead - принцип такой же как у select, только поиск будет осуществляться по второму полю (форма)"),l.a.createElement("li",null,"array - массив, нужен для таблиц в обратной связи (1 ко многим ) (таблица)"),l.a.createElement("li",null,"label - нередактируемое поле (форма)"),l.a.createElement("li",null,"password - input пароль, эти данные не будут отображаться. Не забывайте указывать этот тип, если в поле пароль!(форма)"),l.a.createElement("li",null,"autocomplete - автозаполнение, помогает пользователю при вводе найти значение о этому полю в этой таблице (форма)"),l.a.createElement("li",null,"multiselect - множественный выбор, даёт возможность отправить массив json типа с идентификаторами из выбранной таблицы (форма)"),l.a.createElement("li",null,"multitypehead - тот же принцип, что у multiselect (форма)"),l.a.createElement("li",null,"color - показывает цвет указанный как значение в записи таблицы(форма, таблица)"),l.a.createElement("li",null,"colorpicker - выбор цвета, в таблице показывает как цвет (форма, таблица)"),l.a.createElement("li",null,"file - добавление файла, в таблице будет отображаться как список файлов (форма, таблица)"),l.a.createElement("li",null,"files - добавление файлов, в таблице будет отображаться как список файлов (форма, таблица)"),l.a.createElement("li",null,"image - добавление фотографии, в таблице будет отображаться как список фотографий (форма, таблица)"),l.a.createElement("li",null,"images - добавление фотографий, в таблице будет отображаться как список фотографий (форма, таблица)"),l.a.createElement("li",null,"gallery - галлерея фотографий (форма, таблица)"),l.a.createElement("li",null,"filelist - список файлов (форма, таблица)"),l.a.createElement("li",null,"datetime - дата и время (форма)"),l.a.createElement("li",null,"time - время (форма)"))),l.a.createElement("li",null,"roles - какие роли могут видеть данные этого поля"),l.a.createElement("li",null," visible - видимость поля на view"),l.a.createElement("li",null,"default value - значение по умолчанию это значение будет уходить в запрос SELECT для данного поля Имеются константы, которые подменяются _userid_ - идентификатор пользователя _orgid_ - идентификатор организации пользователя _orgs_ - идентификаторы организаций пользователя (массив) сли ввести тип столбца «array» и выбрать сравнения типа «in, not in» в компонентах списка (table, tiles), то вы сможете сравнить _orgs_ с другим массивом"),l.a.createElement("li",null,"width - ширина столбца (для формы)"),l.a.createElement("li",null,"visible condition - условия отображения поля (для формы)"),l.a.createElement("li",null,"select condition - условие для типов select, multiselect если нужно, чтобы связанная таблица выводилась по условию, к примеру справочник (для формы)"),l.a.createElement("li",null,"join - нужно ли делать JOIN (по умолчанию все вязи с LEFT JOIN)"),l.a.createElement("li",null,"class name - класс поля"),l.a.createElement("li",null,"relation - связь с таблицами по FK"),l.a.createElement("li",null,"relation config - какие поля нужны"),l.a.createElement("li",null,"relation path - схема связей (откуда поле)")),l.a.createElement("hr",null),l.a.createElement("b",null,"Настройки чеклистов:"),l.a.createElement("ul",null,l.a.createElement("li",null,"pagination - включить пейджинацию(для таблиц)"),l.a.createElement("li",null,"pagesize - включить выбор кол-ва записей на странице (для таблиц) "),l.a.createElement("li",null,"pagecount - кол-во страниц (для таблиц)"),l.a.createElement("li",null,"foundcount - кол-во записей всего (для таблиц)"),l.a.createElement("li",null,"order by - сортировка по полю (для таблиц)"),l.a.createElement("li",null,"subscrible - подписаться на изменения. Изменения добавляются в логике SQL в таблицу framework.viewsnotification. Открывает ws соединение.")),l.a.createElement("b",null,"Добавление функции в набор данных запроса select"),l.a.createElement("hr",null),l.a.createElement("b",null,"Добавление фильтров для таблиц"),l.a.createElement("p",null,"Типы фильтров:"),l.a.createElement("ul",null,l.a.createElement("li",null,"select - работает только для полей у которых есть relation - связь с другой таблицей В relation config необходимо указать поле, которое будет отображаться в html компоненте select id - указывать не нужно он идёт как value по умолчанию Даже если вам нужно вывести в набор данных другие поля из этой таблицы, не оставляйте их в relation config"),l.a.createElement("li",null,"substr - поиск по тексту (like '%тратата%')"),l.a.createElement("li",null,"period - период"),l.a.createElement("li",null,"multiselect - принцип как у select только возможность выбора нескольких значений"),l.a.createElement("li",null,"check -  для boolean полей"),l.a.createElement("li",null,"typehead - поиск, можно искать по нескольким полям"),l.a.createElement("li",null,"multijson - принцип как у multiselect только для полей JSON (массивов - [1,2,3])")),l.a.createElement("hr",null),l.a.createElement("b",null,"Добавление действий(кнопок):"),l.a.createElement("ul",null,l.a.createElement("li",null,"title - название действия (кнопки)"),l.a.createElement("li",null,"icon - значок кнопки"),l.a.createElement("li",null,"class - css класс"),l.a.createElement("li",null,"act - само действие (url например /getone/test)"),l.a.createElement("li",null,"act type - тип действия ",l.a.createElement("ul",null,l.a.createElement("li",null,"API - вызов API метода"),l.a.createElement("li",null,"Link - переход по ссылке"),l.a.createElement("li",null,"Print Data - вывод на печать данных, если таблица, то выводит все данные без пейджинации"),l.a.createElement("li",null,"Delete - удаление записи"))),l.a.createElement("li",null,"roles - роли которым доступна запись"),l.a.createElement("li",null,"for every row - для каждой записи в таблице, если false, то для всего компонента"),l.a.createElement("li",null,"add parametrs - параметры Параметры могут быть константами, так и значениями из набора данных представления. Не забывайе, что view принимает параметы не так как называется column , а его title. Для того, чтобы передать в форму (form full) какие либо параметры, которые при создании записи так же запишутся в таблицу, необходимо указать их через запятую в параметре relation - например (?relation=personid,personage&personage=19&personid=15)")),l.a.createElement("hr",null),l.a.createElement("b",null,"При нажатии на кнопку Show sql - вы увидите SQL запрос:"),l.a.createElement("h1",null,"Compositions"),l.a.createElement("p",null,"Для того, чтобы соединить несколько компонентов существует возможность создания композиций. "),l.a.createElement("p",null,"Для того, чтобы создать композицию компонентов откройте пункт меню Project Settings->Compositions"),l.a.createElement("hr",null),l.a.createElement("p",null,"Нажмите кнопку +"),l.a.createElement("hr",null),l.a.createElement("p",null,"Внесите путь и название и выберите компоненты. Есть возможность добавления строк и столбцов, от этого будет зависить расположение компонентов на странице."),l.a.createElement("p",null,"Композиция будет доступена по адресу /composition/(path) (например /composition/mycomposition)"),l.a.createElement("p",null,"Все параметры композиции передаются в выбранные компоненты, будьте внимательны, особенно на одинаково названных полях"),l.a.createElement("h1",null,"Trees"),l.a.createElement("p",null,"Есть возможность собрать несколько компонентов в одно дерево и не переключаться между ними по ссылкам"),l.a.createElement("p",null,"Для этого используйте компонент Trees. Перейдите в пункт меню Project Settings->Trees"),l.a.createElement("p",null,"После добавления tree вам необходима работа с branches для этого нажмите на кнопку",l.a.createElement("img",{alt:"",width:"130",height:"52",src:"../pic/docs/doc20.png"})),l.a.createElement("p",null,"Далее если вам необходимо, чтобы при нажатии на указанный пункт отобразился компонент, заполните treeviewtype и в зависимоти от этого вам будут доступны компоненты В версии 0.0.2 добавлена возможность добавления действий (acts) для компонента Tree"),l.a.createElement("p",null,"Все параметры Tree передаются в выбранные компоненты, будьте внимательны, не забывайте про объединяющие параметры в строке запросе"),l.a.createElement("h1",null,"Menu Settings"),l.a.createElement("p",null,"Для добавлений  редактирований пунктов меню, пройдите в пунут меню Project Settings->Menu Settings"),l.a.createElement("h1",null,"SP API"),l.a.createElement("p",null,"Существует возможность добавить API метод, который будет напрямую вызывать указанную функцию."),l.a.createElement("p",null,"Параметры будут передаваться в виде входящего параметра, типа JSON, в пользовательскую SQL функцию и возвращать всё, что вернёт функция. Параметр userid - текущий пользователь, всегда присутствует в входящем JSON параметре"),l.a.createElement("p",null,"Метод будет доступен по пути /api/@alias, где @alias - это то, как вы назовёте метод"),l.a.createElement("p",null,"Пункт меню Project Settings->SP API"),l.a.createElement("h1",null,"Если у вас остались вопросы"),l.a.createElement("a",{href:"/assets/FAQ_rus.pdf"},"Ещё одна инструкция")))))}}])&&Bc(n.prototype,a),r&&Bc(n,r),t}(r.Component),Qc=ea.a.Header,Xc=ea.a.Sider,$c=ea.a.Content,Zc=ea.a.Footer,es=oa((function(e){var t=e.isLogin,n=e.user_detail,a=e.loading,r=e.collapsed,o=e.location,c=e.custom_menu,u=e.menu_creator,d=e.set_state;return t?l.a.createElement(ea.a,{className:"lay",style:{minHeight:"100vh"}},l.a.createElement(m.a,null,l.a.createElement("meta",{charset:"utf-8"})),l.a.createElement(ta.a,{footer:null,visible:a,closable:!1},l.a.createElement("h3",{style:{textAlign:"center"}},"Loading..."),l.a.createElement("div",{style:{textAlign:"center",borderRadius:"4px",marginBottom:"20px",padding:"30px 50px",margin:"20px 0"}},l.a.createElement(h.a,{type:"loading",style:{fontSize:32},spin:!0}))),c&&c.filter((function(e){return"Left Menu"===e.menutype})).length>0&&c.filter((function(e){return"Left Menu"===e.menutype}))[0].menu&&c.filter((function(e){return"Left Menu"===e.menutype}))[0].menu.length>0?l.a.createElement(Xc,{collapsible:!0,collapsed:r,onCollapse:function(e){return d({collapsed:e})}},!0===S.profile?l.a.createElement(_n.a,{className:"profile"},l.a.createElement(na.a,{size:72,shape:"cyrcle",src:n.photo||null,icon:"user"}),l.a.createElement(_n.a,null,l.a.createElement("span",{style:{color:"white"}},r?null:(n.fam||"")+" "+(n.im||""))),S.userorg?l.a.createElement(_n.a,null,l.a.createElement(Sn.Link,{to:S.userorg},r?l.a.createElement(h.a,{title:"org",type:"setting"}):n.orgname||"")):null):null,l.a.createElement(Ea,{location:o}),c&&s.a.find(c,(function(e){return"Left Menu"===e.menutype}))?l.a.createElement(En.a,{theme:"dark",mode:"vertical",inlineCollapsed:r,subMenuOpenDelay:.4},u(u,s.a.find(c,(function(e){return 1===e.id})).menu,!1)):null):null,l.a.createElement(ea.a,null,l.a.createElement(Qc,{style:{padding:"0"}},c&&s.a.find(c,(function(e){return"Header Menu"===e.menutype}))?l.a.createElement(En.a,{mode:"horizontal"},u(u,s.a.find(c,(function(e){return 2===e.id})).menu,!1)):null),l.a.createElement($c,null,l.a.createElement(i.g,null,l.a.createElement(i.d,{path:"/",component:va,exact:!0}),l.a.createElement(i.d,{path:"/home",component:va,exact:!0}),l.a.createElement(i.d,{path:"/login",component:Zn,exact:!0}),l.a.createElement(i.d,{path:"/userorgs",component:$l,exact:!0}),l.a.createElement(i.d,{path:"/getone/:id_page",component:$r,exact:!0}),l.a.createElement(i.d,{path:"/list/:id",component:Ol,exact:!0}),l.a.createElement(i.d,{path:"/tiles/:id",component:Ol,exact:!0}),l.a.createElement(i.d,{path:"/compo/:id",component:Dl,exact:!0}),l.a.createElement(i.d,{path:"/composition/:id",component:Il,exact:!0}),l.a.createElement(i.d,{path:"/trees/:id",component:Vl,exact:!0}),l.a.createElement(i.d,{path:"/jdocumentation",component:Yc}),l.a.createElement(i.d,{path:"/jdocumentation_rus",component:Kc}),l.a.createElement(i.d,{path:"/report/:id",component:Wl}),l.a.createElement(i.d,{path:"/logout",component:Zr,exact:!0}),l.a.createElement(i.d,{path:"/chat",component:so,exact:!0}),l.a.createElement(i.d,{path:"/timetable",component:Xo,exact:!0}),l.a.createElement(i.d,{path:"/module_registration",component:vc,exact:!0}),l.a.createElement(i.d,{path:"/exchanger",component:Lc,exact:!0}),l.a.createElement(i.d,{component:Gl})),!0===S.chat?l.a.createElement(Sn.Link,{to:"/chat"},l.a.createElement(h.a,{className:"dashboard__icon-chat",title:"Chat",type:"message",style:{fontSize:40,color:"#1890ff",position:"fixed",bottom:20,right:30}})):null),l.a.createElement(Zc,{style:{padding:"10px"}},c&&s.a.find(c,(function(e){return"Footer Menu"===e.menutype}))?l.a.createElement(En.a,null,u(u,s.a.find(c,(function(e){return 3===e.id})).menu,!1)):null,l.a.createElement("span",{className:"version"},"Version: [AIV]{version}_{date}[/AIV]"))),l.a.createElement(aa.a,null,l.a.createElement("div",{className:"ant-back-top-inner"},l.a.createElement(b.a,{type:"primary"},l.a.createElement(h.a,{type:"up-circle"}))))):null})),ts=Object(E.a)(Object(v.b)((function(e){return{isLogin:e.user.isLogin,isLoading:e.loader.isLoading,state:e,custom_menu:e.user.custom_menu,chatId:e.user.custom_menu}}),(function(e){return{getMenu:function(t){return e(Object(O.k)(t))},set_loading:function(t){return e(Object(j.b)(t))},set_login_status:function(t){return e(Object(O.p)(t))},get_chat_id:function(){return e(Object(O.i)())}}})),Object(E.c)({getData:function(e){var t=e.getMenu,n=(e.set_settings,e.isLogin),a=e.set_login_status;return function(){var e=document.getElementById("spin_app_root");A("api/menus").then((function(n){t(n),localStorage.setItem("usersettings",JSON.stringify(n.data.outjson.userdetail.usersettings)),localStorage.setItem("homepage",JSON.stringify(n.data.outjson.homepage)),e.setAttribute("style","display: none;")})).catch((function(t){t.status&&401===t.status?(n&&a(!1),e.setAttribute("style","display: none;")):(alert("err menus"),console.log("err menus:",t))}))}}}),Object(E.b)({componentDidMount:function(){(0,this.props.get_chat_id)()},componentWillMount:function(){var e=this.props,t=e.getData,n=e.isLogin;e.getMenu;n&&t()},componentDidUpdate:function(e){var t=this.props,n=t.getData,a=(t.custom_menu,t.isLogin);t.state;e.isLogin||a&&n()}}));n.a=ts((function(e){var t=e.isLogin,n=e.location;return s.a.isBoolean(t)?t?l.a.createElement(i.g,null,l.a.createElement(i.d,{component:es,location:n}),l.a.createElement(i.c,{to:"/dashboard"})):l.a.createElement(i.g,null,l.a.createElement(i.d,{path:"/login",component:Zn,exact:!0}),l.a.createElement(i.c,{to:"/login"})):l.a.createElement(o.a,null)}))},647:function(e,t,n){"use strict";var a=n(159),r=n(625),l=n(253),i=n(74),o=n(21);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={custom_menu:[],usermenu:[],user_detail:{},isLogin:!0,collapsed:!1,open_keys:[],favorits_menu:[]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.c:return s({},e,{user_detail:t.user_detail,custom_menu:t.custom_menu,usermenu:t.usermenu,isLogin:t.status});case o.b:return s({},e,{favorits_menu:t.payload});case o.g:return s({},e,{isLogin:t.status});case o.h:return s({},e,{open_keys:t.keys});case o.f:return s({},e,{collapsed:t.status});case o.a:return s({},e,{chatId:t.payload});case o.d:return s({},e,{is_first_id:t.status});case o.e:return s({},e,{is_unreaded_exist:t.status});default:return e}},p=n(91);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={isLoading:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return h({},e,{isLoading:t.status});default:return e}},v=n(135);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={loading:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a:return O({},e,{loading:t.payload});default:return e}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={getone:{}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GETONE":return S({},e,{getone:t.getone});default:return e}},x=n(254);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={viewtypes:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.a:return M({},e,{},t.data);default:return e}},z=n(255);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U={isLoading:!1,data_form:{},data_comp:{}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.a:return N({},e,{isLoading:t.isLoading,data_form:t.data_form,data_comp:t.data_comp});default:return e}},Y=Object(a.c)({router:l.routerReducer,helpers:w,user:d,loader:b,page:P,settings:L,composition:R}),H=function(e,t){return Y(e,t)};n.d(t,"a",(function(){return q}));var B=Object(i.a)();var q=Object(a.d)(H,Object(a.a)(r.a,Object(l.routerMiddleware)(B)))},651:function(e,t,n){n(652),e.exports=n(828)},828:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),r=n(13),l=n.n(r),i=n(28),o=n(95),c=n(90),s=n(647),u=n(644),m=(n(1232),n(312),n(20)),d=n(643),p=n.n(d);n(333);l.a.render(a.a.createElement(i.a,{store:s.a},a.a.createElement(m.b,{locale:p.a},a.a.createElement(c.BrowserRouter,null,a.a.createElement(o.d,{component:u.a})))),document.getElementById("container")),e&&e.hot&&e.hot.accept()}.call(this,n(400)(e))},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="SET_LOADED",r=function(e){return function(t){t({type:a,status:e||!1})}}},980:function(e,t,n){var a={"./af":435,"./af.js":435,"./ar":436,"./ar-dz":437,"./ar-dz.js":437,"./ar-kw":438,"./ar-kw.js":438,"./ar-ly":439,"./ar-ly.js":439,"./ar-ma":440,"./ar-ma.js":440,"./ar-sa":441,"./ar-sa.js":441,"./ar-tn":442,"./ar-tn.js":442,"./ar.js":436,"./az":443,"./az.js":443,"./be":444,"./be.js":444,"./bg":445,"./bg.js":445,"./bm":446,"./bm.js":446,"./bn":447,"./bn.js":447,"./bo":448,"./bo.js":448,"./br":449,"./br.js":449,"./bs":450,"./bs.js":450,"./ca":451,"./ca.js":451,"./cs":452,"./cs.js":452,"./cv":453,"./cv.js":453,"./cy":454,"./cy.js":454,"./da":455,"./da.js":455,"./de":456,"./de-at":457,"./de-at.js":457,"./de-ch":458,"./de-ch.js":458,"./de.js":456,"./dv":459,"./dv.js":459,"./el":460,"./el.js":460,"./en-SG":461,"./en-SG.js":461,"./en-au":462,"./en-au.js":462,"./en-ca":463,"./en-ca.js":463,"./en-gb":464,"./en-gb.js":464,"./en-ie":465,"./en-ie.js":465,"./en-il":466,"./en-il.js":466,"./en-nz":467,"./en-nz.js":467,"./eo":468,"./eo.js":468,"./es":469,"./es-do":470,"./es-do.js":470,"./es-us":471,"./es-us.js":471,"./es.js":469,"./et":472,"./et.js":472,"./eu":473,"./eu.js":473,"./fa":474,"./fa.js":474,"./fi":475,"./fi.js":475,"./fo":476,"./fo.js":476,"./fr":477,"./fr-ca":478,"./fr-ca.js":478,"./fr-ch":479,"./fr-ch.js":479,"./fr.js":477,"./fy":480,"./fy.js":480,"./ga":481,"./ga.js":481,"./gd":482,"./gd.js":482,"./gl":483,"./gl.js":483,"./gom-latn":484,"./gom-latn.js":484,"./gu":485,"./gu.js":485,"./he":486,"./he.js":486,"./hi":487,"./hi.js":487,"./hr":488,"./hr.js":488,"./hu":489,"./hu.js":489,"./hy-am":490,"./hy-am.js":490,"./id":491,"./id.js":491,"./is":492,"./is.js":492,"./it":493,"./it-ch":494,"./it-ch.js":494,"./it.js":493,"./ja":495,"./ja.js":495,"./jv":496,"./jv.js":496,"./ka":497,"./ka.js":497,"./kk":498,"./kk.js":498,"./km":499,"./km.js":499,"./kn":500,"./kn.js":500,"./ko":501,"./ko.js":501,"./ku":502,"./ku.js":502,"./ky":503,"./ky.js":503,"./lb":504,"./lb.js":504,"./lo":505,"./lo.js":505,"./lt":506,"./lt.js":506,"./lv":507,"./lv.js":507,"./me":508,"./me.js":508,"./mi":509,"./mi.js":509,"./mk":510,"./mk.js":510,"./ml":511,"./ml.js":511,"./mn":512,"./mn.js":512,"./mr":513,"./mr.js":513,"./ms":514,"./ms-my":515,"./ms-my.js":515,"./ms.js":514,"./mt":516,"./mt.js":516,"./my":517,"./my.js":517,"./nb":518,"./nb.js":518,"./ne":519,"./ne.js":519,"./nl":520,"./nl-be":521,"./nl-be.js":521,"./nl.js":520,"./nn":522,"./nn.js":522,"./pa-in":523,"./pa-in.js":523,"./pl":524,"./pl.js":524,"./pt":525,"./pt-br":526,"./pt-br.js":526,"./pt.js":525,"./ro":527,"./ro.js":527,"./ru":333,"./ru.js":333,"./sd":528,"./sd.js":528,"./se":529,"./se.js":529,"./si":530,"./si.js":530,"./sk":531,"./sk.js":531,"./sl":532,"./sl.js":532,"./sq":533,"./sq.js":533,"./sr":534,"./sr-cyrl":535,"./sr-cyrl.js":535,"./sr.js":534,"./ss":536,"./ss.js":536,"./sv":537,"./sv.js":537,"./sw":538,"./sw.js":538,"./ta":539,"./ta.js":539,"./te":540,"./te.js":540,"./tet":541,"./tet.js":541,"./tg":542,"./tg.js":542,"./th":543,"./th.js":543,"./tl-ph":544,"./tl-ph.js":544,"./tlh":545,"./tlh.js":545,"./tr":546,"./tr.js":546,"./tzl":547,"./tzl.js":547,"./tzm":548,"./tzm-latn":549,"./tzm-latn.js":549,"./tzm.js":548,"./ug-cn":550,"./ug-cn.js":550,"./uk":551,"./uk.js":551,"./ur":552,"./ur.js":552,"./uz":553,"./uz-latn":554,"./uz-latn.js":554,"./uz.js":553,"./vi":555,"./vi.js":555,"./x-pseudo":556,"./x-pseudo.js":556,"./yo":557,"./yo.js":557,"./zh-cn":558,"./zh-cn.js":558,"./zh-hk":559,"./zh-hk.js":559,"./zh-tw":560,"./zh-tw.js":560};function r(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=l,e.exports=r,r.id=980}});