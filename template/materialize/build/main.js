!function(e){function t(t){for(var a,i,l=t[0],c=t[1],u=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/template/materialize/build";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;o.push([589,1]),n()}({1055:function(e,t,n){var a={"./af":404,"./af.js":404,"./ar":405,"./ar-dz":406,"./ar-dz.js":406,"./ar-kw":407,"./ar-kw.js":407,"./ar-ly":408,"./ar-ly.js":408,"./ar-ma":409,"./ar-ma.js":409,"./ar-sa":410,"./ar-sa.js":410,"./ar-tn":411,"./ar-tn.js":411,"./ar.js":405,"./az":412,"./az.js":412,"./be":413,"./be.js":413,"./bg":414,"./bg.js":414,"./bm":415,"./bm.js":415,"./bn":416,"./bn.js":416,"./bo":417,"./bo.js":417,"./br":418,"./br.js":418,"./bs":419,"./bs.js":419,"./ca":420,"./ca.js":420,"./cs":421,"./cs.js":421,"./cv":422,"./cv.js":422,"./cy":423,"./cy.js":423,"./da":424,"./da.js":424,"./de":425,"./de-at":426,"./de-at.js":426,"./de-ch":427,"./de-ch.js":427,"./de.js":425,"./dv":428,"./dv.js":428,"./el":429,"./el.js":429,"./en-au":430,"./en-au.js":430,"./en-ca":431,"./en-ca.js":431,"./en-gb":432,"./en-gb.js":432,"./en-ie":433,"./en-ie.js":433,"./en-il":434,"./en-il.js":434,"./en-in":435,"./en-in.js":435,"./en-nz":436,"./en-nz.js":436,"./en-sg":437,"./en-sg.js":437,"./eo":438,"./eo.js":438,"./es":439,"./es-do":440,"./es-do.js":440,"./es-us":441,"./es-us.js":441,"./es.js":439,"./et":442,"./et.js":442,"./eu":443,"./eu.js":443,"./fa":444,"./fa.js":444,"./fi":445,"./fi.js":445,"./fil":446,"./fil.js":446,"./fo":447,"./fo.js":447,"./fr":448,"./fr-ca":449,"./fr-ca.js":449,"./fr-ch":450,"./fr-ch.js":450,"./fr.js":448,"./fy":451,"./fy.js":451,"./ga":452,"./ga.js":452,"./gd":453,"./gd.js":453,"./gl":454,"./gl.js":454,"./gom-deva":455,"./gom-deva.js":455,"./gom-latn":456,"./gom-latn.js":456,"./gu":457,"./gu.js":457,"./he":458,"./he.js":458,"./hi":459,"./hi.js":459,"./hr":460,"./hr.js":460,"./hu":461,"./hu.js":461,"./hy-am":462,"./hy-am.js":462,"./id":463,"./id.js":463,"./is":464,"./is.js":464,"./it":465,"./it-ch":466,"./it-ch.js":466,"./it.js":465,"./ja":467,"./ja.js":467,"./jv":468,"./jv.js":468,"./ka":469,"./ka.js":469,"./kk":470,"./kk.js":470,"./km":471,"./km.js":471,"./kn":472,"./kn.js":472,"./ko":473,"./ko.js":473,"./ku":474,"./ku.js":474,"./ky":475,"./ky.js":475,"./lb":476,"./lb.js":476,"./lo":477,"./lo.js":477,"./lt":478,"./lt.js":478,"./lv":479,"./lv.js":479,"./me":480,"./me.js":480,"./mi":481,"./mi.js":481,"./mk":482,"./mk.js":482,"./ml":483,"./ml.js":483,"./mn":484,"./mn.js":484,"./mr":485,"./mr.js":485,"./ms":486,"./ms-my":487,"./ms-my.js":487,"./ms.js":486,"./mt":488,"./mt.js":488,"./my":489,"./my.js":489,"./nb":490,"./nb.js":490,"./ne":491,"./ne.js":491,"./nl":492,"./nl-be":493,"./nl-be.js":493,"./nl.js":492,"./nn":494,"./nn.js":494,"./oc-lnc":495,"./oc-lnc.js":495,"./pa-in":496,"./pa-in.js":496,"./pl":497,"./pl.js":497,"./pt":498,"./pt-br":499,"./pt-br.js":499,"./pt.js":498,"./ro":500,"./ro.js":500,"./ru":501,"./ru.js":501,"./sd":502,"./sd.js":502,"./se":503,"./se.js":503,"./si":504,"./si.js":504,"./sk":505,"./sk.js":505,"./sl":506,"./sl.js":506,"./sq":507,"./sq.js":507,"./sr":508,"./sr-cyrl":509,"./sr-cyrl.js":509,"./sr.js":508,"./ss":510,"./ss.js":510,"./sv":511,"./sv.js":511,"./sw":512,"./sw.js":512,"./ta":513,"./ta.js":513,"./te":514,"./te.js":514,"./tet":515,"./tet.js":515,"./tg":516,"./tg.js":516,"./th":517,"./th.js":517,"./tk":518,"./tk.js":518,"./tl-ph":519,"./tl-ph.js":519,"./tlh":520,"./tlh.js":520,"./tr":521,"./tr.js":521,"./tzl":522,"./tzl.js":522,"./tzm":523,"./tzm-latn":524,"./tzm-latn.js":524,"./tzm.js":523,"./ug-cn":525,"./ug-cn.js":525,"./uk":526,"./uk.js":526,"./ur":527,"./ur.js":527,"./uz":528,"./uz-latn":529,"./uz-latn.js":529,"./uz.js":528,"./vi":530,"./vi.js":530,"./x-pseudo":531,"./x-pseudo.js":531,"./yo":532,"./yo.js":532,"./zh-cn":533,"./zh-cn.js":533,"./zh-hk":534,"./zh-hk.js":534,"./zh-mo":535,"./zh-mo.js":535,"./zh-tw":536,"./zh-tw.js":536};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=1055},1119:function(e,t){},294:function(e){e.exports=JSON.parse('{"api":{"_url":""},"chat":true,"profile":true,"userorg":"/getone/user_account"}')},35:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p}));var a="GET_MENUAPP",r="SET_OPEN_KEYS",o="SET_LOGIN_STATUS",i="GET_FAVORITS_MENU",l="SET_COLLAPSE_STATUS",c="GET_CHAT_ID",u="IS_FIRST_ID",s="IS_UNREADED_EXIST",d=function(){var e=JSON.parse(sessionStorage.getItem("chat_id"));return function(t){t({type:c,payload:e||null})}},p=function(e){return sessionStorage.setItem("chat_id",JSON.stringify(e)),function(t){t({type:c,payload:e})}}},580:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(86),i=n(32),l=n(294),c=l,u=l.api,s=n(22),d=n.n(s),p=n(212),f=n.n(p),m=n(40),g=n(5),h=n(21),y=n.n(h),b=n(10),v=n(3),E=n(293),O=n.n(E),j=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};O()({method:e,url:u._url+n,data:t,params:"GET"===e.toUpperCase()?t:{},withCredentials:!0,headers:{Auth:localStorage.getItem("sesid")}}).then((function(e){a(e.data)}),(function(e){var t=((LaNg||{}).unknownError||{})[LnG||"EN"]||"Unknown error";e.response&&e.response.data&&e.response.data.message?t=e.response.data.message:console.log(n,":",e),m.NotificationManager.error(((LaNg||{}).Error||{})[LnG||"EN"]||"Error",t,5e3);var a=localStorage.getItem("redirect401");a&&"undefined"!==a&&"null"!==a||(a="/login"),e.response&&401===e.response.status&&window.location.pathname!==a&&window.location.replace(a),r(e)}))};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e){j("POST",{settings:e},"/api/saveusersettings")};function C(e,t,n){if((e=e||{})[0]&&(e=e[0]),n||(n={}),t&&0!==t.length){var a=!0;return t.forEach((function(t){if(">"===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]>t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]>t.value)&&a;else if("==="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key].toString()===t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value].toString()===t.value)&&a;else if("<"===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]<t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]<t.value)&&a;else if("!=="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key].toString()!==t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value].toString()!==t.value)&&a;else if(">="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]>=t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]>=t.value)&&a;else if("<="===t.operation.js)a=(void 0!==e[t.col.key]&&null!==e[t.col.key]&&e[t.col.key]<=t.value||void 0===e[t.col.key]&&void 0!==n[t.col.value]&&null!==n[t.col.value]&&n[t.col.value]<=t.value)&&a;else if("===null"===t.operation.js)a=(null===e[t.col.key]||void 0===e[t.col.key])&&a;else if("!==null"===t.operation.js)a=null!==e[t.col.key]&&void 0!==e[t.col.key]&&a;else if("indexOf"===t.operation.js)a=!!(e[t.col.key]&&-1!==e[t.col.key].indexOf(t.value)||n[t.col.value]&&-1!==n[t.col.value].indexOf(t.value))&&a;else if("likeOr"===t.operation.js){var r=t.value.split(",");if(_.isEmpty(r))return a=!1;var o=function(e){var t=!1,n=[][e].forEach((function(e){r.forEach((function(t){var a=e.includes(t);n.push(a)}))}))(n.find((function(e){return!0===e})))?t=!0:null;return t};a=!!(e[t.col.key]&&o(e[t.col.key])||n[t.col.value]&&o(n[t.col.value]))&&a}else"in"===t.operation.js?a=t.value.split(",").filter((function(n){return null!==e[t.col.key]&&void 0!==e[t.col.key]&&n.toString()===e[t.col.key].toString()})).length>0&&a:"not in"===t.operation.js?a=0===t.value.split(",").filter((function(n){return null!==e[t.col.key]&&void 0!==e[t.col.key]&&n===e[t.col.key].toString()})).length&&a:"contain"===t.operation.js&&(a="object"===k(e[t.col.key])&&(e[t.col.key]||[]).filter((function(e){return e==t.value})).length>0)})),a}return!0}var S=function(e,t,n,a,r){var o=t.parametrs,i=(t.paramtype,"");if(o){var l=o.filter((function(e){return"link"===e.query_type}));l.length>0&&(i="/"),l.forEach((function(t,l){if(t.paramcolumn)i+=e[(_.find(n,(function(e){return e.title===t.paramcolumn.value}))||{}).key]+"/";else if(t.paraminput)i+=a[t.paraminput]+"/";else{var c=t.paramconst;"_checked_"===c&&(c=JSON.stringify(r||[])),i+=c+"/"}o.length!==l+1&&(i+="&")}));var c=o.filter((function(e){return"query"===e.query_type}));c.length>0&&(i+="?"),c.forEach((function(t,l){if(!t.paramt||"sample"===t.paramt){if(t.paramcolumn)i+=t.paramtitle+"="+e[(_.find(n,(function(e){return e.title===t.paramcolumn.value}))||{}).key];else if(t.paraminput)i+=t.paramtitle+"="+a[t.paraminput];else{var c=t.paramconst;"_checked_"===c&&(c=JSON.stringify(r||[])),i+=t.paramtitle+"="+c}o.length!==l+1&&(i+="&")}}))}return i};function P(e,t,n,a,r){e&&e[0]&&(e=e[0]);var o="";return-1===t.act.indexOf("?")&&(o="?"),t.parametrs&&t.parametrs.forEach((function(t){if(t.paramcolumn){var i=t.paramcolumn;o+=t.paramtitle+"="+(e[(_.find(n,(function(e){return e.title===i.value||e.fn&&e.title===i.value}))||{}).key]||a[(_.find(n,(function(e){return e.title===i.value}))||{}).title])+"&"}else if(t.paraminput)o+=t.paramtitle+"="+a[t.paraminput]+"&";else{var l=t.paramconst;"_checked_"===l&&(l=JSON.stringify(r||[])),o+=(t.paramtitle?t.paramtitle+"=":"")+l+"&"}})),o=o.substring(0,o.length-1)}var L=function(e,t,n,a,r){var o="";o=t.isforevery?S(e,t,n,a):P(e,t,n,a),r.push(t.act+o)},N=function(){return function(e,t){if(Array.isArray(t))return t.length>0?t.map((function(t,n){return t.childs&&t.childs>0?r.a.createElement(v.Collapsible,{style:{padding:0},key:t.id+"_A",accordion:!0},r.a.createElement(v.CollapsibleItem,{key:t.id,expanded:!1,header:t.istitle?t.title:null,icon:r.a.createElement(b.a,{small:!0,type:t.icon})},r.a.createElement("div",{style:{marginLeft:"10px"}},e(e,t.items||[])))):r.a.createElement(v.SideNavItem,{style:{padding:0},icon:r.a.createElement(b.a,{type:t.icon})},r.a.createElement("li",null,r.a.createElement(o.Link,{to:t.to,title:t.title,style:{whiteSpace:"nowrap",color:"#039be5"}},t.istitle?t.title:null,t.ws?r.a.createElement(v.Badge,{className:"blue"}," "+t.notif_count):null)))})):null}},D=function(e,t){var n="";if(e&&"string"==typeof e)if("date"===t)e.split(".").reverse().forEach((function(e){return n+="-"+e})),n=n.slice(1);else if("datetime"===t){var a=e.split(" ")[1];(e=e.split(" ")[0]).split(".").reverse().forEach((function(e){return n+="-"+e})),n=n.slice(1)+"T"+a}else"time"===t&&(n=e);else n=e;return n};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=Object(g.a)(Object(g.e)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{custom_menu:[],user_detail:{},collapsed:!1,current_role:null};return{custom_menu:e.custom_menu,user_detail:e.user_detail,collapsed:e.collapsed,current_role:e.current_role}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return d.a.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({getMenu:function(e){var t=e.set_state;return function(){j("GET",{},"/api/menus",(function(e){t({custom_menu:e.outjson.menus,user_detail:e.outjson.userdetail,current_role:e.outjson.current_role}),localStorage.setItem("usersettings",JSON.stringify(e.outjson.userdetail.usersettings)),localStorage.setItem("homepage",e.outjson.homepage),localStorage.setItem("ischat",e.outjson.ischat),localStorage.setItem("redirect401",e.outjson.redirect401),localStorage.setItem("login_url",e.outjson.login_url)}),(function(e){console.log("err menus:",e)}))}},menu_creator:N,menu_creator_header:function(){return function(e,t){if(Array.isArray(t))return t.length>0?t.map((function(t,n){return t.childs&&t.childs>0?r.a.createElement(v.Dropdown,{id:"Dropdown_6",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:r.a.createElement("div",null,r.a.createElement(b.a,{style:{marginRight:8},small:!0,type:t.icon}),r.a.createElement("span",null,t.istitle?t.title:null))},r.a.createElement("div",{style:{marginLeft:"10px"}},e(N,t.items||[]))):r.a.createElement("li",null,r.a.createElement(o.Link,{to:t.to,title:t.title,style:{whiteSpace:"nowrap"}},r.a.createElement(b.a,{style:{marginRight:6},small:!0,type:t.icon}),t.istitle?t.title:null,t.ws?r.a.createElement(v.Badge,{className:"blue"}," "+t.notif_count):null))})):null}},menuCollapseStateSave:function(e){var t=e.set_state;return function(e){var n=JSON.parse(localStorage.getItem("usersettings"))||{views:{}};n.menuCollapse=e,w(n),localStorage.setItem("usersettings",JSON.stringify(n)),t({collapsed:e})}}}),Object(g.c)({handleGlobalWS:function(e){var t=e.getMenu;return function(){var e=document.location.href.split("//")[1],n=-1!==document.location.href.split("//")[0].indexOf("s")?"wss":"ws";console.log("ws_protocol",n),e=n+"://"+(e=e.split("/")[0])+"/global_ws";var a=new WebSocket(e);a.onopen=function(){a.send(JSON.stringify({}))},a.onmessage=function(e){JSON.parse(e.data).forEach((function(e){m.NotificationManager.success("message",e.message),j("GET",{id:e.id},"/api/notifications_setreaded_by_userid")})),t()}}}}),Object(g.b)({componentDidMount:function(){var e=this.props,t=e.set_state,n=e.handleGlobalWS,a=e.getMenu,r=JSON.parse(localStorage.getItem("usersettings"));r&&void 0!==r.menuCollapse&&t({collapsed:r.menuCollapse});var o=localStorage.getItem("sesid");o||(o=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),localStorage.setItem("sesid",o)),document.cookie="sesid="+o,localStorage.getItem("redirect401")||localStorage.setItem("redirect401","/login"),localStorage.getItem("login_url")||localStorage.setItem("login_url","/login"),a(),n()},UNSAFE_componentWillMount:function(){document.getElementsByTagName("body")[0].classList.remove("login_bckg")},componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=(t.set_first_id,t.location,t.handleChatWS);t.set_chat_id,t.handleGlobalWS;e.chatId!==n&&((void 0).close(),a())}}));var T=Object(g.a)()((function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),document.title="Home",location.href=localStorage.getItem("homepage")||"/composition/home",r.a.createElement("div",null)})),M=n(562),F=n.n(M);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=Object(g.a)(Object(g.e)((function(e){var t=e.inState;return{modal_open:(void 0===t?{modal_open:!1}:t).modal_open}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}))((function(e){var t=e.files,n=void 0===t?[]:t,a=(e.modal_open,e.set_state,e.title),o=[];return n.forEach((function(e){return o.push(u._url+e.uri)})),_.isEmpty(n)?null:[r.a.createElement("div",{style:{backgroundColor:"black",width:400}},r.a.createElement(v.Carousel,{carouselId:a,classname:"gh",options:{fullWidth:!1,indicators:!0},centerImages:!0},n.map((function(e){return r.a.createElement("div",{style:{width:350},key:JSON.stringify(e)},r.a.createElement("img",{key:e.uri,style:{width:350,cursor:"zoom-in"},src:u._url+e.uri,onClick:function(){return window.open(u._url+e.uri)}}))}))))]})),z=n(11),B=n.n(z),W=n(563);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=$(e);if(t){var r=$(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,a,o=V(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={displayColorPicker:!1,color:e.currentColor},t.handleClick=t.handleClick.bind(q(t)),t.handleClose=t.handleClose.bind(q(t)),t.handleChange=t.handleChange.bind(q(t)),t}return t=i,(n=[{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){this.setState({color:e.hex}),this.props.onChangeInput(e.hex,this.props.localConfig)}},{key:"render",value:function(){var e=this.props,t=(e.currentColor,e.onChangeInput,B()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"".concat(this.state.color)},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}));return r.a.createElement("div",null,r.a.createElement("div",{style:t.swatch,onClick:this.handleClick},r.a.createElement("div",{style:t.color})),this.state.displayColorPicker?r.a.createElement("div",{style:t.popover},r.a.createElement("div",{style:t.cover,onClick:this.handleClose}),r.a.createElement(W.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}])&&K(t.prototype,n),a&&K(t,a),i}(r.a.Component),Q=(n(1035),n(299)),Z=n.n(Q),ee=n(564),te=n.n(ee);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ce(e);if(t){var r=ce(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Q.Quill.register("modules/imageResize",te.a);var ue=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]],se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(i,e);var t,n,a,o=oe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={text:e.currentText},t.handleChange=t.handleChange.bind(le(t)),t.modules={toolbar:ue,imageResize:{}},t}return t=i,(n=[{key:"handleChange",value:function(e){this.setState({text:e}),this.props.onChangeInput(e,this.props.localConfig)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Z.a,{value:this.state.text,onChange:this.handleChange,formats:this.formats,modules:this.modules}))}}])&&ae(t.prototype,n),a&&ae(t,a),i}(r.a.Component),de=n(565),pe=(n(1054),Object(g.a)(Object(g.c)({menu_creator:N}))((function(e){var t=e.children,n=e.extra,a=e.title,o=e.subtitle;e.className;return r.a.createElement("div",null,n||null,a?r.a.createElement("h4",{level:4,style:{display:"inline-block",marginRight:"10px"}},a):null,o?r.a.createElement("span",{className:"ant-page-header-title-view-sub-title"},o):null,t||null)}))),fe=n(54),me=n(4),ge=n.n(me);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=((LaNg||{}).filterOK||{})[LnG||"EN"]||"ok",Ee=((LaNg||{}).filterClean||{})[LnG||"EN"]||"clean",Oe=Object(g.a)(Object(g.e)((function(e){var t=e.inState,n=void 0===t?{indeterminate:!0,apiData:{}}:t;return{indeterminate:n.indeterminate,apiData:n.apiData}}),{set_state:function(e){return function(t){var n=ye({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({handlerFilters:function(e){var t=e.filters,n=e.changeFilters;return function(e,a){t[e]=a,n(t)}},handlerTriCheck:function(e){var t=e.filters,n=e.changeFilters,a=e.set_state;return function(e,r){null==r&&(a({indeterminate:!1}),t[e]=!0,n(t)),!0===r&&(t[e]=!1,n(t)),!1===r&&(a({indeterminate:!0}),t[e]=null,n(t))}},handlerGetTable:function(e){var t=e.apiData,n=e.set_state;return function(e){j("GET",{},"/api/gettable?id="+e.id,(function(a){var r=ye({},t);r[e.title]=a.outjson,n({apiData:r})}))}},onOK:function(e){var t=e.getData,n=e.changePagination,a=e.changeLoading,r=e.params,o=e.filters,i=e.pagination;return function(){var e=JSON.parse(localStorage.getItem("usersettings"))||{views:{}};console.log("patttttttth",r.path);var l={};e.views||(e.views={}),e.views[r.path]&&(l=e.views[r.path]),l.filters=o,e.views[r.path]=l,localStorage.setItem("usersettings",JSON.stringify(e)),w(e),i.pagenum=1,n(i),t(t),a(!0)}}}))((function(e){e.filter;var t=e.filters,n=e.allProps,a=e.getData,o=(e.changeLoading,e.changeFilter,e.handlerFilters),i=e.handlerGetTable,l=e.onOK,c=e.handlerTriCheck,u=e.apiData,s=(e.indeterminate,e.changeFilters),d=e.pagination,p=e.changePagination,f=e.styleType,m=(e.path,e.params),g="1";return"up"===f&&(g="2"),r.a.createElement("div",null,n.filters&&Array.isArray(n.filters)&&n.filters.filter((function(e){return e.position==g})).length>0?n.filters.filter((function(e){return e.position==g})).map((function(e,n){return r.a.createElement(v.Row,{key:JSON.stringify(e)},function(){switch(e.type){case"substr":return[r.a.createElement(v.Col,{key:"sx3"+e.id,s:12},r.a.createElement("label",null,e.title)),r.a.createElement(v.Col,{key:"sddd3"+e.id,s:12},r.a.createElement("input",{placeholder:e.title||"...",value:t[e.column]||"",style:{border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px"},onKeyUp:function(e){13===e.keyCode&&l()},onChange:function(t){return o(e.column,t.target.value)}}))];case"date_between":return[r.a.createElement(v.Col,{key:"sx4"+e.id,s:12},r.a.createElement("label",null,e.title)),r.a.createElement(v.Col,{key:"sx44"+e.id,s:12},r.a.createElement("input",{placeholder:e.title||"...",value:t[e.column]||"",type:"date",style:{border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px"},onChange:function(t){return o(e.column,t.target.value)}}))];case"multijson":case"select":case"multiselect":var n;return n="multijson"===e.type||"multiselect"===e.type?t[e.column]||[]:t[e.column],[r.a.createElement(v.Col,{key:"s33"+e.id,s:12},r.a.createElement("label",null,e.title)),r.a.createElement(v.Col,{key:"s443"+e.id,s:12},r.a.createElement(fe.a,{styles:{menuPortal:function(e){return ye(ye({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return ye(ye({},e),{},{padding:2})},clearIndicator:function(e){return ye(ye({},e),{},{padding:2})},control:function(e){return ye(ye({},e),{},{minHeight:0})},input:function(e){return ye(ye({},e),{},{padding:0})},valueContainer:function(e){return ye(ye({},e),{},{padding:"0 8px",color:"#000000"})},placeholder:function(e){return ye(ye({},e),{},{color:"#cdbfc7"})}},isMulti:"multijson"===e.type||"multiselect"===e.type,showSearch:!0,value:"multijson"===e.type||"multiselect"===e.type?t[e.column]||[]:(u[e.title]||[]).filter((function(n){return n.value===t[e.column]}))[0]||null,placeholder:e.title,style:{width:"100%",border:"1px solid #9e9e9e"},onFocus:function(){return i(e)},options:u[e.title],onDeselect:function(a){"multijson"!==e.type&&"multiselect"!==e.type||(t[e.column]=n.filter((function(e){return e&&e.key!==a.key})),o(e.column,t[e.column]))},onChange:function(t,n){"multijson"===e.type||"multiselect"===e.type?o(e.column,t||[]):o(e.column,(t||{}).value||null)}}))];case"typehead":return[r.a.createElement(v.Col,{key:"sd3"+e.id,s:12},r.a.createElement("label",null,e.title)),r.a.createElement(v.Col,{key:e.id+"ssdf",s:12},r.a.createElement("input",{placeholder:e.title||"...",value:t[e.title]||"",style:{border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px"},onKeyUp:function(e){13===e.keyCode&&l()},onChange:function(t){return o(e.title,t.target.value)}}))];case"period":var a=[];return t[e.column]&&(t[e.column].date1&&a.push(ge()(t[e.column].date1,"YYYY-MM-DD"))),t[e.column]&&(t[e.column].date2&&a.push(ge()(t[e.column].date2,"YYYY-MM-DD"))),[r.a.createElement(v.Col,{key:"d "+e.id,s:12},r.a.createElement("label",null,e.title)),r.a.createElement(v.Col,{key:e.column+e.id+"dfs"},r.a.createElement(v.Row,null,r.a.createElement(v.Col,{key:e.column+e.is+"fgd",s:6},r.a.createElement("input",{type:"date",onChange:function(n){var a=t[e.column]||{};a.date1=n.target.value,o(e.column,a)},onKeyUp:function(e){13===e.keyCode&&l()},value:(t[e.column]||{}).date1||"",style:{border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px"}})),r.a.createElement(v.Col,{key:e.column+e.id+"fdsa",s:6},r.a.createElement("input",{type:"date",onChange:function(n){var a=t[e.column]||{};a.date2=n.target.value,o(e.column,a)},onKeyUp:function(e){13===e.keyCode&&l()},value:(t[e.column]||{}).date2||"",style:{border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px"}}))))];case"check":return[r.a.createElement(v.Col,{key:e.column+e.id+";lkl",s:12},r.a.createElement(v.Checkbox,{key:e.column,id:e.column,indeterminate:null===t[e.column]||void 0===t[e.column],checked:t[e.column]||null,onChange:function(){c(e.column,t[e.column])},label:e.title}))];default:return r.a.createElement(v.Col,null,e.type)}}())})):null,r.a.createElement(v.Row,{key:"sawadddddwwvcv3",gutter:4},r.a.createElement(v.Button,{flat:!0,small:!0,icon:r.a.createElement(v.Icon,null,"check"),onClick:l},ve),r.a.createElement(v.Button,{flat:!0,small:!0,icon:r.a.createElement(v.Icon,null,"delete"),onClick:function(){var e=JSON.parse(localStorage.getItem("usersettings"))||{views:{}},t={};e.views||(e.views={}),e.views[m.path]&&(t=e.views[m.path]),t.filters={},e.views[m.path]=t,localStorage.setItem("usersettings",JSON.stringify(e)),w(e),s({}),d.pagenum=1,p(d),a(a,{})}},Ee)))}));function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=((LaNg||{}).bClose||{})[LnG||"EN"]||"close",we=((LaNg||{}).shCols||{})[LnG||"EN"]||"show/hide columns",Ce=Object(g.a)(Object(g.e)((function(e){e.inState;return{}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return d.a.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({handlerColumnHider:function(e){e.basicConfig;var t=e.changeTS,n=e.path;return function(e,a){var r=JSON.parse(localStorage.getItem("usersettings"))||{},o={};if(r.views||(r.views={}),r.views[n]&&(o=r.views[n]),o.hide){var i=d.a.findIndex(o.hide,(function(e,t){return e===a.title}));-1!==i?o.hide.splice(i,1):o.hide.push(a.title)}else o.hide=[a.title];localStorage.setItem("usersettings",JSON.stringify(r)),r.views[n]=o,w(r),t(r.views)}}}))((function(e){var t=e.filter,n=e.filters,a=e.allProps,o=e.getData,i=e.changeLoading,l=e.changeFilter,c=e.changeFilters,u=e.handlerColumnHider,s=e.apiData,p=(e.changeTS,e.basicConfig,e.indeterminate),f=e.listColumns,m=e.arr_hide,g=e.pagination,h=e.changePagination,y=e.params,b=e.styleType;return"up"===b?r.a.createElement(v.Collapsible,{key:"filt-up",accordion:!1},r.a.createElement(v.CollapsibleItem,{header:r.a.createElement(v.Icon,null,"settings_input_component"),key:"sr411",expanded:!!(n&&Object.keys(n).length>0)},r.a.createElement(Oe,{filter:t,filters:n,allProps:a,getData:o,changeLoading:i,changeFilter:l,apiData:s,indeterminate:p,changeFilters:c,pagination:g,changePagination:h,styleType:b,params:y}))):r.a.createElement(v.Modal,{open:t,bottomSheet:!0,fixedFooter:!1,onClose:function(){return l(!t)}},r.a.createElement(v.Row,{key:"sawaddddfdf1"},r.a.createElement(Oe,{filter:t,filters:n,allProps:a,getData:o,changeLoading:i,changeFilter:l,apiData:s,indeterminate:p,changeFilters:c,pagination:g,changePagination:h,styleType:b,params:y})),r.a.createElement(v.Row,{key:"sawadddddww3",gutter:4},r.a.createElement(v.Button,{flat:!0,small:!0,icon:r.a.createElement(v.Icon,null,"close"),style:{color:"#ef1010"},onClick:function(){return l(!1)}},_e)),r.a.createElement(v.Row,{key:"sawad5"},r.a.createElement("br",null),r.a.createElement("div",null,we),r.a.createElement("ul",null,f.map((function(e){return r.a.createElement("li",{key:"li_"+e.title},r.a.createElement(v.Col,{key:"col"+e.title,s:12},r.a.createElement(v.Checkbox,{type:"checkbox",key:"rrrow_"+e.title,id:"rrrow_"+e.title,label:e.title,offLabel:"Off",checked:-1===d.a.findIndex(m,(function(t){return t===e.title})),onChange:function(t){u(t,e)}})))})))))})),Se=n(567),Pe=n.n(Se),Le=n(568),Ne=n.n(Le);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},Te=((LaNg||{}).multiSelect||{})[LnG||"EN"]||"Choose from the list",Me=Object(g.a)(Object(g.e)((function(e){var t=e.inState;return{options:(void 0===t?{options:[]}:t).options}}),{set_state:function(e){return function(t){var n=xe({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig;return function(e,r){j("POST",{data:t,inputs:r,config:a},e.select_api,(function(e){var t=e.outjson;t||(t=[]),n({options:t})}),(function(e){}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){var i;i=y.a.parse(n.search),r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),j("POST",{inputs:i,config:r,id:o,substr:e},"/api/select",(function(e){var t=e.outjson;a({options:t})}),(function(e){})))}}}),Object(g.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(e?e.value:"",n)}}}),Object(g.b)({componentDidMount:function(){var e=this.props,t=e.config,n=e.data,a=e.onFocusApi,r=e.onFocus,o=e.inputs;"select_api"===t.type?a(t,o):r(null,n[t.key])},componentDidUpdate:function(e){var t=this.props;t.config,t.data,t.onFocusApi,t.onFocus,t.inputs}}))((function(e){var t=e.onChange,n=e.data,a=void 0===n?{}:n,o=e.inputs,i=e.config,l=e.options,c=void 0===l?[]:l,u=e.onFocus,s=e.onFocusApi,d=_.findIndex(c,(function(e){return e.value===a[i.key]}));return r.a.createElement(fe.a,{styles:{menuPortal:function(e){return xe(xe({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return xe(xe({},e),{},{padding:4})},clearIndicator:function(e){return xe(xe({},e),{},{padding:4})},control:function(e){return xe(xe({},e),{},{minHeight:0})},input:function(e){return xe(xe({},e),{},{padding:0})},valueContainer:function(e){return xe(xe({},e),{},{padding:"0 8px",color:"#000000"})},placeholder:function(e){return xe(xe({},e),{},{color:"#cdbfc7"})},option:function(e,t){var n=t.data;return xe(xe({},e),{},{color:n.color})}},menuPlacement:"auto",menuPortalTarget:document.body,placeholder:Te,isClearable:!0,isDisabled:i.read_only||!1,value:c[d]||null,options:c,onFocus:function(){"select_api"===i.type?s(i,o):u("")},onChange:t,onKeyDown:Ae})}));function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=((LaNg||{}).multiSelect||{})[LnG||"EN"]||"Choose from the list",ze=Object(g.a)(Object(g.e)((function(e){var t=e.inState;return{options:(void 0===t?{options:[]}:t).options}}),{set_state:function(e){return function(t){var n=Ge({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig;return function(e,r){j("POST",{data:t,inputs:r,config:a},e.select_api,(function(e){var t=e.outjson;t||(t=[]),n({options:t})}),(function(e){}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){var i;i=y.a.parse(n.search),r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),j("POST",{inputs:i,config:r,id:o,substr:e},"/api/select",(function(e){var t=e.outjson;a({options:t})}),(function(e){})))}}}),Object(g.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(e?e.value:"",n)}}}),Object(g.b)({componentDidMount:function(){var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"multiselect_api"===t.type?a(t,n[t.key]):r(null,n[t.key])}}))((function(e){e.onChange;var t=e.onChangeInput,n=e.data,a=void 0===n?{}:n,o=e.inputs,i=e.config,l=e.options,c=void 0===l?[]:l,u=e.onFocus,s=e.onFocusApi,d=[];a[i.key]&&(_.isArray(a[i.key])&&a[i.key].forEach((function(e){c.forEach((function(t){t.value===e&&d.push(t)}))})));return r.a.createElement(fe.a,{styles:{menuPortal:function(e){return Ge(Ge({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return Ge(Ge({},e),{},{padding:4})},clearIndicator:function(e){return Ge(Ge({},e),{},{padding:4})},control:function(e){return Ge(Ge({},e),{},{minHeight:0})},input:function(e){return Ge(Ge({},e),{},{padding:0})},valueContainer:function(e){return Ge(Ge({},e),{},{padding:"0.8px",color:"#000000",top:-12})},placeholder:function(e){return Ge(Ge({},e),{},{color:"#cdbfc7"})},option:function(e,t){var n=t.data;return Ge(Ge({},e),{},{color:n.color})}},menuPortalTarget:document.body,menuPlacement:"auto",placeholder:Ue,isMulti:!0,isClearable:!0,isDisabled:i.read_only||!1,value:d,options:c,onKeyDown:function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t)}},onFocus:function(){"multiselect_api"===i.type?s(i,o):u("")},onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n[1].action){case"select-option":a[i.key]?a[i.key].push(n[1].option.value):a[i.key]=[n[1].option.value];break;case"pop-value":case"remove-value":a[i.key]=_.filter(a[i.key],(function(e){return e!==n[1].removedValue.value}));break;case"clear":a[i.key]=[]}t(a[i.key],i)}})})),Be=n(19),We=n(216);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve={},Ye=((LaNg||{}).NOresult||{})[LnG||"EN"]||"NO RESULT",qe=((LaNg||{}).typeAHead||{})[LnG||"EN"]||"start typing",$e=function(e){return e.selectProps.loading?r.a.createElement(Be.z.NoOptionsMessage,e,r.a.createElement(v.Preloader,null)):r.a.createElement(Be.z.NoOptionsMessage,e,r.a.createElement("div",null,Ye))},Xe=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t);break;case"Enter":e.preventDefault(),console.log("ENTER STOPPAGE")}},Qe=Object(g.a)(Object(g.e)((function(e){var t=e.inState,n=void 0===t?{options:{},loading:!1,status:!1}:t;return{options:n.options,loading:n.loading,status:n.starus}}),{set_state:function(e){return function(t){var n=Ke({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig,r=e.name,o=e.config;return function(e,i,l){return n({loading:!0}),Ve[r]&&clearTimeout(Ve[r]),new Promise((function(n,c){Ve[r]=setTimeout((function(){j("POST",{data:t,inputs:l,config:a},o.select_api+"?substr="+(i||e),(function(e){var t=e.outjson;t||(t=[]),n(t)}),(function(e){}))}),e?2e3:1)})).then((function(t){if(e)return n({loading:!1,options:t}),t;n({options:t,loading:!1,status:!0})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){return new Promise((function(a,i){Ve[name]=setTimeout((function(){var i=y.a.parse(n.search);r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],i[e.value.value]=n):i[e.col.value]=e.const})),j("POST",{inputs:i,config:r,val:e,id:o,ismulti:null},"/api/select",(function(e){var t=e.outjson;a(t)}),(function(e){})))}),e?1e3:1)})).then((function(t){if(e)return a({options:t}),t;a({options:t,status:!0})}))}}}),Object(g.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(null===e?"":e.value,n)}}}),Object(g.b)({componentDidMount:function(){var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"typehead_api"===t.type?a(null,n[t.key]):r(null,n[t.key])},componentDidUpdate:function(e){var t=this.props,n=t.config,a=(t.options,t.data),r=t.onFocusApi,o=t.onFocus;a!==e.data&&a[n.key]!==e.data[n.key]&&("typehead_api"===n.type?r(null,a[n.key]):o(null,a[n.key]))}}))((function(e){e.name;var t=e.onChange,n=e.onFocusApi,a=e.onFocus,o=e.data,i=e.inputs,l=e.config,c=e.options,u=void 0===c?[]:c,s=e.loading,d=e.status,p=_.findIndex(u,(function(e){return e.value===o[l.key]}));return d||null===o[l.key]?r.a.createElement(We.a,{styles:{menuPortal:function(e){return Ke(Ke({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return Ke(Ke({},e),{},{padding:4})},clearIndicator:function(e){return Ke(Ke({},e),{},{padding:4})},control:function(e){return Ke(Ke({},e),{},{minHeight:0})},input:function(e){return Ke(Ke({},e),{},{padding:0})},valueContainer:function(e){return Ke(Ke({},e),{},{padding:"0 8px",color:"#000000"})},placeholder:function(e){return Ke(Ke({},e),{},{color:"#cdbfc7"})}},menuPlacement:"auto",menuPortalTarget:document.body,loading:s,components:{NoOptionsMessage:$e,LoadingMessage:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(v.Preloader,null))}},isClearable:!0,placeholder:qe,cacheOptions:!0,isDisabled:l.read_only||!1,value:u[p]||null,defaultOptions:u,loadOptions:function(e){return"typehead_api"===l.type?n(e):a(e)},onFocus:function(){"typehead_api"===l.type?n(null,o[l.key],i):a(null,o[l.key])},onChange:t,onKeyDown:Xe}):r.a.createElement(v.Preloader,null)}));function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt={},at=((LaNg||{}).typeAHead||{})[LnG||"EN"]||"start typing",rt=((LaNg||{}).NOresult||{})[LnG||"EN"]||"NO RESULT",ot=function(e){return e.selectProps.loading?r.a.createElement(Be.z.NoOptionsMessage,e,r.a.createElement(v.Preloader,{tip:"..."})):r.a.createElement(Be.z.NoOptionsMessage,e,r.a.createElement("div",null,rt))},it=function(e){switch(e.key){case"Home":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:e.target.setSelectionRange(0,0);break;case"End":e.preventDefault();var t=e.target.value.length;e.shiftKey?e.target.selectionEnd=t:e.target.setSelectionRange(t,t);break;case"Enter":e.preventDefault(),console.log("ENTER STOPPAGE")}},lt=Object(g.a)(Object(g.e)((function(e){var t=e.inState,n=void 0===t?{options:[],loading:!1,status:!1}:t;return{options:n.options,loading:n.loading,status:n.status}}),{set_state:function(e){return function(t){var n=et({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({onFocusApi:function(e){var t=e.data,n=e.set_state,a=e.globalConfig,r=e.config,o=e.name;return function(e,i,l){return n({loading:!0}),nt[o]&&clearTimeout(nt[o]),new Promise((function(n,c){nt[o]=setTimeout((function(){j("POST",{data:t,inputs:l,config:a,val:e,id:i,ismulti:!0,substr:i||e},r.select_api,(function(e){var t=e.outjson;t||(t=[]),n(t)}),(function(e){}))}),e?2e3:1)})).then((function(t){if(e)return n({loading:!1,options:t,status:!0}),t;n({options:t,loading:!1,status:!0})})).catch((function(e){return n({loading:!1,status:!0})}))}},onFocus:function(e){var t=e.data,n=e.location,a=e.set_state,r=e.config;return function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=new Promise((function(a,l){nt[name]=setTimeout((function(){var l=y.a.parse(n.search);r.selectdata||(r.select_condition&&r.select_condition.forEach((function(e){var n=null;e.value?t[e.value.key]&&(n=t[e.value.key],l[e.value.value]=n):l[e.col.value]=e.const})),"multitypehead"===r.type&&null===i&&(i=!0,o=null),j("POST",{inputs:l,config:r,val:e,id:o,ismulti:!0},"/api/select",(function(e){var t=e.outjson;a(t)}),(function(e){})))}),e?1e3:1)}));return l.then((function(t){if(e)return t;a({options:t,status:!0})}))}}}),Object(g.c)({onChange:function(e){var t=e.onChangeInput,n=(e.data,e.config);return function(e){t(null===e?"":e.value,n)}}}),Object(g.b)({componentDidMount:function(){console.log("herecdm");var e=this.props,t=e.config,n=(e.options,e.data),a=e.onFocusApi,r=e.onFocus;"multitypehead_api"===t.type?a(null,n[t.key]):r(null,n[t.key])}}))((function(e){e.name,e.onChange;var t,n=e.onFocusApi,a=e.onFocus,o=e.data,i=e.inputs,l=e.config,c=e.options,u=void 0===c?[]:c,s=e.loading,d=e.status,p=e.onChangeInput;return t=function(e,t){var n=[];return e&&(_.isArray(e)&&e.forEach((function(e){t.forEach((function(t){t.value===e&&n.push(t)}))}))),n}(o[l.key],u),d||null===o[l.key]?r.a.createElement(We.a,{styles:{menuPortal:function(e){return et(et({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return et(et({},e),{},{padding:4})},clearIndicator:function(e){return et(et({},e),{},{padding:4})},control:function(e){return et(et({},e),{},{minHeight:0})},input:function(e){return et(et({},e),{},{padding:0})},valueContainer:function(e){return et(et({},e),{},{padding:"0 8px",color:"#000000",top:-12})},placeholder:function(e){return et(et({},e),{},{color:"#cdbfc7"})},option:function(e,t){var n=t.data;return et(et({},e),{},{color:n.color})}},isMulti:!0,menuPlacement:"auto",menuPortalTarget:document.body,loading:s,components:{NoOptionsMessage:ot,LoadingMessage:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(v.Preloader,{tip:"..."}))}},isClearable:!0,placeholder:at,cacheOptions:!0,isDisabled:l.read_only||!1,value:t,defaultOptions:u,onKeyDown:it,loadOptions:function(e){return"multitypehead_api"===l.type?n(e):a(e,o[l.key])},onFocus:function(){"multitypehead_api"===l.type?n(null,o[l.key],i):a(null,o[l.key])},onChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];switch(t[1].action){case"select-option":o[l.key]?o[l.key].push(t[1].option.value):o[l.key]=[t[1].option.value];break;case"pop-value":case"remove-value":o[l.key]=_.filter(o[l.key],(function(e){return e!==t[1].removedValue.value}));break;case"clear":o[l.key]=[]}p(o[l.key],l)}}):r.a.createElement(v.Preloader,null)})),ct=function(e,t,n,a,o,i,l,c,u,s,d){var p=[];return e.forEach((function(f,m){if("__checker__"==f.key&&p.push({dataField:f.key,text:f.title,title:f.title,editable:!1,headerFormatter:function(){return r.a.createElement(v.Checkbox,{onChange:function(n){var a=e.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key,r=[];n.target.checked&&t.forEach((function(e){r.push(e[a])})),c(r)}})}}),f.visible&&0===a.filter((function(e){return e===f.title})).length&&"__checker__"!==f.key){var g=f.classname+" "+(f.editable?"editable":"");p.push({dataField:f.key,text:f.title,title:function(){return f.title},events:{onDoubleClick:function(a,r,l,c,u){var s=_.find(n,(function(e){return!0===e.ismain&&C(t[u],e.act_visible_condition,o.inputs)}));if(s)switch(s.type){case"Link":L(t[u],s,e,o.inputs,i)}}},headerTitle:!0,editable:f.editable,style:{maxWidth:f.width,minWidth:f.width,padding:"5px 5px"},searchable:!0,headerStyle:{width:f.width,maxWidth:f.width,minWidth:f.width},classes:"__actions__"===f.col?"tab_actions":g,sort:l,sortCaret:function(e,t){if("rownum"!==t.dataField&&"__actions__"!==t.dataField){if(!e)return r.a.createElement(v.Icon,{style:{fontSize:12,display:"inline",marginLeft:3}},"unfold_more");if("asc"===e)return r.a.createElement(v.Icon,{style:{fontSize:12,display:"contents",marginLeft:3}},"expand_less");if("desc"===e)return r.a.createElement(v.Icon,{style:{fontSize:12,display:"contents",marginLeft:3}},"expand_more")}return null},onSort:function(e,t){var n=o.inputs,a="";"desc"===t&&(a=t);var r=[{col:f.col,desc:a,fn:f.fn,fncols:f.fncolumns,related:f.related,t:f.t}];n.orderby=r,o.inputs=n,u({params:o},d(d))},editorRenderer:function(n,a,i,l,c,d){var p=t[c],m=p[l.dataField];switch(f.type){case"text":case"number":case"password":return r.a.createElement("input",{type:f.type,value:m,style:{border:"1px solid #9e9e9e",fontSize:14,height:"1.5rem",paddingLeft:"8px",margin:"0 0 0 0",padding:"0 0 0 0"},onChange:function(e){t[c][l.dataField]=e.target.value,u({listData:t})},onBlur:function(e){return s(e.target.value,f,c)}});case"checkbox":return r.a.createElement(v.Checkbox,{key:f.key,id:f.key,indeterminate:null==m,checked:m,onChange:function(e){console.log("EEEE:",e.target.value);var n=m;null==n||!1===n?n=!0:!0===n&&(n=!1),t[c][l.dataField]=n,s(n,f,c),u({listData:t})}});case"date":return r.a.createElement("input",{type:"date",style:{border:"1px solid #9e9e9e",fontSize:14,height:"1.5rem",paddingLeft:"8px",margin:"0 0 0 0",padding:"0 0 0 0"},value:m?D(m,"date"):null,onChange:function(e){t[c][l.dataField]=e.target.value,s(e.target.value,f,c),u({listData:t})}});case"datetime":return r.a.createElement("input",{type:"datetime-local",style:{border:"1px solid #9e9e9e",fontSize:14,height:"1.5rem",paddingLeft:"8px",margin:"0 0 0 0",padding:"0 0 0 0"},value:m?D(m,"datetime"):null,onChange:function(e){t[c][l.dataField]=e.target.value,s(e.target.value,f,c),u({listData:t})}});case"select":case"select_api":return r.a.createElement(Me,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:f,data:p,inputs:o.inputs,onChangeInput:function(e){t[c][l.dataField]=e,u({listData:t}),s(e,f,c)},location:location,globalConfig:e});case"multiselect":case"multiselect_api":return r.a.createElement(ze,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:f,data:p,inputs:o.inputs,onChangeInput:function(e){t[c][l.dataField]=e,s(e,f,c),u({listData:t})},location:location,globalConfig:e});case"typehead":case"typehead_api":return r.a.createElement(Qe,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:f,data:p,inputs:o.inputs,onChangeInput:function(e){t[c][l.dataField]=e,s(e,f,c),u({listData:t})},location:location,globalConfig:e});case"multitypehead":case"multitypehead_api":return r.a.createElement(lt,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:f,data:p,inputs:o.inputs,onChangeInput:function(e){t[c][l.dataField]=e,s(e,f,c),u({listData:t})},location:location,globalConfig:e});default:return r.a.createElement("input",{value:m,onChange:function(e){t[c][l.dataField]=e.target.value,u({listData:t})},onBlur:function(e){return s(e.target.value,f,c)}})}}})}})),p};function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=[],vt=((LaNg||{}).Message||{})[LnG||"EN"]||"Message",Et=((LaNg||{}).Error||{})[LnG||"EN"]||"Error",Ot=((LaNg||{}).unknownError||{})[LnG||"EN"]||"Unknown error",jt=(((LaNg||{}).wsError||{})[LnG||"EN"],Object(g.a)(Object(g.e)((function(e){var t=e.inState,n=void 0===t?{filter:!1,expandState:[],collapseAll:!0,localChangeCollapse:!1,localActiveKey:[],loading:!1,listData:[],listColumns:[],listConfig:[],listActions:[],pagination:{pagenum:1,pagesize:20,foundcount:0},isorderby:!1,allProps:[],checked:[],ready:!1,filters:{},params:{inputs:{}},settings_views:JSON.parse(localStorage.getItem("usersettings"))||{views:{}}}:t;return{filter:n.filter,expandState:n.expandState,collapseAll:n.collapseAll,localChangeCollapse:n.localChangeCollapse,localActiveKey:n.localActiveKey,loading:n.loading,listData:n.listData,listColumns:n.listColumns,listConfig:n.listConfig,listActions:n.listActions,pagination:n.pagination,allProps:n.allProps,checked:n.checked,ready:n.ready,filters:n.filters,params:n.params,settings_views:n.settings_views}}),{set_state:function(e){return function(t){var n=ht({},e);return d.a.keys(t).map((function(e){n[e]=t[e]})),n}},changeFilter:function(e){return function(t){return ht(ht({},e),{},{filter:t})}},changeLoading:function(e){return function(t){return ht(ht({},e),{},{loading:t})}},changePagination:function(e){return function(t){return ht(ht({},e),{},{pagination:t})}},changeChecked:function(e){return function(t){return ht(ht({},e),{},{checked:t})}},changeFilters:function(e){return function(t){return ht(ht({},e),{},{filters:t})}},changeParams:function(e){return function(t){return ht(ht({},e),{},{params:t})}}}),Object(g.c)({get_params:function(e){return function(t){var n={},a=t||e;return e.compo?(n.inputs=y.a.parse(a.location.search),n.search=a.location.search,n.path=a.path,n.id_page=a.path):(n.inputs=y.a.parse(a.location.search),n.search=a.location.search,n.path=a.match,n.id_page=a.match.params.id_page),ht({},n)}}}),Object(g.c)({getData:function(e){var t=e.pagination,n=e.print,a=e.filters,r=e.location,o=(e.history,e.basicConfig),i=(e.changeBasicConfig,e.get_params,e.set_state),l=(e.changeListConfig,e.changeLoading),c=e.params,u=(e.changeListData,e.changeListColumns,e.changePagination),s=e.compo,d=e.path,p=e.match,f=(e.changeReadyTable,e.changeReady);e.changeAllProps,e.changeListActions,e.changeIsOrderBy,e.expand,e.changeTS;return function(e,g){l(!0);ht({},o);var h=((JSON.parse(localStorage.getItem("usersettings"))||{views:{}}).views||{})[r.pathname]||{};h&&h.pagesize&&(t.pagesize=h.pagesize);new Promise((function(r,o){var h=s?d:p.params.id;j("POST",{pagination:t,print:n,filters:g||a,inputs:c.inputs},"/schema/list?path="+h,(function(n){if(n={data:n},s||c.inputs._doctitle_?c.inputs._doctitle_&&(document.title=c.inputs._doctitle_):document.title=n.data.title,t.foundcount=n.data.foundcount,n.data.subscrible){var a=document.location.href.split("//")[1];a=(-1!==document.location.href.split("//")[0].indexOf("s")?"wss":"ws")+"://"+(a=a.split("/")[0])+"/ws";var o=new WebSocket(a);bt.push(o),o.onopen=function(){var e=(n.data.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.related}))[0]||{}).key,t=[];n.data.data.forEach((function(n){return t.push(n[e])})),o.send(JSON.stringify({viewpath:h,ids:t}))},o.onclose=function(e){e.wasClean?console.log("clear closed (list)"):console.log("ws message close failed")},o.onmessage=function(t){var n=JSON.parse(t.data);n.error?console.log("ws message send error"):n.forEach((function(t){m.NotificationManager.success(vt,t.notificationtext,1e3),j("POST",{id:t.id},"/api/setsended"),e(e)}))},o.onerror=function(e){console.log("ws message send error")}}if(Array.isArray(n.data.config)){var d=[];n.data.config.forEach((function(e,t){var n=ht({},e),a={title:n.title,onHeaderCell:function(e){return{onClick:function(){!1===e.sortOrder&&(e.sortOrder="ascend",f(!0))}}},dataIndex:n.key,sorter:n.sorter,sortOrder:n.sortOrder,width:n.width?100:n.width};0===t&&(a.key="key"),n.visible&&d.push(a)})),i({listColumns:d})}var p=n.data.data.map((function(e){return e.key=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),e}));i({origin:ht({},n.data)}),n.data.acts.filter((function(e){return e.isforevery&&"Expand"!==e.type&&"onLoad"!==e.type})).length>0&&n.data.config.push({col:"__actions__",title:"",key:"__actions__",visible:!0,editable:!1}),n.data.pagination&&n.data.config.unshift({col:"rownum",title:"#",key:"rownum",visible:!0,editable:!1}),n.data.checker&&n.data.config.unshift({col:"checker",title:"",key:"__checker__",visible:!0,editable:!1}),i({origin:ht({},n.data),allProps:n.data,listData:p,listConfig:n.data.config,listActions:n.data.acts,isorderby:n.data.isorderby}),u(t),l(!1),r()}),(function(e){}))})).then((function(){i({ready:!0})}))}}}),Object(g.c)({handlerPaginationPage:function(e){var t=e.getData,n=e.pagination,a=e.changePagination,r=e.location;return function(e,o){n.pagenum=e,n.pagesize=o;var i=JSON.parse(localStorage.getItem("usersettings"))||{views:{}};i.views&&i.views[r.pathname]?i.views[r.pathname].pagesize=o:i.views&&!i.views[r.pathname]&&(i.views[r.pathname]={pagesize:o}),w(i),localStorage.setItem("usersettings",JSON.stringify(i)),a(n),t(t)}},handleTableChange:function(e){var t=e.changeReady,n=e.getData,a=e.params,r=e.changeParams,o=e.allProps;return function(e,i,l){t(!1);var c=o.config.filter((function(e){return e.title===l.field}))[0],u=a.inputs,s=[];l.order&&("descend"===l.order?s.push({col:c.col,t:c.t,related:c.related||0,desc:"desc",over:!0,fn:c.fn,fncols:c.fncolumns}):s.push({col:c.col,t:c.t,related:c.related||0,desc:"",fn:c.fn,fncols:c.fncolumns})),u.orderby=s,r(ht({},a)),n(n)}}}),Object(g.c)({onSaveRow:function(e){var t=e.getData,n=(e.onChangeData,e.set_state,e.listData),a=e.origin,r=(e.global,e.history),o=e.compo;return function(e,i,l){var c=d.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key,u=n[l],s={};new Promise((function(t,n){s.tablename=a.table,u[c]&&(s.id=u[c]),s.config=ht({},i),s.value=e,s.viewid=a.viewid,i.related?(s.relatetable=s.tablename,s.tablename=i.table):s.tablename=a.table,t(s)})).then((function(e){j("POST",e,"/api/saverow",(function(e){e.outjson;if(t(t),m.NotificationManager.success(vt,"OK",1e3),i.updatable&&o){var n="___hashhhh___=0.11";n=-1===location.search.indexOf("?")?"?"+n:"&"+n,r.push(location.pathname+location.search+n+location.hash)}}))})).catch((function(e){e&&(console.log("Unknown error:",e),m.NotificationManager.error(Et,e.response?e.response.data.message:Ot,1e3))}))}}}),Object(g.c)({onChangeInput:function(e){var t=e.onSaveRow;return function(e,n,a){var r=e&&e.target?e.target.value:e;t(r,n,a)}},onChangeCollapse:function(e){var t=e.set_state;return function(e){t({localChangeCollapse:!0,localActiveKey:e})}}}),Object(g.b)({componentWillMount:function(){var e=this.props,t=e.pagination,n=e.location,a=e.params,r=e.match,o=e.search,i=e.path,l=e.compo,c=e.getData,u=e.changeParams,s=e.set_state,d=e.settings_views,p=e.changeFilters,f={};l?(a.path=i,a.inputs=y.a.parse(n.search),a.search=o,t.pagenum=1,f=((d.views||{views:{}})[i]||{}).filters||{}):(a.inputs=y.a.parse(n.search),a.search=n.search,a.path=r.url,f=((d.views||{views:{}})[r.url]||{}).filters||{}),s({type_list:n.pathname.split("/")[1]}),u(ht(ht({},a),t)),p(f),c(c,f)},componentWillUnmount:function(){bt.forEach((function(e){return e.close()}))},componentDidUpdate:function(e){var t=this.props,n=t.btnCollapseAll,a=t.set_state;e.btnCollapseAll!==n&&a({localChangeCollapse:!1,collapseAll:n})},componentWillUpdate:function(e){var t=this.props,n=(t.match,t.getData),a=(t.changeListColumns,t.changeReady,t.set_state),r=(t.filters,t.changeFilters),o=(t.path,t.compo),i=t.params,l=t.changeParams,c=t.pagination;e&&(o?i.path===e.params.path&&this.props.location.search===e.location.search||(i.inputs=y.a.parse(e.location.search),i.search=e.location.search,i.path=this.props.path,c.pagenum=1,a({ready:!1,listColumns:{}}),r({}),l(ht(ht({},i),c)),n(n,{})):this.props.match.params.id!==e.match.params.id&&(a({ready:!1}),c.pagenum=1,i.inputs=y.a.parse(e.location.search),r({}),n(n,{}),a({listColumns:{}})))}})));var kt=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),_t=((LaNg||{}).tCount||{})[LnG||"EN"]||"count",wt=jt((function(e){var t=e.origin,n=void 0===t?{}:t,a=e.history,o=e.ready,i=e.allProps,l=e.getData,c=e.basicConfig,s=e.pagination,p=e.handlerPaginationPage,f=e.filters,m=e.filter,g=e.changeFilter,h=e.isorderby,y=e.listData,b=void 0===y?[]:y,E=e.listColumns,O=e.listActions,j=e.listConfig,k=e.params,_=e.changeFilters,w=e.compo,P=e.loading,N=e.changeLoading,D=(e.ts,e.type_list,e.handlerGetTable),x=e.changeTS,I=e.set_state,A=e.location,T=e.get_params,M=e.onChangeInput,F=e.expandState,G=e.collapseAll,R=e.onChangeCollapse,z=e.localChangeCollapse,B=(e.localActiveKey,e.changePagination),W=e.changeChecked,J=e.checked;if(o){var K=(((JSON.parse(localStorage.getItem("usersettings"))||{views:{}}).views||{})[A.pathname]||{}).hide||[];var H=function(e,t,n,a,o,i,l,c,u,s,d,p,f,m,g,h,y,b,E){return r.a.createElement(v.Row,null,r.a.createElement(v.Col,{s:11},e.pagination?r.a.createElement(v.Row,null,r.a.createElement(v.Col,{s:1},r.a.createElement(fe.a,{styles:{menuPortal:function(e){return dt(dt({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return dt(dt({},e),{},{padding:4})},clearIndicator:function(e){return dt(dt({},e),{},{padding:4})},control:function(e){return dt(dt({},e),{},{minHeight:0})},input:function(e){return dt(dt({},e),{},{padding:0})},valueContainer:function(e){return dt(dt({},e),{},{padding:"0 8px",color:"#000000"})},placeholder:function(e){return dt(dt({},e),{},{color:"#cdbfc7"})}},options:[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"},{value:100,label:"100"}],value:{value:c.pagesize,label:c.pagesize},onChange:function(e){return d(c.pagenum,e.value)}})),r.a.createElement("input",{value:c.pagenum||1,style:{width:"65px",height:"2rem",border:"1px #9e9e9e solid",textAlign:"center",borderRadius:"5px",margin:"0 0 0 0"},type:"number",onChange:function(e){return d(e.target.value,c.pagesize)}}),r.a.createElement("span",{style:{fontSize:"16px"}},"  ",Math.round(c.foundcount/c.pagesize))):null),1==e.rmnu||e.filters.filter((function(e){return"1"==e.position})).length>0?r.a.createElement(v.Col,{s:1},r.a.createElement(v.Button,{waves:"light",className:u&&Object.keys(u).length>0?"red":"blue",small:!0,floating:!0,style:{float:"right"},icon:r.a.createElement(v.Icon,null,"settings_input_component"),onClick:function(){return m(!l)}}),r.a.createElement(Ce,{getData:f,allProps:e,path:t.pathname,filter:l,changeFilter:m,filters:u,changeFilters:g,listConfig:n,listColumns:a,changeLoading:h,arr_hide:o,handlerGetTable:y,changeTS:b,basicConfig:i,pagination:c,changePagination:p,params:E})):null)}(i,A,j,E,K,c,m,s,f,0,p,B,l,g,_,N,D,x,k),V=function(e,t,n,a,o,i,l,c,s,d,p,f){var m=[];return e.forEach((function(e,g){var h={};Object.keys(e).forEach((function(n){var a=t.filter((function(e){return e.key===n}))[0],o=e[n],i=function(e,t){var n;return t.filter((function(e){return"colorrow"===e.type})).length>0&&(n=t.filter((function(e){return"colorrow"===e.type}))[0].key),e[n]};if(a&&a.visible)if("images"===a.type||"gallery"===a.type)h[n]=r.a.createElement(U,{files:o||[]});else if("image"===a.type)h[n]=r.a.createElement("img",{width:150,style:{cursor:"pointer"},onClick:function(){return window.open(u._url+((o||[])[0]||{}).uri)},src:u._url+((o||[])[0]||{}).uri});else if("file"===a.type||"files"===a.type||"filelist"===a.type)h[n]=r.a.createElement("ul",null,(o||[]).map((function(e){return r.a.createElement("li",{key:e.uri},r.a.createElement("div",null,r.a.createElement("div",null,e.filename),r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.uri},"download"))))})));else if("link"===a.type)h[n]=r.a.createElement("div",null,"object"!==ut(o)?r.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"}," ",o):r.a.createElement("a",{href:(o||{link:""}).link,target:(o||{target:null}).target||"_blank",rel:"noopener noreferrer"},(o||{title:""}).title));else if("color"===a.type||"colorpicker"===a.type)h[n]=r.a.createElement("div",{style:{width:20,height:20,backgroundColor:o}});else if("select"===a.type||"typehead"===a.type)if(a.relation&&a.relationcolums&&a.relationcolums.length>0&&a.relationcolums.filter((function(e){return"id"!==e.value})).length>0&&a.relationcolums.filter((function(e){return"id"!==e.value}))[0].value){var l=a.relationcolums.filter((function(e){return"id"!==e.value}))[0].value,c=(t.filter((function(e){return e.col===l&&e.table===a.relation}))[0]||{}).key;o=e[c],h[n]=r.a.createElement("div",{style:{color:i(e,t)}},null!=o?"object"===ut(o)?r.a.createElement("span",null,JSON.stringify(o)):o.toString().split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))})):"")}else h[n]=r.a.createElement("div",{style:{color:i(e,t)}},null!=o?"object"===ut(o)?r.a.createElement("span",null,JSON.stringify(o)):o.toString().split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))})):"");else"array"===a.type?h[n]=r.a.createElement("div",null,o.length>0?r.a.createElement(v.Collapsible,null,r.a.createElement(v.CollapsibleItem,{header:a.title},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(o[0]||{}).map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",{key:JSON.stringify(e)},Object.keys(e).map((function(t){return r.a.createElement("td",{key:t},e[t])})))})))))):r.a.createElement("div",null)):"checkbox"===a.type?h[n]=r.a.createElement("div",null,r.a.createElement(v.Checkbox,{key:a.key+n.toString(),id:a.key+n.toString(),disabled:!0,indeterminate:null==o,checked:o})):"innerHtml"===a.type?h[n]=r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}})):h[n]=r.a.createElement("div",{style:{color:i(e,t)}},null!=o?"object"===ut(o)?r.a.createElement("span",null,JSON.stringify(o)):o.toString().split("\n").map((function(e,t){return r.a.createElement("span",{key:t}," ",e,r.a.createElement("br",null))})):"")}));var y=d();h.__actions__=r.a.createElement(Lt,{actions:n||[],origin:o||{},data:e||{},params:y,history:i,location:l,getData:function(){return s(s,a)},type:"table",checked:c,setLoading:f}),h.id=g;h.__checker__=r.a.createElement("div",{key:JSON.stringify(e)+"chkckckc"},r.a.createElement(v.Checkbox,{onChange:function(n){var a=t.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key,r=e[a],o=c;!0===n.target.checked?o.push(r):o=o.filter((function(e){return e!==r})),p(o)},id:e.rownum,checked:function(e){var n=t.filter((function(e){return"id"===e.col.toLowerCase()&&!e.related}))[0].key;return c.filter((function(t){return e[n]===t})).length>0}(e)})),m.push(h)})),m}(b,j,O,f,n,a,A,J,l,T,W,N),Y=ct(j,b,O,K,k,a,h,W,I,M,l),q=function(e,t,n,a,o,i,l){return{renderer:function(i,l){var c=o.acts.filter((function(n){return"Expand"===n.type&&C(e[l],n.act_visible_condition,t.inputs)}))[0],u={};if(c)switch(u={search:S(e[l],c,n,a),pathname:c.act},c.act.split("/")[1]){case"list":return r.a.createElement("div",null,r.a.createElement(wt,{compo:!0,location:u,history:a,path:c.act.split("/")[2],id_page:c.act.split("/")[2]}));case"getone":return r.a.createElement("div",null,r.a.createElement(pn,{compo:!0,location:u,history:a,path:c.act.split("/")[2],id_page:c.act.split("/")[2]}))}},showExpandColumn:!0,expandByColumnOnly:!0,expanded:i,onExpand:function(e,t,n,a){if(o.acts.filter((function(e){return"Expand"===e.type}))[0]){var r=ft(i),c=e.id,u=r.findIndex((function(e){return e===c}));t?!r.includes(c)&&r.push(e.id):r.splice(u,1),l({expandState:r})}}}}(b,k,j,a,n,F,I);function $(){return r.a.createElement(r.a.Fragment,null,w?r.a.createElement(Lt,{key:"sd1",actions:n.acts,origin:n,data:b,params:k,history:a,location:A,getData:l,checked:J,setLoading:N}):null,H,r.a.createElement("div",{key:"sd2",className:"size_table"},P?r.a.createElement(v.Preloader,{id:"prel",size:"big",active:!0,flashing:!0}):null,r.a.createElement("div",null,"tiles"===n.viewtype?r.a.createElement("div",{className:i.classname&&""!==i.classname?i.classname:"fr_tiles"},(o?V:[]).map((function(e,t){return r.a.createElement(v.Card,{key:"tile_"+t,className:"tiles_el"},r.a.createElement(v.Col,{s:12},j.filter((function(e){return"rownum"!==e.key})).map((function(n,o){return!0===n.visible?r.a.createElement("div",null," ","__actions__"!==n.key?r.a.createElement(v.Col,{s:n.width||12,key:"lfa_"+o,className:n.classname,style:{borderBottom:"1px dashed #ececec"},onDoubleClick:function(){var n=d.a.find(O,(function(t){return!0===t.ismain&&C(e,t.act_visible_condition,k.inputs)}));if(n)switch(n.type){case"Link":L(b[t],n,j,k.inputs,a)}}},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,n.title+": ")),r.a.createElement("div",null,e[n.key]))):r.a.createElement(v.Col,{s:12,key:"lfa_"+o,style:{borderBottom:"1px dashed #ececec"}},r.a.createElement("div",{className:"tiles_actions"},e[n.key]))):null}))))}))):r.a.createElement(r.a.Fragment,{key:kt},r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement(Pe.a,{classes:i.classname&&""!==i.classname?i.classname:"table",keyField:"id",data:V,columns:Y,expandRow:!!n.acts.filter((function(e){return"Expand"===e.type}))[0]&&q,noDataIndication:function(){return r.a.createElement("label",{style:{color:"#c1bbbb"}},"...empty...")},cellEdit:Ne()({mode:"click",blurToSave:!0})}),r.a.createElement("label",{style:{fontSize:"9px"}},_t," : ",i.foundcount))))),H)}return r.a.createElement(v.Collapsible,{accordion:!0,key:i.title+"rrr"},r.a.createElement(v.CollapsibleItem,{node:"div",onClick:R,header:i.title.toUpperCase(),key:i.title,expanded:G},r.a.createElement("div",{key:"s3",className:"f_content_app",style:G||z?{}:{display:"none"}},r.a.createElement("h5",null,k.inputs._sub_title),i.filters.filter((function(e){return 2===e.position})).length>0?r.a.createElement(Ce,{getData:l,allProps:i,path:A.pathname,filter:m,changeFilter:g,filters:f,changeFilters:_,listConfig:j,listColumns:E,changeLoading:N,arr_hide:K,handlerGetTable:D,changeTS:x,basicConfig:c,pagination:s,changePagination:B,styleType:"up",params:k}):null,w?null:r.a.createElement(pe,{key:"s1",history:a,title:""},r.a.createElement(Lt,{actions:n.acts,origin:n,data:b,params:k,history:a,location:A,getData:l,checked:J,setLoading:N})),w?r.a.createElement("div",{className:"f_content_app"}," ",$()," "):r.a.createElement(v.Card,{key:"s2",size:"small",style:{margin:w?"":"10px"}},$()))))}return r.a.createElement(v.Row,{style:{textAlign:"center",background:"rgba(0, 0, 0, 0.05)",borderRadius:"4px",marginBottom:"20px",padding:"150px 30px",margin:"20px 0"}}," ",r.a.createElement(v.Preloader,{active:P})," ")})),Ct=((LaNg||{}).Error||{})[LnG||"EN"]||"Error",St=((LaNg||{}).signError||{})[LnG||"EN"]||"sign error",Pt=((LaNg||{}).Message||{})[LnG||"EN"]||"Message",Lt=Object(g.a)(Object(g.c)({SIGN_API:function(e){var t=e.getData,n=e.origin,a=void 0===n?{}:n,r=e.data,o=e.location,i=e.setLoading,l=e.checked;return function(e){var n=a.config,c=o?y.a.parse(o.search):null,u={},s=a.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.related}))[0].key;new Promise((function(t,a){var o=localStorage.getItem("thumbprint");e.parametrs&&!_.isEmpty(e.parametrs)?(e.parametrs.forEach((function(e){if(e.paramcolumn)r&&r[0]&&(u[e.paramtitle]=r[0][(n.filter((function(t){return t.col===e.paramcolumn.label||t.title===e.paramcolumn.value}))[0]||{}).key]),!u[e.paramtitle]&&r&&(u[e.paramtitle]=r[(n.filter((function(t){return t.col===e.paramcolumn.label||t.title===e.paramcolumn.value}))[0]||{}).key]),u[e.paramtitle]||(u[e.paramtitle]=c[e.paramcolumn.value]);else if(e.paraminput)u[e.paramtitle]=c[e.paraminput];else{var t=e.paramconst;"_checked_"===t&&(t=JSON.stringify(l||[])),u[e.paramtitle]=t}})),e.parametrs.filter((function(e){return e.paramt&&("sign"===e.paramt||"encode_and_sign"===e.paramt)})).length>0?e.parametrs.filter((function(e){return e.paramt&&("sign"===e.paramt||"encode_and_sign"===e.paramt)})).forEach((function(e){var n=u[e.paramtitle];"encode_and_sign"===e.paramt&&(n=window.btoa(n)),mdlp.signRequest(n,o).then((function(n){console.log("sig:",n),u[e.paramtitle]=n,t(u)})).catch((function(e){m.NotificationManager.error(Ct,St+e,5e3),a(e)}))})):t(u)):t(u)})).then((function(n){i(!0),j(e.actapitype,n,e.act,(function(n){i(!1),n&&n.message&&m.NotificationManager.success(Pt,n.message,1e3),n&&n._redirect&&(window.location.href=n._redirect),e.isforevery?t(t,{}):t(r[s],t)}),(function(e){i(!1)}))})).catch((function(e){i(!1),console.log("promise parambuild err: ",e)}))}}}),Object(g.c)({goLink:function(e){var t=e.data,n=e.origin,a=e.location,r=e.history,o=e.checked;return function(e){var i="";i=e.isforevery?S(t,e,n.config,a?y.a.parse(a.search):{},o):P(t,e,n.config,a?y.a.parse(a.search):{},o),r.push(e.act+i)}},goLinkTo:function(e){var t=e.data,n=e.origin,a=e.location,r=(e.history,e.checked);return function(e){var o="";o=e.isforevery?S(t,e,n.config,a?y.a.parse(a.search):{},r):P(t,e,n.config,a?y.a.parse(a.search):{},r),window.open(e.act+o)}},onCallApi:function(e){e.getData,e.origin,e.data,e.location,e.params,e.checked;var t=e.setLoading,n=e.SIGN_API;return function(e){t(!0),n(e),t(!1)}},onDelete:function(e){var t=e.getData,n=e.data,a=e.origin,r=e.setLoading;return function(){r(!0);var e=_.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;j("DELETE",{tablename:a.table,id:n[e],viewid:a.viewid||a.id},"/api/deleterow",(function(e){t(t)}),(function(e){r(!1)}))}},onModal:function(e){var t=e.getData,n=e.origin,a=e.data,o=e.location,i=e.history;return function(e){var l=e.act.split("/")[1],c=S(a,e,n.config,i);e.isforevery||(c=P(a,e,n.config,o?y.a.parse(o.search):{}));var u={search:c,pathname:e.act},s=(e.isforevery||e.title,n.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.related}))[0].key);Object(de.confirmAlert)({title:r.a.createElement("h4",null,e.title),childrenElement:function(){return r.a.createElement("div",null,function(e,t,n){switch(e){case"list":case"tiles":return r.a.createElement("div",null,r.a.createElement(wt,{compo:!0,location:t,history:i,path:n.act.split("/")[2],id_page:n.act.split("/")[2]}));case"getone":return r.a.createElement("div",null,r.a.createElement(pn,{compo:!0,location:t,history:i,path:n.act.split("/")[2],id_page:n.act.split("/")[2]}));default:return null}}(l,u,e))},buttons:[{label:r.a.createElement(b.a,{type:"close"}),onClick:function(){e.isforevery?t(t,{}):t(a[s],t)}}]})}},goBack:function(e){var t=e.history;return function(){t.goBack()}}}))((function(e){var t=e.actions,n=e.data,a=e.params,o=(e.loading,e.type),i=void 0===o?"form":o,l=(e.checked,e.onSave),c=e.goBack,u=e.goLink,s=e.goLinkTo,d=e.onDelete,p=e.onCallApi,f=(e.popup,e.calendar),m=e.onModal;return f&&(i="table"),_.filter(t,(function(e){if(e.isforevery=e.isforevery||!1,e.isforevery=_.isNumber(e.isforevery)?1===e.isforevery:e.isforevery,e.isforevery===("table"===i)&&C(n,e.act_visible_condition,a.inputs))return e})).filter((function(e){return"onLoad"!==e.type&&"Expand"!==e.type})).map((function(e,t){var n="table"!==i?r.a.createElement("span",null,e.title):null,a=(e.title,function(e){switch(e.type){case"Link":u(e);break;case"LinkTo":s(e);break;case"Back":c(e);break;case"API":p(e);break;case"Save":l(e);break;case"Save&Redirect":l((function(){return u(e)}));break;case"Delete":d(e);break;case"Modal":m(e);break;case void 0:u(e)}}),o=function(e){var t=e.el;return r.a.createElement("button",{className:t.classname+" m-btn",size:"small",href:"#modal1",title:t.title,tooltip:"ok",style:{marginLeft:4},onClick:function(){(!0!==t.actapiconfirm&&"Delete"!==t.type||confirm(t.title+"?"))&&a(t)}},r.a.createElement(b.a,{type:t.icon}),n)};return r.a.createElement(o,{confirmed:!1,el:e})}))}));function Nt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=[],Mt=((LaNg||{}).Error||{})[LnG||"EN"]||"Error",Ft=((LaNg||{}).unknownError||{})[LnG||"EN"]||"Unknown error",Gt=((LaNg||{}).wsError||{})[LnG||"EN"]||"ws error",Rt=((LaNg||{}).Message||{})[LnG||"EN"]||"Message",Ut=Object(g.a)(Object(g.e)((function(e){var t=e.inState,n=void 0===t?{data:{},origin:{},id_title:null,carouselRef:r.a.createRef(),initIndex:0,collapseAll:!0,localChangeCollapse:!1,localActiveKey:[]}:t;return{data:n.data,origin:n.origin,id_title:n.id_title,carouselRef:n.carouselRef,initIndex:n.initIndex,collapseAll:n.collapseAll,localChangeCollapse:n.localChangeCollapse,localActiveKey:n.localActiveKey}}),{set_state:function(e){return function(t){var n=It({},e);return d.a.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({get_params:function(e){return function(t){var n={},a=t||e;return e.compo?(n.inputs=y.a.parse(a.location.search),n.search=a.location.search,n.path=a.path,n.id_page=a.path):(n.inputs=y.a.parse(a.location.search),n.search=a.location.search,n.path=a.match,n.id_page=a.match.params.id_page),It({},n)}},setLoading:function(e){e.loading;var t=e.set_state;return function(e){t({loading:e})}},onChangeData:function(e){var t=e.set_state,n=e.data,a=void 0===n?{}:n;return function(e,n){var r,o=e,i=e&&e.target&&e.target.value;null!==e&&(o=e.target?e.target.value:e),e&&e.target&&(o=""===o?null:o),(r=It({},a))[n.key]=o,""!==o&&""!==i||(r[n.key]=null),t({data:It({},r)})}}}),Object(g.c)({getData:function(e){var t=e.get_params,n=e.origin,a=e.set_state,r=e.compo,o=e.setLoading;return function(e,i){var l=t();if(e){var c=d.a.filter(n.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;l.inputs[c]=e}j("POST",{inputs:l.inputs},"/schema/getone?path=".concat(l.id_page),(function(e){r||l.inputs._doctitle_?l.inputs._doctitle_&&(document.title=l.inputs._doctitle_):document.title=e.title;var t,n=e,c=y.a.parse(location.search),u={};if(c.relation&&(t=c.relation.split(",")),!c.relation&&l.inputs.relation&&(t=l.inputs.relation.split(",")),t||(t=[]),e.subscrible){var s=document.location.href.split("//")[1];s=(-1!==document.location.href.split("//")[0].indexOf("s")?"wss":"ws")+"://"+(s=s.split("/")[0])+"/ws";var d=new WebSocket(s);Tt.push(d);var p=(e.config.filter((function(e){return"ID"===e.col.toUpperCase()&&!e.related}))[0]||{}).key;d.onopen=function(){var t=[];e.data.forEach((function(e){return t.push(e[p])})),d.send(JSON.stringify({viewpath:l.id_page,ids:t}))},d.onclose=function(e){e.wasClean?console.log("clear closed (getOne)"):console.log("ws close failed")},d.onmessage=function(t){var n=JSON.parse(t.data);n.error?console.log("ws message failed"):n.forEach((function(t){m.NotificationManager.success(Rt,t.notificationtext),j("POST",{id:t.id},"/api/setsended"),e.data[0]&&i(e.data[0][p],i)}))},d.onerror=function(e){m.NotificationManager.error(Mt,Gt),console.log("ws error:",e)}}t.forEach((function(e){u[e]=c[e]||l.inputs[e]}));var f={};f.viewid=n.id,f.tablename=n.table,f.relation=c.relation||l.inputs.relation||null,f.relationobj=u||{},a({data:It({},e.data[0]),origin:It({},e),global:It({},f),loading:!1}),o(!1)}),(function(e){o(!1)}))}}}),Object(g.c)({onSaveRow:function(e){var t=e.getData,n=e.onChangeData,a=e.set_state,r=e.data,o=e.origin,i=e.global,l=void 0===i?{}:i,c=e.compo,u=e.history,s=e.get_params;return function(e,i){var p=d.a.filter(o.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;if("form not mutable"===o.viewtype||"api_form"===o.viewtype)n(e,i);else if("form full"===o.viewtype){new Promise((function(t,n){var a=It({},l);a.tablename=o.table,r[p]&&(a.id=r[p]),a.config=It({},i),a.value=e,i.related&&(a.relatetable=a.tablename,a.tablename=i.table),t(a)})).then((function(n){j("POST",n,"/api/saverow",(function(n){var l=n.outjson;i.related?i.updatable&&t(r[p]||l.id,t):!r[p]&&!l||i.updatable?(r[p]||(r[p]=l.id),t(r[p]||l.id,t)):(l.id?(r[p]=l.id,r[i.key]=e):r=l,a({data:It({},r)}));var f=s(),g=d.a.filter(o.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;if(i.updatable&&c&&(r[p]===f.inputs[g]||null===r[p]||void 0===r[p])){var h="___hashhhh___=0.11";h=-1===location.search.indexOf("?")?"?"+h:"&"+h,u.push(location.pathname+location.search+h+location.hash)}m.NotificationManager.success(Rt,"OK")}),(function(e){}))})).catch((function(e){e&&m.NotificationManager.error(Mt,e.response?e.response.data.message:Ft)}))}}},onSubmitState:function(e){e.set_state;var t=e.data,n=void 0===t?{}:t,a=e.origin,r=void 0===a?{}:a;return function(e,t){d.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;var a=d.a.keys(r.data[0]),o={};a.map((function(e){r.data[0][e]!==n[e]&&(o[e]=n[e])}))}}}),Object(g.c)({onChangeInput:function(e){var t=e.onSaveRow;return function(e,n){var a=e;null!=e&&(a=e.target?e.target.value:e),void 0!==e&&""!==e||(a=null),t(a,n)}},onRemoveImg:function(e){e.data;var t=e.onSaveRow;return function(e){d.a.remove(row_data,(function(t){return t.uri===e.file_url})),t(row_data,row)}},onRemoveFile:function(e){e.data;var t=e.onSaveRow;return function(e,n,a){d.a.remove(e,(function(e){return e.uri===n})),t(e,a)}},onUploadFileChange:function(e){e.set_state;var t=e.data,n=e.origin,a=e.onSaveRow;return function(e,r,o){if(e.target&&e.target.files.length>0){var i=new FormData,l=d.a.filter(n.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;for(var c in e.target.files)t[r.key],i.append("file_"+c,e.target.files[c]);i.append("config",JSON.stringify(r)),t[l]&&i.append("id",t[l]),t[r.key]&&i.append("value",JSON.stringify(t[r.key])),r.related?(i.append("tablename",r.tablename),i.append("relatetable",n.table||NaN)):i.append("tablename",n.table||NaN),i.append("viewid",n.id),j("POST",i,"/upload_file",(function(e){a(e,r)}),(function(e){}))}}},onUpload:function(e){var t=e.set_state,n=e.data,a=e.origin;return function(e,r,o){var i=new FormData,l=d.a.filter(a.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;i.append("file_0",e.file),i.append("config",JSON.stringify(r)),n[l]&&i.append("id",n[l]),n[r.key]&&i.append("value",JSON.stringify(n[r.key])),r.related?(i.append("tablename",r.tablename),i.append("relatetable",a.table||NaN)):i.append("tablename",a.table||NaN),i.append("viewid",a.id),j("POST",i,"/api/savefile",(function(e){var a=e.outjson;a.id?(n[l]=a.id,n[r.key]=JSON.parse(a.value)):n=a,t({data:It({},n),uploaded:!1})}),(function(e){}))}},onSave:function(e){var t=e.data,n=e.set_state,a=e.global,r=e.origin,o=e.getData,i=e.compo,l=e.get_params,c=e.history,u=e.setLoading;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u(!0);var s=d.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].key;j("POST",{data:t,viewid:a.viewid,id:t[s],relation:a.relation,relationobj:a.relationobj},"/api/savestate",(function(a){var u=a.outjson,p=l(),f=d.a.filter(r.config,(function(e){return"ID"===e.col.toUpperCase()&&!e.fn&&!e.relatecolumn}))[0].title;if(r.config.filter((function(e){return e.updatable})).length>0&&i&&(t[s]==p.inputs[f]||null===t[s]||void 0===t[s])){var g="___hashhhh___=0.11";g=-1===location.search.indexOf("?")?"?"+g:"&"+g,c.push(location.pathname+location.search+g+location.hash)}u.id&&(t[s]=u.id),n({data:It({},t),loading:!1}),m.NotificationManager.success(Rt,"Ok"),o(t[s]||u.id,o),e&&"function"==typeof e&&e()}),(function(e){n({loading:!1})}))}},handlerAutoComplete:function(e){var t=e.origin,n=e.set_state;return function(e,a){j("POST",{val:e,table:t.table,col:a.col},"/api/autocomplete",(function(e){var r=Nt(t.config);r.forEach((function(t,n){r[n].key===a.key&&(r[n].selectdata=e.outjson)})),t.config=r,n({origin:t})}),(function(e){}))}},onChangeCollapse:function(e){var t=e.set_state;return function(e){t({localChangeCollapse:!0,localActiveKey:e})}}}),Object(g.b)({componentDidMount:function(){this.props.getData(null,this.props.getData)},componentWillUnmount:function(){Tt.forEach((function(e){return e.close()}))},componentDidUpdate:function(e){var t=this.props,n=t.btnCollapseAll,a=t.set_state;e.btnCollapseAll!==n&&a({localChangeCollapse:!1,collapseAll:n})},UNSAFE_componentWillUpdate:function(e){var t=this.props,n=t.compo,a=t.getData,r=t.get_params,o=r(this.props),i=r(e);n?"/trees"!==e.location.pathname.slice(0,6)&&(e.location.search===this.props.location.search&&e.path===this.props.path||a()):o.id_page!==i.id_page&&a()}}));function zt(e){return function(e){if(Array.isArray(e))return Bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=Object(g.a)(Object(g.e)((function(){return{}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({changePicker:function(e){var t=e.set_state,n=e.config,a=e.data,r=e.onChangeData,o=e.onChangeInput,i=e.origin;return function(e){var l=e.target.value;t({pickerVisible:!1});var c=a[n.key]?zt(a[n.key]):[];c.includes(l.toString())?alert("Date adding error"):(c.push(l.toString()),"form full"===i.viewtype?o(c,n):r(c,n))}},onCloseTag:function(e){var t=e.data,n=e.config,a=e.onChangeData,r=e.onChangeInput,o=e.origin;return function(e){var i=(t[n.key]?zt(t[n.key]):[]).filter((function(t){return t!==e}));"form full"===o.viewtype?r(i,n):a(i,n)}}}))((function(e){var t=e.pickerVisible,n=void 0!==t&&t,a=e.set_state,o=e.changePicker,i=e.onCloseTag,l=e.config,c=e.data;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",border:"1px solid grey",borderRadius:5,padding:2}},r.a.createElement("div",{style:{width:"content",flex:"10"}},c[l.key]&&c[l.key].map((function(e){return r.a.createElement("div",{style:{display:"inline-block",height:"32px",fontSize:"13px",fontWeight:500,color:"black",lineHeight:"32px",padding:"0 12px",borderRadius:"16px",backgroundColor:"#e4e4e4",marginBottom:"5px",marginRight:"5px"},key:e},e,r.a.createElement(v.Icon,{onClick:function(){i(e)},className:"close"},"close"))})),n&&r.a.createElement("input",{type:"date",onChange:o}),!n&&r.a.createElement(v.Icon,{onClick:function(){return a({pickerVisible:!0})}},"add_circle_outline")))}));function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=((LaNg||{}).certList||{})[LnG||"EN"]||"list:",qt=((LaNg||{}).certButton||{})[LnG||"EN"]||"hoose certificate",$t=Object(g.a)(Object(g.e)((function(e){var t=e.inState,n=void 0===t?{options:[],open:!1}:t;return{options:n.options,open:n.open}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){n[e]=t[e]})),n}}}),Object(g.c)({getCertificates:function(e){var t=e.set_state;return function(){authorize.ecpPostInit().then((function(e){t({options:e.certs||[],open:!0})})).catch((function(e){alert("No module CryptoPro")}))}},onSave:function(e){var t=e.set_state;return function(){t({open:!1})}},onSelect:function(e){var t=e.onChangeInput,n=e.config;return function(e){t(e.thumbprint,n)}}}),Object(g.c)({onOpen:function(e){var t=e.getCertificates;return function(){t()}}}))((function(e){var t=e.data,n=e.config,a=e.open,o=void 0!==a&&a,i=e.options,l=void 0===i?[]:i,c=(e.set_state,e.onSave,e.onOpen),u=e.onSelect;t[n.key];return[r.a.createElement("div",null,r.a.createElement(v.Button,{onClick:c,key:"c1"},qt),o?r.a.createElement("ul",null,Yt,l.map((function(e){return r.a.createElement("li",{className:"autocompli",onClick:function(){return u(e)},style:{cursor:"pointer",borderRadius:"12px",margin:3,padding:5,border:"0.3pt solid #c8c8b6"}},e.sname)}))):null)]})),Xt=n(569),Qt=n.n(Xt),Zt=n(1195),en=n(570);function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var an=function(e){var t=e.data,n=e.config,o=e.inputs;if(null===n.select_api)return Zt.a.error("select_api is null - '".concat(n.title,"'"));var i=tn(Object(a.useState)({}),2),l=i[0],c=i[1];Object(a.useEffect)((function(){j("POST",{data:t,inputs:o,config:n},n.select_api,(function(e){var t=e.outjson,n=t.datasets;t.y,n.map((function(e){return{data:e.x,label:e.label,fill:!1,lineTension:0,borderColor:e.color||"rgba(75,192,192,1)"}})),c(e.outjson)}))}),[]);return r.a.createElement("div",null,r.a.createElement(en.Bar,{type:l.type||"line",data:l,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}))};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}));var un={border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px",fontSize:"15px",borderRadius:"5px"},sn=((LaNg||{}).passwordPlaceholder||{})[LnG||"EN"]||"password",dn=((LaNg||{}).timePlaceholder||{})[LnG||"EN"]||"Chose time",pn=Ut((function(e){var t=e.location,n=e.history,a=(e.set_state,e.get_params),o=e.onChangeInput,i=e.onChangeData,l=e.getData,c=e.onSave,s=(e.carouselRef,e.initIndex,e.onChangeCollapse),d=(e.onRemoveImg,e.onUpload,e.onUploadFileChange),p=(e.uploaded,e.previewFile,e.collapseAll),f=(e.localActiveKey,e.localChangeCollapse),m=(e.compo,e.loading),g=void 0===m||m,h=e.data,y=void 0===h?{}:h,b=e.origin,E=void 0===b?{}:b,O=e.handlerAutoComplete,j=e.onRemoveFile,k=(e.visibleModal,e.setLoading),w=E.config,S=void 0===w?{}:w,P=a(),L=r.a.createElement(v.Row,null,r.a.createElement(v.Col,{s:12},r.a.createElement(v.Row,null,_.filter(S,(function(e){return(!0===e.visible||1===e.visible)&&C(y,e.visible_condition,P.inputs)})).map((function(e,n,a){var l=e.width?e.width>12?12:parseInt(e.width):6;return r.a.createElement(v.Col,{className:e.classname,s:l>12?12:l,key:"ss"+n},r.a.createElement("div",{className:e.classname},function(e){switch(y[e.key]=y.hasOwnProperty(e.key)?y[e.key]:null,e.type){case"label":return y[e.key]instanceof Object?r.a.createElement("div",{key:"1,1",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),JSON.stringify(y[e.key])):r.a.createElement("div",{key:"1,1",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("span",{className:"ant-form-text"}," ",_.isNull(y[e.key])?"":function(){switch(cn(y[e.key])){case"string":return y[e.key].split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))}));default:return y[e.key]}}()," "));case"text":return r.a.createElement("div",{key:"1.2",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{style:un,disabled:e.disabled||!1,value:y[e.key]?y[e.key]:"",onChange:function(t){return i(t,e)},onBlur:function(t){return o(t,e)}}));case"number":return r.a.createElement("div",{key:"d4",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{type:"number",style:un,disabled:e.disabled||!1,value:null===y[e.key]?null:y[e.key],onChange:function(t){i(t,e)},onBlur:function(t){return o(t,e)}}));case"password":return r.a.createElement("div",{key:"d4.1",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{type:"password",style:un,disabled:e.disabled||!1,value:y[e.key],onChange:function(t){return i(t,e)},onBlur:function(t){return o(t,e)},placeholder:sn}));case"phone":return r.a.createElement("div",{key:"phone",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(F.a,{style:un,mask:"+9 (999) 999-99-99",value:y[e.key],onChange:function(t){return i(t,e)},onBlur:function(e){return o(e)}}));case"date":return r.a.createElement("div",{key:"d3",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{style:un,type:"date",disabled:e.disabled||!1,value:D(y[e.key],"date"),onChange:function(t){return o(t.target.value,e)}}));case"datetime":return r.a.createElement("div",{key:"d3.1",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{style:un,type:"datetime-local",disabled:e.disabled||!1,value:D(y[e.key],"datetime"),onChange:function(t){return o(t.target.value,e)}}));case"time":return r.a.createElement("div",{key:"d6",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{style:un,type:"time",disabled:e.disabled||!1,value:D(y[e.key],"time"),onChange:function(t){return o(t.target.value,e)},placeholder:dn}));case"checkbox":return r.a.createElement("div",{key:"d4.6",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(v.Checkbox,{key:e.key,id:e.key,indeterminate:null===y[e.key]||void 0===y[e.key],checked:y[e.key],onChange:function(t){var n=y[e.key];o(n=null==n||!0!==n&&null,e)}}));case"textarea":return r.a.createElement("div",{key:"d2.1",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("textarea",{style:{border:"1px solid #9e9e9e"},disabled:e.disabled||!1,value:y[e.key]?y[e.key]:"",onChange:function(t){return i(t.target.value,e)},onBlur:function(t){return o(t,e)}}));case"link":return r.a.createElement("div",{key:"d4.1",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("div",null,"object"!==cn(y[e.key])?r.a.createElement("a",{href:y[e.key],target:"_blank",rel:"noopener noreferrer"}," ",y[e.key]):r.a.createElement("a",{href:(y[e.key]||{link:""}).link,target:(y[e.key]||{target:null}).target||"_blank",rel:"noopener noreferrer"},(y[e.key]||{title:""}).title)));case"tags":return r.a.createElement("div",{key:e.key,label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{style:un,value:y[e.key+e.key],onChange:function(t){var n={key:e.key+e.key};i(t,n)},onKeyPress:function(t){if("Enter"===t.key){var n=y[e.key]||[];n.push(t.target.value);var a={key:e.key+e.key};i(n,e),i("",a)}}}),r.a.createElement("button",{style:{display:"none"},title:"+"}),r.a.createElement("div",null,(y[e.key]||[]).map((function(t){return r.a.createElement("div",{style:{display:"inline-block",height:"32px",fontSize:"13px",fontWeight:500,color:"black",lineHeight:"32px",padding:"0 12px",borderRadius:"16px",backgroundColor:"#e4e4e4",marginBottom:"5px",marginRight:"5px"},key:t},t,r.a.createElement(v.Icon,{onClick:function(){var n=y[e.key].filter((function(e){return e!=t}));i(n,e)},className:"close",style:{cursor:"pointer"}},"close"))}))));case"autocomplete":return r.a.createElement("div",{key:"4.b",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{style:un,disabled:e.disabled||!1,value:y[e.key]?y[e.key]:"",onChange:function(t){O(t.target.value,e),o(t,e)}}),r.a.createElement("ul",{style:{}},(e.selectdata||[]).map((function(t){return r.a.createElement("li",{className:"autocompli",style:{cursor:"pointer",borderRadius:"12px",margin:3,padding:5,height:35,border:"0.3pt solid #c8c8b6"},onClick:function(){o(t.value,e),e.selectdata=[]}},t.label)}))));case"rate":var n=parseFloat(y[e.key])||0,a=0,l=n;n>0&&n%1!=0&&(n-=1);for(var c=[];a<n;)c.push({id:a+1,item:"star"}),a+=1;for(a=0;a<5-n;)c.push({id:n+a+1,item:"star_border"}),a+=1;return l>0&&l%1!=0&&c.push({id:a+1,item:"star_half"}),r.a.createElement("div",{key:e.key,label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(v.Row,null,r.a.createElement("div",null,c.map((function(t){return r.a.createElement(v.Icon,{onClick:function(n){return i(t.id,e)},className:"starss",style:{color:"#ffef00",fontSize:"40px"}},t.item)})))));case"file":case"files":return r.a.createElement("div",{key:y[e.key]},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{multiple:"files"===e.type,onChange:function(t){return d(t,e,!1)},type:"file"}),r.a.createElement("hr",null),r.a.createElement("ul",{className:"getone__filelist"},y[e.key]?y[e.key].map((function(t){return r.a.createElement("li",{key:t.uri,className:"getone__filelist-item"},r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,t.label||t.filename),r.a.createElement(v.Col,null,r.a.createElement(v.Col,null,r.a.createElement(v.Button,{floating:!0,small:!0,style:{border:"1px solid grey"}},r.a.createElement(v.Icon,{onClick:function(){return window.open(u._url+t.uri)}},"download"))),r.a.createElement(v.Col,null,r.a.createElement(v.Button,{floating:!0,small:!0,style:{border:"1px solid grey",backgroundColor:"crimson"},onClick:function(){return j(y[e.key],t.uri,e)}},r.a.createElement(v.Icon,null,"delete"))))))})):null));case"filelist":return r.a.createElement("div",{key:"9.b",label:"Filelist"},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("ul",null,(y[e.key]||[]).map((function(e){return r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",href:e.src},e.filename))}))));case"images":case"image":return r.a.createElement("div",{key:y[e.key]},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("input",{accept:".jpg, .jpeg, .png",id:"files",multiple:"images"===e.type,onChange:function(t){return d(t,e,!1)},type:"file"}),r.a.createElement("hr",null),r.a.createElement(v.Row,null,(y[e.key]||[]).map((function(t){return r.a.createElement(v.Col,{s:3},r.a.createElement("div",{onClick:function(){return window.open(u._url+t.uri)},style:{backgroundColor:"black",height:400,width:400,textAlign:"center",cursor:"zoom-in"}},r.a.createElement("img",{width:350,style:{maxHeight:400},src:u._url+t.uri})),r.a.createElement(v.Button,{style:{backgroundColor:"crimson"},onClick:function(){return j(y[e.key],t.uri,e)},className:"crimson",small:!0,floating:!0},r.a.createElement(v.Icon,null,"delete")))}))));case"gallery":return r.a.createElement("div",{key:"23.p",label:"Images list"},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(U,{title:e.title,files:y[e.key]||[]}));case"select":case"select_api":return r.a.createElement("div",{key:"5.b",label:e.title,style:{cursor:"".concat(e.disabled?"not-allowed":"inherit")}},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(Me,{isDisabled:e.disabled||!1,name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:y,inputs:P.inputs,onChangeInput:o,location:t,globalConfig:S}));case"multiselect":case"multiselect_api":return r.a.createElement("div",{key:"12.b",label:e.title,style:{cursor:"".concat(e.disabled?"not-allowed":"inherit")}},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(ze,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:y,inputs:P.inputs,onChangeInput:o,location:t,globalConfig:S}));case"typehead":case"typehead_api":return r.a.createElement("div",{key:e.key,label:e.title,style:{cursor:"".concat(e.disabled?"not-allowed":"inherit")}},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(Qe,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:y,inputs:P.inputs,onChangeInput:o,location:t,globalConfig:S}));case"multitypehead":case"multitypehead_api":return r.a.createElement("div",{key:"7.b",label:e.title,style:{cursor:"".concat(e.disabled?"not-allowed":"inherit")}},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(lt,{name:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),config:e,data:y,inputs:P.inputs,onChangeInput:o,location:t,globalConfig:S}));case"certificate":return r.a.createElement("div",{key:"d5",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement($t,{config:e,data:y,location:t,onChangeInput:o}));case"colorpicker":return r.a.createElement("div",{key:"23c",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(X,{currentColor:y[e.key]||"#000000",onChangeInput:o,localConfig:e}));case"color":return r.a.createElement("div",{key:"24c",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"".concat(y[e.key]),border:"2px solid grey"}}));case"texteditor":return r.a.createElement("div",{key:"1t",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(se,{currentText:y[e.key]||"",onChangeInput:o,localConfig:e}));case"innerHtml":return r.a.createElement("div",{key:"2t",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(y[e.key])}}));case"array":y[e.key]&&y[e.key].map((function(e){return on(on({},e),{},{key:e.id})}));var s=[];if(y[e.key])for(var p in y[e.key][0])s.push({title:"".concat(p).toUpperCase(),dataIndex:"".concat(p),key:"".concat(p)});return r.a.createElement("div",{key:"32u",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(v.Collapsible,null,r.a.createElement(v.CollapsibleItem,{header:e.title},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(y[e.key][0]||{}).map((function(e){return r.a.createElement("th",null,e)})))),r.a.createElement("tbody",null,y[e.key].map((function(e){return r.a.createElement("tr",{key:JSON.stringify(e)},Object.keys(e).map((function(t){return r.a.createElement("td",{key:t},e[t])})))})))))));case"codeEditor":return r.a.createElement("div",{key:"2t",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(Qt.a,{mode:"python",value:y[e.key]||"",onChange:function(t){return i(t,e)},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}));case"multidate":return r.a.createElement("div",{key:"multidate",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(Kt,{config:e,data:y,onChangeInput:o,onChangeData:i,origin:E}));case"diagram_api":return r.a.createElement("div",{key:"diagram_api",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),r.a.createElement(an,{config:e,data:y,origin:E,inputs:P.inputs}));default:return r.a.createElement("div",{key:"d22",label:e.title},r.a.createElement("div",null,r.a.createElement("b",null,e.title)),e.type)}}(e)))})))),r.a.createElement(v.Col,{s:12},r.a.createElement(Lt,{actions:E.acts,origin:E,data:y,params:P,history:n,location:t,getData:l,onSave:c,setLoading:k})));return r.a.createElement(v.Collapsible,{accordion:!0,key:E.title+"rrr"},r.a.createElement(v.CollapsibleItem,{node:"div",onClick:s,header:(E.title||"").toUpperCase(),key:E.title,expanded:p},r.a.createElement("div",{style:p||f?{}:{display:"none"}},r.a.createElement("h5",null,P.inputs._sub_title),g?r.a.createElement(v.Preloader,null,r.a.createElement(v.Card,{className:"f_content_app"})):r.a.createElement("div",null,L))))}));n(1119);function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var gn=((LaNg||{}).passwordPlaceholder||{})[LnG||"EN"]||"password",hn=((LaNg||{}).plLogin||{})[LnG||"EN"]||"login",yn=((LaNg||{}).loginForm||{})[LnG||"EN"]||"Log In",bn=((LaNg||{}).signIn||{})[LnG||"EN"]||"sign in",vn=((LaNg||{}).oOr||{})[LnG||"EN"]||"or",En=((LaNg||{}).logSig||{})[LnG||"EN"]||"Log in by digital signature",On=((LaNg||{}).logPas||{})[LnG||"EN"]||"Log in by login/password",jn=((LaNg||{}).Error||{})[LnG||"EN"]||"Error",kn=((LaNg||{}).noCryptoPlugin||{})[LnG||"EN"]||"Can not found the  crypto plugin",_n=function(){var e=fn(Object(a.useState)(!0),2),t=e[0],n=e[1],o=fn(Object(a.useState)(!0),2),i=o[0],l=(o[1],fn(Object(a.useState)(),2)),c=l[0],u=l[1],s=fn(Object(a.useState)(""),2),d=s[0],p=s[1],f=fn(Object(a.useState)(""),2),g=f[0],h=f[1],y=fn(Object(a.useState)([]),2),b=y[0],E=y[1],O={border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px",fontSize:"15px",borderRadius:"5px"},k=function(){!0===t?j("POST",{login:d,pass:g},"/auth/auth_f",(function(e){location.href="/"})):j("POST",c,"/auth/auth_crypto",(function(e){localStorage.setItem("thumbprint",c.thumbprint),location.href="/"}))};return r.a.createElement("div",null,r.a.createElement(v.Modal,{open:i,trigger:r.a.createElement(v.Button,{style:{color:"blue",textDecoration:"underline"},flat:!0,node:"button"},bn),actions:[r.a.createElement(v.Button,{flat:!0,modal:"close",node:"button",waves:"green"},"X")]},r.a.createElement(v.Col,null,r.a.createElement("h5",null,yn),t?[r.a.createElement(v.Col,null,r.a.createElement("input",{placeholder:hn,id:"email",style:O,onChange:function(e){return p(e.target.value)}})),r.a.createElement(v.Col,{key:"s2"},r.a.createElement("input",{type:"password",id:"password",placeholder:gn,style:O,onChange:function(e){return h(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&k()}}))]:[r.a.createElement(v.Col,null,r.a.createElement("ul",null,b.map((function(e){return r.a.createElement("li",{style:{cursor:"pointer",backgroundColor:c&&e.id===c.id?"grey":"white"},onClick:function(){return u(e)}}," ",e.sname," ",e.valid)}))))],r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,r.a.createElement(v.Button,{onClick:k},bn)),r.a.createElement(v.Col,null,r.a.createElement("label",{style:{color:"#afb1be"}},vn)),r.a.createElement(v.Col,null,r.a.createElement(v.Button,{flat:!0,onClick:function(){t&&0===b.length&&(authorize?authorize.ecpInit().then((function(e){E(e.certs)})).catch((function(e){m.NotificationManager.error(jn,e.status||{noCryptoPlugin:kn},1e3)})):m.NotificationManager.error(jn,{noCryptoPlugin:kn},1e3)),n(!t)}},t?En:On))))))},wn=Object(g.a)(Object(g.b)({componentWillMount:function(){j("POST",{},"/auth/logout",(function(e){localStorage.clear(),window.location.replace("/")}),(function(e){}))}}))((function(){return r.a.createElement("div",null)}));function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Dn=function(e){var t=e.history,n=e.path,o=e.compo,i=e.location,l=e.match,c=Ln(Object(a.useState)({}),2),u=c[0],s=c[1],d=u.loading,p=void 0!==d&&d,f=u.values,m=void 0===f?{}:f,g=u.id_page,h=void 0===g?null:g,b=u.init,E=void 0!==b&&b,O=u.btnCollapseAll,k=void 0===O||O,w=Ln(Object(a.useState)(i.search),2),C=w[0],S=w[1],P=function(e){var t=Sn({},u);_.keys(e).map((function(n){t[n]=e[n]})),s(t)},L=i.search,N=function(e,t){j("GET",{},"/api/compobypath?path=".concat(e,"&inputs=").concat(JSON.stringify(y.a.parse(i.search))),(function(n){document.title=n.outjson.title,P({id_page:e,loading:!1,init:!!t||E,values:Sn({},n.outjson)})}),(function(e){}))},D=o?n:l.params.id,x=function(){P({btnCollapseAll:!k})};return Object(a.useEffect)((function(){h!==D&&null!==h?(s({loading:!0,values:{}}),N(D)):_.isNull(h)&&N(o?n:l.params.id,"init")}),[D]),C!==L&&m.visible_views&&(S(L),N(D)),r.a.createElement("div",{tabIndex:0,onKeyDown:function(e){48===e.keyCode&&e.altKey&&e.ctrlKey&&x()}},r.a.createElement(v.Row,{key:"s2",style:{margin:"0 10px"}},r.a.createElement(v.Col,{s:12,style:{padding:"20px"}},r.a.createElement(v.Button,{small:!0,onClick:x,icon:k?r.a.createElement(v.Icon,null,"remove"):r.a.createElement(v.Icon,null,"add")})),r.a.createElement("div",null,p?r.a.createElement(v.Preloader,{id:"prel",size:"big",active:!0,flashing:!0}):null,h===D?p?null:m.config&&_.isArray(m.config)?m.config.map((function(e,n){return r.a.createElement(v.Row,{key:n,style:{display:"flex",flexWrap:"wrap"}},e.cols.map((function(e,n){return!m.visible_views||m.visible_views&&m.visible_views.filter((function(t){return t==e.path.id})).length>0?r.a.createElement(v.Col,{key:n,s:e.width>12?Math.floor(e.width/2)||12:e.width||12},function(){switch(e.path.viewtype){case"table":case"tiles":return r.a.createElement(wt,{compo:!0,path:e.path.path,history:t,location:i,btnCollapseAll:k});case"form full":case"form not mutable":return r.a.createElement(pn,{compo:!0,path:e.path.path,history:t,location:i,values:m,btnCollapseAll:k})}}()):r.a.createElement("div",null)})))})):null:null)))};function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tn=Object(g.a)(Object(g.d)("values","changeValues",{}),Object(g.d)("menu","changeMenu",[]),Object(g.d)("openedKeys","changeOpenedKeys",[]),Object(g.d)("rootKeys","changeRootKeys",[]),Object(g.d)("view","changeView",{}),Object(g.d)("params","changeParams",{inputs:{}}),Object(g.d)("ready","changeReady",!0),Object(g.c)({set_state:function(e){return function(t){var n=In({},e);return _.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({handlerOpenChange:function(e){var t=e.openedKeys,n=e.rootKeys,a=e.changeOpenedKeys;return function(e){var r=e.find((function(e){return-1===t.indexOf(e)}));-1===n.indexOf(r)?a(e):a(r||[])}}}),Object(g.c)({getData:function(e){var t=e.history,n=e.location,a=e.match,r=e.changeView,o=e.changeValues,i=e.changeReady,l=e.changeMenu,c=e.changeRootKeys;return function(){j("GET",{},"/api/treesbypath?path="+a.params.id,(function(e){document.title=e.outjson.title,o(In({},e.outjson));var a=e.outjson,u=a.branches,s=a.items,d=[],p=!!n.hash;if(_.isArray(u)&&!_.isEmpty(u)&&(u.map((function(e,a){if(!0===e.ismain&&!p){var o=_.find(s,(function(t){return t.key===e.key}));t.push(n.pathname+n.search+"#"+o.key),o.path&&o.treeviewtype>0&&r(o)}e.children&&d.push(e.key)})),l(u),n.hash)){var f=_.find(s,(function(e){return"#"+e.key===n.hash}));f.path&&f.treeviewtype>0&&r(f)}c(d),i(!0)}),(function(e){}))}}}),Object(g.c)({handlerSelectMenu:function(e){var t=e.changeReady,n=e.changeView,a=e.history,r=e.values,o=e.location;return function(e){console.log("VALUES:ffffff  ",r);!function(e,t){if(!t)return e;for(var n=t.split(","),a=0,r=n.length-1;a<r;a++){var o=e[n[a]];if(!o)break;e=o}e[n[a]]}(e,"item,props,data");var i=_.find(r.items,(function(t){return t.key===e.key}));o.hash!=="#"+i.key&&(t(!1),a.push(o.pathname+o.search+"#"+i.key),i.path&&i.treeviewtype>0&&n(i))}}}),Object(g.b)({componentDidMount:function(){var e=this.props,t=e.getData,n=e.changeReady,a=e.params,r=e.changeParams,o=e.match,i=e.location;a.inputs=y.a.parse(i.search),a.path=o.params.match,a.search=i.search,r(In({},a)),n(!1),t()},componentDidUpdate:function(e){e.location.hash!==this.props.location.hash&&!1===this.props.ready&&this.props.changeReady(!0),e.location.search!==this.props.location.search&&(this.props.getData(),this.props.changeReady(!1))}}))((function(e){var t=e.history,n=e.location,a=e.getData,o=e.view,i=e.ready,l=(e.openedKeys,e.menu),c=(e.handlerOpenChange,e.handlerSelectMenu),u=e.values,s=e.params;function d(e,t){return e.map((function(e,n){return e.children?r.a.createElement(v.Col,null,r.a.createElement(v.Dropdown,{key:e.key,id:"TREE_"+e.key,options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:r.a.createElement("div",{className:"collapsible-header"},r.a.createElement(b.a,{type:e.icon||""}),r.a.createElement("span",null,e.label||"--"))},t(e.children,t))):r.a.createElement(v.Col,{onClick:function(){return c(e)}},r.a.createElement("div",{className:"collapsible-header"},r.a.createElement(b.a,{type:e.icon||""}),r.a.createElement("span",null,e.label||"--")))}))}return r.a.createElement(v.Row,{key:"s222"},r.a.createElement(v.Row,null,r.a.createElement(Lt,{actions:u.acts,origin:u,data:u.items,params:s,history:t,location:n,getData:a})),r.a.createElement(v.Row,{style:{margin:"0 10px"}},d(l,d)),r.a.createElement("div",null,i?1===o.treeviewtype?function(){switch(o.viewtype){case"table":return r.a.createElement(v.Row,{style:{margin:"0 10px"}},r.a.createElement(wt,{compo:!0,path:o.path,history:t,location:n}));case"form full":case"form not mutable":return r.a.createElement(v.Row,{style:{margin:"0 10px"}},r.a.createElement(pn,{compo:!0,path:o.path,history:t,location:n}))}}():2===o.treeviewtype?r.a.createElement(Dn,{trees:!0,compo:!0,path:o.path,history:t,location:n}):null:r.a.createElement(v.Preloader,null)))}));function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e){return function(e){if(Array.isArray(e))return Gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn=((LaNg||{}).reportNotGet||{})[LnG||"EN"]||"Method are not Get";function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=Object(g.a)(Object(g.d)("values","changeValues",{}),Object(g.d)("params","changeParams",[]),Object(g.d)("inputs","changeInputs",{}),Object(g.d)("selections","changeSelections",[]),Object(g.c)({getData:function(e){var t=e.match,n=e.changeValues,a=e.changeParams;return function(){j("GET",{},"/api/report?id="+t.params.id,(function(e){document.title=e.outjson.title,n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.outjson)),a(Fn(e.outjson.params))}),(function(e){}))}},getSelectOptions:function(e){var t=e.changeSelections,n=e.selections;return function(e,a,r){j("GET",{},"/api/methodinfo?id="+r,(function(r){"get"===r.outjson.methotypename?j("GET",{},"/api/".concat(r.outjson.methodname,"?substr=")+a,(function(a){var r=n;r[e]=a.outjson,t(r)}),(function(e){})):Error({reportNotGet:zn})}),(function(e){}))}},getReportFile:function(e){var t=e.inputs,n=e.values;return function(){var e="?";Object.keys(t).forEach((function(n){var a="object"===Mn(t[n])?JSON.stringify(t[n]):t[n];e+=n+"="+a+"&"})),e+="filename="+n.filename+"&template=.."+n.template_path,console.log("open report","/rep/"+n.path+e),window.open("/rep/"+n.path+e)}}}),Object(g.b)({componentDidMount:function(){(0,this.props.getData)()},componentDidUpdate:function(e){this.props.selections;e.selections}}))((function(e){var t=e.values,n=e.params,a=e.changeInputs,o=e.inputs,i=e.selections,l=e.getSelectOptions,c=e.getReportFile,u=t.title,s=(fe.a.Option,{border:"1px solid #9e9e9e",height:"2.5rem",paddingLeft:"8px",fontSize:"15px",borderRadius:"5px"}),d=((LaNg||{}).reportGenerate||{})[LnG||"EN"]||"Generate";return[r.a.createElement(v.Card,{key:"1l"},r.a.createElement("h3",null,u),n.map((function(e){return r.a.createElement(v.Col,{s:12,key:e.ptitle},function(){switch(e.typename){case"select":var t=e.id+e.ptitle;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,e.ptitle)),r.a.createElement(fe.a,{styles:{menuPortal:function(e){return Wn(Wn({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return Wn(Wn({},e),{},{padding:4})},clearIndicator:function(e){return Wn(Wn({},e),{},{padding:4})},control:function(e){return Wn(Wn({},e),{},{minHeight:0})},input:function(e){return Wn(Wn({},e),{},{padding:0})},valueContainer:function(e){return Wn(Wn({},e),{},{padding:"0 8px",color:"#000000"})},placeholder:function(e){return Wn(Wn({},e),{},{color:"#cdbfc7"})}},defaultValue:o[e.func_paramtitle],onFocus:function(){return l(t,null,e.apimethod)},options:i[t]}));case"multiselect":return r.a.createElement("div",{key:e.ptitle+e.id},r.a.createElement("div",null,r.a.createElement("b",null,e.ptitle)),r.a.createElement(fe.a,{isMulti:!0,styles:{menuPortal:function(e){return Wn(Wn({},e),{},{zIndex:9999})},dropdownIndicator:function(e){return Wn(Wn({},e),{},{padding:4})},clearIndicator:function(e){return Wn(Wn({},e),{},{padding:4})},control:function(e){return Wn(Wn({},e),{},{minHeight:0})},input:function(e){return Wn(Wn({},e),{},{padding:0})},valueContainer:function(e){return Wn(Wn({},e),{},{padding:"0 8px",color:"#000000"})},placeholder:function(e){return Wn(Wn({},e),{},{color:"#cdbfc7"})}},onChange:function(){var t=o,n=arguments.length<=0?void 0:arguments[0];_.isNull(n)?delete t[e.func_paramtitle]:t[e.func_paramtitle]=n,a(t)},devaultValue:o[e.func_paramtitle],onFocus:function(){return l(t,null,e.apimethod)},options:i[t]}));case"typehead":return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,e.ptitle)),r.a.createElement("input",{style:s,value:(o[e.func_paramtitle]||{}).label,onChange:function(n){var r=o;r[e.func_paramtitle]=r[e.func_paramtitle]||{},r[e.func_paramtitle].label=i,a(r);var i=n.target.value;i&&i.length>2&&l(t,i,e.apimethod)}}),r.a.createElement("ul",{style:{}},(i[t]||[]).map((function(n){return r.a.createElement("li",{className:"autocompli",style:{cursor:"pointer",borderRadius:"12px",margin:3,padding:5,height:35,border:"0.3pt solid #c8c8b6"},onClick:function(){var r=o;r[e.func_paramtitle]=n,i[t]=[],a(r)}},n.label)}))));default:return r.a.createElement("div",{key:e.ptitle+e.id},r.a.createElement("div",null,r.a.createElement("b",null,e.ptitle)),r.a.createElement("input",{style:s,onChange:function(t){var n=o;n[e.func_paramtitle]=t.target.value,a(n)},defaultValue:o[e.func_paramtitle],type:e.typename,placeholder:e.ptitle}))}}())})),r.a.createElement(v.Button,{onClick:c,style:{marginTop:"10px"}},d))]})),Hn=((LaNg||{}).goBack||{})[LnG||"EN"]||"go back",Vn=function(e){var t=e.history;e.location;return r.a.createElement(v.Card,null,r.a.createElement("h1",{style:{fontSize:200,color:"pink"}},"404"),r.a.createElement(v.Button,{type:"primary",onClick:function(){return t.goBack()}},Hn))},Yn=n(20),qn=n(1207),$n=Object(g.a)(Object(g.d)("hasError","setHasError",!1),Object(g.b)({componentDidCatch:function(e,t){(0,this.props.setHasError)(!0)}}))((function(e){var t=e.hasError,n=e.children;return t?r.a.createElement(qn.a,{status:"error",title:"Error",subTitle:"Unknown Error"}):n})),Xn=n(35);function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ea=Object(g.a)(Object(Yn.b)((function(e){return{chatId:e.user.chatId,listChats:e.chat.listChats}}),(function(e){return{get_chat_id:function(){return e(Object(Xn.i)())},set_chat_id:function(t){return e(Object(Xn.j)(t))}}})),Object(g.e)((function(e){var t=e.inState,n=void 0===t?{openDrawerPanel:!1,carouselRef:r.a.createRef(),statusCreateChat:!1,chatPhotoUri:"",chatName:""}:t;return{openDrawerPanel:n.openDrawerPanel,carouselRef:n.carouselRef,statusCreateChat:n.statusCreateChat,chatPhotoUri:n.chatPhotoUri,chatName:n.chatName}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.b)({componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=t.listChats,r=t.set_state,o=t.statusCreateChat,i=t.set_chat_id;if(e.chatId!==n&&n&&a.length>0){var l=a.find((function(e){return e.id===n}));r({chatPhotoUri:(l.photo||[])[0]?l.photo[0].uri:"",chatName:l.title})}!0===o&&e.listChats!==a&&(i(a[0].id),r({statusCreateChat:!1}));if(e.listChats!==a&&n&&a.length>0){var c=a.find((function(e){return e.id===n}));try{r({chatPhotoUri:c.photo&&c.photo[0]?c.photo[0].uri:"",chatName:c.title})}catch(e){throw console.error("inner",e.message),e}}}})),ta=n(1204),na=n(574),aa=n(1196),ra=n(223),oa=n(73),ia=n(1205),la=n(1202),ca=n(573),ua=n(133),sa={37:1,38:1,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function da(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function pa(e){if(sa[e.keyCode])return da(e),!1}function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ha=ta.a.Search,ya=((LaNg||{}).chatCreated||{})[LnG||"EN"]||"created ",ba=((LaNg||{}).LoadinG||{})[LnG||"EN"]||"Loading... ",va=((LaNg||{}).chatPhoto||{})[LnG||"EN"]||"Photo:",Ea=((LaNg||{}).Download||{})[LnG||"EN"]||"Download",Oa=((LaNg||{}).chatFw||{})[LnG||"EN"]||"Forward message",ja=((LaNg||{}).chatRp||{})[LnG||"EN"]||"Reply message",ka=((LaNg||{}).ChangeD||{})[LnG||"EN"]||"changed",_a=((LaNg||{}).Delete||{})[LnG||"EN"]||"Delete",wa=((LaNg||{}).EdiT||{})[LnG||"EN"]||"Edit",Ca=((LaNg||{}).CanceL||{})[LnG||"EN"]||"Cancel",Sa=((LaNg||{}).areUSure||{})[LnG||"EN"]||"Are you sure?",Pa=((LaNg||{}).getFilter||{})[LnG||"EN"]||"Search",La=((LaNg||{}).chatRec||{})[LnG||"EN"]||"chatRec",Na=((LaNg||{}).Yes||{})[LnG||"EN"]||"Yes",Da=Object(g.a)(Object(Yn.b)((function(e){return{chatId:e.user.chatId}}),(function(e){return{get_chat_id:function(){return e(Object(Xn.i)())},set_chat_id:function(t){return e(Object(Xn.j)(t))}}})),Object(g.e)((function(e){var t=e.inState,n=void 0===t?{refList:r.a.createRef(),visiblePopover:!1,refLastEl:r.a.createRef(),isScrolled:!1,elemTopScroll:null,isModalImgOpen:!1,isModalForwardOpen:!1,isModalDeleteOpen:!1,srcImage:null,commentForwardID:null,valueSearch:"",dataFilteredChats:[],idDeleteComment:null}:t;return{refList:n.refList,visiblePopover:n.visiblePopover,refLastEl:n.refLastEl,isScrolled:n.isScrolled,elemTopScroll:n.elemTopScroll,isModalImgOpen:n.isModalImgOpen,isModalForwardOpen:n.isModalForwardOpen,isModalDeleteOpen:n.isModalDeleteOpen,srcImage:n.srcImage,commentForwardID:n.commentForwardID,valueSearch:n.valueSearch,dataFilteredChats:n.dataFilteredChats,idDeleteComment:n.idDeleteComment}}),{set_state:function(e){return function(t){var n=ma({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({removeComment:function(e){var t=e.setStateUpComp,n=e.set_state;return function(e){n({idDeleteComment:null,isModalDeleteOpen:!1}),t({isCommentDelete:e}),j("DELETE",{id:e},"/api/dialog_delete_message",(function(){}),(function(e){t({isCommentDelete:!1})}))}},replyComment:function(e){var t=e.setStateUpComp;return function(e){t({answerComment:{id:e.id,text:e.message_text,login:e.login}})}},scrollMore:function(e){var t=e.chatId,n=e.setStateUpComp,a=e.comments,r=e.set_state;return function(e){a.some((function(e){return!0===e.isfirst}))?r({elemTopScroll:null,isScrolled:!1}):j("GET",{},"/api/dialog_messages?dialogid="+t+"&pagesize="+e,(function(e){n({comments:e.outjson})}))}},scrollToAnchor:function(e){var t=e.comments,n=e.chatId,a=e.setStateUpComp;return function(e,r){t.some((function(e){return e.id===r}))||j("GET",{},"/api/dialog_messages?dialogid="+n+"&reply_to="+r,(function(e){a({comments:e.outjson})})),e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("color-change-2x"),window.setTimeout((function(){e.classList.remove("color-change-2x")}),4e3)}},forwardMessage:function(e){var t=e.commentForwardID,n=e.set_state,a=e.set_chat_id;return function(e){j("POST",{dialogid:e,forwarded_from:t},"/api/dialog_message_send",(function(t){n({commentForwardID:null,valueSearch:"",dataFilteredChats:[],isModalForwardOpen:!1}),a(e)}))}},filterChatRooms:function(e){var t=e.listChats,n=e.set_state;return function(e){var a=e.toLocaleLowerCase(),r=t.filter((function(e){return e.title.toLocaleLowerCase().includes(a)}));n({dataFilteredChats:r,valueSearch:e})}},scrollToBottom:function(e){var t=e.refList,n=e.refLastEl,a=e.comments;return function(){a.length>0&&t.current.scrollTo({top:n.current.offsetTop,behavior:"smooth"})}}}),Object(g.b)({componentDidMount:function(){(0,this.props.get_chat_id)()},componentDidUpdate:function(e){var t=this.props,n=t.refList,a=t.comments,r=t.refLastEl,o=t.setStateUpComp,i=t.changedId,l=t.isSubmit,c=t.set_state,u=t.isScrolled,s=t.elemTopScroll;e.comments!==a&&a.length>0&&(u&&(document.getElementById(s).scrollIntoView({block:"start"}),c({elemTopScroll:null,isScrolled:!1})),!0===i&&(o({changedId:!1}),n.current.scrollTo(0,r.current.offsetTop)),!0===a[a.length-1].ismine&&!0===l&&(n.current.scrollTo(0,r.current.offsetTop),o({isSubmit:!1})))}})),xa={comments__list:{padding:0,paddingBottom:10,display:"flex",flexDirection:"column",overflow:"auto",listStyle:"none",marginBottom:0,height:"100%",background:"no-repeat url('./files/fon4.jpg')",backgroundOrigin:"border-box",backgroundPosition:"center"},comments__li:{display:"flex",alignItems:"flex-start",marginTop:10,minWidth:100,paddingLeft:40,boxSizing:"border-box"},comments__avatar:{marginRight:20,borderRadius:"50%"},comments__itemContainer:{display:"flex",justifyContent:"space-between"},comments__itemAuthor:{margin:"0 10px",color:"aliceblue",fontSize:14,backgroundColor:"#4586c2",padding:"0 4px",borderRadius:10},comments__itemDatetime:{fontSize:10,fontWeight:"bold",color:"#4d524c"},comments__itemContent:{marginLeft:20,padding:"5px 0"},createInfo:{margin:"10px auto",borderRadius:10,padding:5,backgroundColor:"tan"}},Ia=Da((function(e){var t,n=e.refList,o=e.comments,i=e.removeComment,l=e.set_state,c=e.setStateUpComp,s=e.isCommentDelete,d=e.replyComment,p=e.globalSpin,f=e.filterChatRooms,m=e.dataFilteredChats,g=e.scrollToBottom,h=e.lastComment,y=e.refLastEl,v=e.scrollMore,E=e.isModalImgOpen,O=e.srcImage,k=e.scrollToAnchor,_=e.chatId,w=e.isModalForwardOpen,C=e.forwardMessage,S=e.valueSearch,P=e.isModalDeleteOpen,L=e.idDeleteComment,N=Object(Yn.d)((function(e){return e.chat.listChats})),D=N.find((function(e){return e.id===_})),x=void 0!==D?ge()(D.created).format("HH:mm DD MMMM YYYY"):"";return r.a.createElement("ul",{className:"chat__list",ref:n,style:xa.comments__list,onScroll:function(e){var t=e.target;if(o.length>0&&0===t.scrollTop){l({isScrolled:!0,elemTopScroll:o[0].id});var n=o.length+20;v(n)}}},p?null:o.length>0?o[0].isfirst?r.a.createElement("div",{style:xa.createInfo},r.a.createElement("span",{style:{fontWeight:"bolder"}},null==D||null===(t=D.creator)||void 0===t?void 0:t.login)," ",ya," ",x):null:r.a.createElement("div",{style:xa.createInfo},r.a.createElement("span",{style:{fontWeight:"bolder"}},D.creator.login)," ",ya," ",x),p?r.a.createElement(na.a,{style:{margin:"auto",fontSize:30},tip:ba,size:"large"}):o.map((function(e,t){var n,i=e.ismine?"chat__listItem--ismine":"chat__list__item",p=ge()(),f=ge.a.duration(p.diff(e.created)).asHours(),m=ge()(e.created).format("DD MMMM YYYY"),g=t<o.length-1&&ge()(o[t+1].created).format("DD MMMM YYYY");return r.a.createElement(a.Fragment,{key:e.id},r.a.createElement("li",{ref:h.id===e.id?y:null,key:e.id,id:e.id,style:xa.comments__li},r.a.createElement("div",{style:xa.comments__avatar},(null===(n=e.photo)||void 0===n?void 0:n.length)>0?r.a.createElement(aa.a,{size:42,className:"chat__avatar",src:u._url+e.photo[0].uri}):r.a.createElement(aa.a,{size:42,icon:"user"})),r.a.createElement(ua.b,{id:"".concat(e.id)},r.a.createElement("div",{style:{minWidth:200},className:i},r.a.createElement("div",{style:xa.comments__itemContainer},r.a.createElement("div",{style:xa.comments__itemAuthor},e.login),null!==e.forwarded_from?r.a.createElement("span",{style:{fontWeight:"bolder"}},"  ",r.a.createElement("span",{style:{backgroundColor:"#c8c8c8",color:"#4586c2",fontWeight:"bolder",padding:"0 5px",borderRadius:10}},e.forwarded_from_user)):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",width:70}},r.a.createElement("div",{style:xa.comments__itemDatetime},ge()(e.created).format("HH:mm")))),e.reply_message?r.a.createElement(ca.HashLink,{to:"chats#".concat(e.reply_message.id),scroll:function(t){k(t,e.reply_message.id),window.history.pushState("",document.title,window.location.pathname+window.location.search)}},r.a.createElement("div",{onClick:function(){o.some((function(t){return t.id===e.reply_message.id}))||j("GET",{},"/api/dialog_messages?dialogid="+_+"&reply_to="+e.reply_message.id,(function(e){c({comments:e.outjson})}))},style:{borderLeft:"3px solid #37a1de",margin:"5px 0 5px 20px",padding:"5px 0 5px 5px"}},r.a.createElement("span",{style:ma(ma({},xa.comments__itemAuthor),{},{backgroundColor:"#c8c8c8",color:"#4586c2",fontWeight:"bolder"})},e.reply_message.login),r.a.createElement("div",null,e.reply_message.message_text.length>100?e.reply_message.message_text.split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e.slice(0,100).concat("..."),r.a.createElement("br",null))})):e.reply_message.message_text),e.reply_message.files.length>0?r.a.createElement("div",{style:{backgroundColor:"aliceblue",padding:"0 5px",borderRadius:10}},e.reply_message.files[0].filename):null,e.reply_message.images.length>0?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{style:{backgroundColor:"aliceblue",margin:"2px 0",padding:"0 5px",borderRadius:10}},va)),r.a.createElement("img",{src:u._url+e.reply_message.images[0].uri,height:40})):null)):null,e.images.length>0?e.id===s?r.a.createElement(na.a,{style:{marginLeft:20,marginTop:10}}):e.images.map((function(e){return r.a.createElement("div",{key:e.uri,style:{borderRadius:10,border:"black",height:200,cursor:"pointer",marginTop:5}},r.a.createElement("img",{src:u._url+e.uri,height:200,onClick:function(){return l({isModalImgOpen:!0,srcImage:u._url+e.uri})}}))})):null,e.files.length>0?e.id===s?r.a.createElement(na.a,{style:{marginLeft:20,marginTop:10}}):r.a.createElement("div",{key:e.id+"files"},r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("span",{style:{fontSize:12,backgroundColor:"aliceblue",fontWeight:"bolder",padding:5,borderRadius:10}},":")),r.a.createElement("ul",{className:"getone__filelist",style:{backgroundColor:"aliceblue",borderRadius:10}},e.files.map((function(e){return r.a.createElement("li",{key:e.uri,className:"getone__filelist-item"},r.a.createElement("div",{style:{paddingLeft:20}},e.label||e.filename),r.a.createElement("div",{style:{paddingLeft:40,paddingRight:20}},r.a.createElement(ra.a,{title:Ea,placement:"topLeft"},r.a.createElement(oa.a,{icon:"download",size:"small",shape:"circle",style:{border:"1px solid grey"},onClick:function(){return window.open(u._url+e.uri)}}))))})))):null,r.a.createElement("div",{style:xa.comments__itemContent},e.message_text?e.id===s?r.a.createElement(na.a,null):e.message_text.split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))})):null),e.isupdated?r.a.createElement("div",{style:{textAlign:"right",fontSize:10,fontWeight:"bolder"}},ka):null)),r.a.createElement(ua.a,{id:"".concat(e.id),className:"react-contextmenu-wrapper",onShow:function(){return window.addEventListener&&window.addEventListener("DOMMouseScroll",da,!1),document.addEventListener("wheel",da,{passive:!1}),window.onwheel=da,window.onmousewheel=document.onmousewheel=da,window.ontouchmove=da,void(document.onkeydown=pa)},onHide:function(){return window.removeEventListener&&window.removeEventListener("DOMMouseScroll",da,!1),document.removeEventListener("wheel",da,{passive:!1}),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,void(document.onkeydown=null)}},r.a.createElement(ua.c,{onClick:function(){return d(e)}},ja),r.a.createElement(ua.c,{onClick:function(){return l({isModalForwardOpen:!0,commentForwardID:e.id})}},Oa),e.ismine?e.files.length>0||e.images.length>0||e.forwarded_from||f>24?null:r.a.createElement(ua.c,{onClick:function(){c({isModalEditOpen:!0,commentForEdit:e})}},wa):null,e.ismine?r.a.createElement(ua.c,{onClick:function(){return l({isModalDeleteOpen:!0,idDeleteComment:e.id})}},_a):null)),function(){if(t!==o.length-1)switch(m){case g:return null;default:return r.a.createElement("div",{style:xa.createInfo},g)}}())})),o.length>0?r.a.createElement("div",{style:{fontSize:40,position:"absolute",top:"80%",left:"95%"}},r.a.createElement(b.a,{type:"down-circle",onClick:function(){return g()}})):null,r.a.createElement(ia.a,{width:250,title:_a,centered:!0,visible:P,okText:Na,okButtonProps:{type:"danger"},onOk:function(){return i(L)},onCancel:function(){return l({isModalDeleteOpen:!1,idDeleteComment:null})}},r.a.createElement("div",{style:{fontSize:30}},Sa)),r.a.createElement(ia.a,{centered:!0,footer:null,visible:E,width:"max-content",onCancel:function(){return l({isModalImgOpen:!1})}},r.a.createElement("img",{src:O,height:700})),r.a.createElement(ia.a,{centered:!0,footer:r.a.createElement(oa.a,{onClick:function(){return l({isModalForwardOpen:!1,commentForwardID:null,valueSearch:"",dataFilteredChats:[]})}},Ca),title:La,visible:w,onCancel:function(){return l({isModalForwardOpen:!1,commentForwardID:null,valueSearch:"",dataFilteredChats:[]})}},r.a.createElement(ha,{placeholder:Pa,value:S,onChange:function(e){return f(e.target.value)}}),r.a.createElement(la.a,{style:{maxWidth:600,marginTop:10,minHeight:200},bordered:!0,dataSource:""===S?N:m,renderItem:function(e){var t;return r.a.createElement(la.a.Item,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{marginLeft:10}},r.a.createElement(aa.a,{icon:"group",src:(null===(t=e.photo)||void 0===t?void 0:t.length)>0&&u._url+e.photo[0].uri})),r.a.createElement("div",null,e.title),r.a.createElement("div",{style:{marginRight:10}},r.a.createElement(oa.a,{onClick:function(){return C(e.id)},type:"primary"},Oa)))}})))})),Aa=n(1203),Ta=n(1197),Ma=(n(1140),n(581)),Fa=((LaNg||{}).Search||{})[LnG||"EN"]||"Search...",Ga=((LaNg||{}).Clean||{})[LnG||"EN"]||"Clean",Ra=((LaNg||{}).emNotFound||{})[LnG||"EN"]||"Emoji not found",Ua=((LaNg||{}).emSkinText||{})[LnG||"EN"]||"Emoji not found",za=((LaNg||{}).searchResult||{})[LnG||"EN"]||"search result",Ba=((LaNg||{}).emComUsed||{})[LnG||"EN"]||"Commonly used",Wa=((LaNg||{}).emPp||{})[LnG||"EN"]||"People",Ja=((LaNg||{}).emNt||{})[LnG||"EN"]||"Nature",Ka=((LaNg||{}).emFoDr||{})[LnG||"EN"]||"Food & Drink",Ha=((LaNg||{}).emAct||{})[LnG||"EN"]||"Activity",Va=((LaNg||{}).emTrPl||{})[LnG||"EN"]||"Travel & Places",Ya=((LaNg||{}).emObj||{})[LnG||"EN"]||"Objects",qa=((LaNg||{}).emSym||{})[LnG||"EN"]||"Symbols",$a=((LaNg||{}).emFlags||{})[LnG||"EN"]||"Flags",Xa={editor__picker:{position:"absolute",bottom:0,left:-320},editor__icon:{fontSize:24,color:"#1b90fa",marginLeft:30}},Qa=function(e){var t=e.visiblePicker,n=e.setStateUpComp,a=e.addEmoji;return r.a.createElement(Ta.a,{trigger:"click",visible:t,onVisibleChange:function(e){return n({visiblePicker:e})},content:r.a.createElement(Ma.a,{emojiSize:24,title:"",style:Xa.editor__picker,onSelect:function(e){a(e),n({visiblePicker:!1})},i18n:{search:Fa,clear:Ga,notfound:Ra,skintext:Ua,categories:{search:za,recent:Ba,people:Wa,nature:Ja,foods:Ka,activity:Ha,places:Va,objects:Ya,symbols:qa,flags:$a,custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}})},r.a.createElement(b.a,{type:"smile",style:Xa.editor__icon,onClick:function(){return n({visiblePicker:!t})}}))};function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tr=ta.a.TextArea,nr=((LaNg||{}).writeMessage||{})[LnG||"EN"]||"Write a message",ar=((LaNg||{}).FilE||{})[LnG||"EN"]||"File",rr=((LaNg||{}).chatChFile||{})[LnG||"EN"]||"Choose the file",or=((LaNg||{}).chatChImage||{})[LnG||"EN"]||"Choose the image",ir=((LaNg||{}).sendComment||{})[LnG||"EN"]||"Send",lr=Object(g.a)(Object(g.e)((function(e){var t=e.inState;return{visiblePicker:(void 0===t?{visiblePicker:!1}:t).visiblePicker}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return _.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({handleChangeImg:function(e){var t=e.set_state,n=e.onSubmit;return function(e){var a=new FileReader;a.addEventListener("load",(function(){t({imageUrl:a.result})}),!1);var r=e.target.files[0];r&&a.readAsDataURL(r),n(e.target.files,"","image")}}})),cr={comment:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:5,maxWidth:800,borderRadius:10,backgroundColor:"#99cdf8",position:"absolute",left:"50%",top:-30,transform:"translate(-50%, 0)"},editor__textarea:{maxWidth:800,margin:"0 auto"},editor__iconContainer:{position:"absolute",top:-7,left:-70},comments__itemAuthor:{margin:"0 10px 0 50px",color:"aliceblue",fontSize:14,backgroundColor:"#4586c2",padding:"0 4px",borderRadius:10}},ur=lr((function(e){var t=e.onChange,n=e.onSubmit,a=e.submitting,o=e.value,i=e.set_state,l=e.visiblePicker,c=e.refForm,u=e.refFormImg,s=e.answerComment,d=e.addEmoji,p=e.setStateUpComp,f=e.handleChangeImg;return r.a.createElement("div",null,s?r.a.createElement("div",{style:cr.comment},r.a.createElement(b.a,{type:"message",style:{fontSize:20,marginLeft:20}}),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:cr.comments__itemAuthor},s.login),r.a.createElement("div",{style:{marginRight:50}},""===s.text?ar:s.text.length>25?s.text.slice(0,25).concat("..."):s.text)),r.a.createElement(b.a,{type:"close",style:{fontSize:15,marginRight:20,cursor:"pointer"},onClick:function(){return p({answerComment:null})}})):null,r.a.createElement(Aa.a,null,r.a.createElement("div",{style:{margin:"0 auto",maxWidth:800}},r.a.createElement(Aa.a.Item,null,r.a.createElement(tr,{onChange:t,value:o,style:cr.editor__textarea,autoSize:{maxRows:6},placeholder:nr+"...",onPressEnter:function(e){13==e.keyCode&&0==e.shiftKey&&(e.preventDefault(),n())}})))),r.a.createElement("div",{style:{margin:"0 auto",maxWidth:800,textAlign:"right"}},r.a.createElement(Aa.a.Item,null,r.a.createElement("span",{style:{position:"absolute",left:-130,top:-5}},r.a.createElement(ra.a,{title:or},r.a.createElement("form",{ref:u},r.a.createElement("label",{htmlFor:"image-input",style:{width:30,height:30,cursor:"pointer"}},r.a.createElement(b.a,{type:"picture",style:{fontSize:25,color:"#1b90fa"}})),r.a.createElement("input",{id:"image-input",accept:"image/*",style:{display:"none"},type:"file",onChange:function(e){return f(e)}})))),r.a.createElement("span",{className:"editor__icon",style:{position:"absolute",left:-80,top:-7}},r.a.createElement(ra.a,{title:rr},r.a.createElement("form",{ref:c},r.a.createElement("label",{htmlFor:"file-input",style:{width:30,height:30,cursor:"pointer"}},r.a.createElement(b.a,{component:"clip",style:{fontSize:25}})),r.a.createElement("input",{multiple:!0,id:"file-input",style:{display:"none"},type:"file",onChange:function(e){return n(e.target.files,"","files")}})))),r.a.createElement("span",{style:cr.editor__iconContainer},r.a.createElement(Qa,{visiblePicker:l,setStateUpComp:i,addEmoji:d})),r.a.createElement(oa.a,{htmlType:"submit",loading:a,onClick:function(){return n()},type:"primary"},ir))))})),sr=n(583),dr=Object(sr.a)({name:"chat",initialState:{statusModalInit:!1,statusModalInitPerson:!1,listChats:[]},reducers:{modalInit:function(e,t){var n=t.payload;e.statusModalInit=n},modalInitPerson:function(e,t){var n=t.payload;e.statusModalInitPerson=n},listChats:function(e,t){var n=t.payload;e.listChats=n},requestListChats:function(e){}}}),pr=dr.actions,fr=(dr.reducer,n(1198));function mr(e){return function(e){if(Array.isArray(e))return gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr,Er=ta.a.TextArea,Or=((LaNg||{}).EdiT||{})[LnG||"EN"]||"Edit",jr=((LaNg||{}).Message||{})[LnG||"EN"]||"Message",kr=((LaNg||{}).writeMessage||{})[LnG||"EN"]||"writeMessage",_r=Object(g.a)(Object(Yn.b)((function(e){return{chatId:e.user.chatId}}),(function(e){return{set_chat_id:function(t){return e(Object(Xn.j)(t))},requestListChats:function(){return e(pr.requestListChats())}}})),Object(g.e)((function(e){var t=e.inState,n=void 0===t?{comments:[],submitting:!1,value:"",valueSign:"",refForm:r.a.createRef(),refFormImg:r.a.createRef(),isModalEditOpen:!1,commentForEdit:{},isCommentDelete:!1,answerComment:null,globalSpin:!0,visiblePickerEdit:!1,lastComment:{},changedId:!1,isSubmit:!1}:t;return{comments:n.comments,submitting:n.submitting,value:n.value,valueSign:n.valueSign,refForm:n.refForm,refFormImg:n.refFormImg,isModalEditOpen:n.isModalEditOpen,commentForEdit:n.commentForEdit,isCommentDelete:n.isCommentDelete,answerComment:n.answerComment,globalSpin:n.globalSpin,visiblePickerEdit:n.visiblePickerEdit,lastComment:n.lastComment,changedId:n.changedId,isSubmit:n.isSubmit}}),{set_state:function(e){return function(t){var n=yr({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({handleWS:function(e){var t=e.set_state,n=e.requestListChats;return function(e){var a=document.location.href.split("//")[1];a=(-1!==document.location.href.split("//")[0].indexOf("s")?"wss":"ws")+"://"+(a=a.split("/")[0])+"/messages",(vr=new WebSocket(a)).onopen=function(){vr.send(JSON.stringify({dialogid:e}))},vr.onmessage=function(e){var a=JSON.parse(e.data);a.forEach((function(e){return e.key=e.id})),a.length>0?(t({globalSpin:!1,comments:mr(a),isCommentDelete:!1,submitting:!1,lastComment:a[a.length-1]}),a.forEach((function(e,t){a.length-1===t?j("GET",{},"/api/dialog_message_setreaded?id="+e.id,(function(){return n()})):j("GET",{},"/api/dialog_message_setreaded?id="+e.id)}))):t({globalSpin:!1})},vr.onclose=function(e){console.log("WebSocket is closed now.")}}},handleSubmit:function(e){var t=e.value,n=e.chatId,a=e.set_state,r=e.refForm,o=e.refFormImg,i=e.answerComment;return function(e,l,c){var u;if(a({submitting:!0,isSubmit:!0}),c)for(var s in u=l.trimLeft(),""!==l&&j("POST",{dialogid:n,message_text:u},"/api/dialog_message_send",(function(){a({valueSign:""})})),e){if("length"===s||"item"===s)break;var d=new FormData;d.append("config",JSON.stringify({type:c})),d.append("dialogid",n),s==e.length-1?(d.append("file_0",e[s]),j("POST",d,"/api/dialog_message_send",(function(){r.current.reset(),o.current.reset()}),(function(e){a({submitting:!1})}))):(d.append("file_0",e[s]),j("POST",d,"/api/dialog_message_send"))}else{u=t.trimLeft();var p={dialogid:n,message_text:u,reply_to:i?i.id:null};j("POST",p,"/api/dialog_message_send",(function(){a({value:"",valueSign:"",answerComment:null}),r.current.reset(),o.current.reset()}),(function(e){a({submitting:!1})}))}}},handleEdit:function(e){var t=e.commentForEdit,n=e.set_state;return function(){n({submitting:!0,isSubmit:!0}),j("POST",{id:t.id,message_text:t.message_text},"/api/dialog_message_edit",(function(){n({commentForEdit:{},isModalEditOpen:!1})}))}},addEmoji:function(e){var t=e.set_state,n=e.value,a=e.commentForEdit;return function(e){var r=e.unified.split("-"),o=[];r.forEach((function(e){return o.push("0x"+e)}));var i=String.fromCodePoint.apply(String,o);0===Object.keys(a).length&&a.constructor===Object?t({value:n+i}):t({commentForEdit:yr(yr({},a),{},{message_text:a.message_text+i})})}}}),Object(g.b)({componentDidMount:function(){var e=this.props;(0,e.handleWS)(e.chatId)},componentDidUpdate:function(e){var t=this.props,n=t.chatId,a=t.handleWS,r=t.set_state;e.chatId!==n&&(r({answerComment:null,comments:[],globalSpin:!0,changedId:!0}),vr.close(),a(n))}})),wr={comment__container:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start"}},Cr=_r((function(e){var t=e.comments,n=e.submitting,a=e.value,o=e.set_state,i=e.handleSubmit,l=e.handleEdit,c=e.addEmoji,u=e.answerComment,s=e.visiblePicker,d=e.chatId,p=e.isSubmit,f=e.valueSign,m=e.refForm,g=e.refFormImg,h=e.isModalEditOpen,y=e.commentForEdit,b=e.isCommentDelete,v=e.globalSpin,E=e.lastComment,O=e.changedId;return r.a.createElement("div",{style:wr.comment__container},r.a.createElement(Ia,{comments:t,setStateUpComp:o,isCommentDelete:b,globalSpin:v,lastComment:E,changedId:O,chatId:d,isSubmit:p}),r.a.createElement(fr.a,{style:{position:"fixed",bottom:"0%",width:"calc(100% - 500px)"},content:r.a.createElement(ur,{onChange:function(e){return o({value:e.target.value})},onSubmit:i,submitting:n,value:a,addEmoji:c,setStateUpComp:o,valueSign:f,refForm:m,refFormImg:g,answerComment:u,commentForEdit:y})}),r.a.createElement(ia.a,{title:Or,centered:!0,visible:h,onCancel:function(){return o({isModalEditOpen:!1,commentForEdit:{}})},onOk:function(){return l()}},r.a.createElement("div",null,jr),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Er,{autoSize:{maxRows:6},value:y.message_text,onChange:function(e){return o({commentForEdit:yr(yr({},y),{},{message_text:e.target.value})})},placeholder:kr+"...",onPressEnter:function(e){13==e.keyCode&&0==e.shiftKey&&(e.preventDefault(),l())}}),r.a.createElement(Qa,{visiblePicker:s,setStateUpComp:o,addEmoji:c}))))})),Sr=n(579),Pr=n.n(Sr),Lr=n(148),Nr=n(1199),Dr=n(1200);function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=ta.a.Search,Mr=((LaNg||{}).Yes||{})[LnG||"EN"]||"Yes",Fr=((LaNg||{}).ChangeD||{})[LnG||"EN"]||"changed",Gr=((LaNg||{}).Delete||{})[LnG||"EN"]||"Delete",Rr=(((LaNg||{}).EdiT||{})[LnG||"EN"],((LaNg||{}).CanceL||{})[LnG||"EN"]||"Cancel"),Ur=((LaNg||{}).areUSure||{})[LnG||"EN"]||"Are you sure?",zr=(((LaNg||{}).getFilter||{})[LnG||"EN"],((LaNg||{}).chatCreated||{})[LnG||"EN"],((LaNg||{}).Search||{})[LnG||"EN"]||"Search "),Br=((LaNg||{}).chatAdmin||{})[LnG||"EN"]||"admin",Wr=((LaNg||{}).chatAdmininstrator||{})[LnG||"EN"]||"Administrator",Jr=((LaNg||{}).createDate||{})[LnG||"EN"]||"Created:",Kr=((LaNg||{}).chatChangeTitle||{})[LnG||"EN"]||"Change title",Hr=((LaNg||{}).chatChangePhoto||{})[LnG||"EN"]||"Change photo",Vr=((LaNg||{}).OwneR||{})[LnG||"EN"]||"Owner",Yr=((LaNg||{}).chatAddAdmin||{})[LnG||"EN"]||"Add admin",qr=((LaNg||{}).chatDeleteAdmin||{})[LnG||"EN"]||"Delete admin",$r=((LaNg||{}).chatMembers||{})[LnG||"EN"]||"Chat members",Xr=((LaNg||{}).chatAddMember||{})[LnG||"EN"]||"Add member",Qr=((LaNg||{}).chatDeleteMember||{})[LnG||"EN"]||"Delete member",Zr=((LaNg||{}).chatLeaveTheGroup||{})[LnG||"EN"]||"eave the group",eo=((LaNg||{}).chatChImage||{})[LnG||"EN"]||"Choose the image",to=((LaNg||{}).Add||{})[LnG||"EN"]||"Add",no=((LaNg||{}).showAll||{})[LnG||"EN"]||"Show all",ao=Object(g.a)(Object(Yn.b)((function(e){return{listChats:e.chat.listChats}}),(function(e){return{set_chat_id:function(t){return e(Object(Xn.j)(t))},requestListChats:function(){return e(pr.requestListChats())}}})),Object(g.e)((function(e){var t=e.inState,n=void 0===t?{isModalDelMemberOpen:!1,isModalAddMemberOpen:!1,isModalMainOpen:!1,selectedUser:[],valueSearch:"",isShowAllUsers:!1,findedUsers:[],isAddAdmin:!1,valueTitle:"",imageUrl:"",objAvatarFile:{}}:t;return{isModalDelMemberOpen:n.isModalDelMemberOpen,isModalAddMemberOpen:n.isModalAddMemberOpen,isModalMainOpen:n.isModalMainOpen,selectedUser:n.selectedUser,valueSearch:n.valueSearch,isShowAllUsers:n.isShowAllUsers,findedUsers:n.findedUsers,isAddAdmin:n.isAddAdmin,valueTitle:n.valueTitle,imageUrl:n.imageUrl,objAvatarFile:n.objAvatarFile}}),{set_state:function(e){return function(t){var n=Ir({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({filterUsers:function(e){var t=e.listChats,n=e.chatId,a=e.set_state;return function(e){a({isShowAllUsers:!1});var r=e.toLocaleLowerCase(),o=t.find((function(e){return e.id===n})).users.filter((function(e){return e.login.toLocaleLowerCase().includes(r)}));a({selectedUser:o})}},deleteUser:function(e){var t=e.chatId,n=e.set_chat_id,a=e.set_state,r=e.requestListChats;return function(e){j((void 0).delete,{id:t,user_to_remove:e},"/api/dialog_removeuser",(function(){a({selectedUser:[],isModalDelMemberOpen:!1,valueSearch:""}),r(),n(t)}))}},showAllUsers:function(e){var t=e.listChats,n=e.chatId,a=e.set_state;return function(){var e=t.find((function(e){return e.id===n}));a({selectedUser:e.users,isShowAllUsers:!0})}},findUser:function(e){var t=e.set_state;return function(e){if(""!==e){var n=Pr.a.stringify({substr:e});j((void 0).get,{},"/api/dialogs_usersearch?"+n,(function(e){var n=_.sortBy(e.outjson,["login"]);t({findedUsers:n})}))}}},addUser:function(e){var t=e.chatId,n=e.set_chat_id,a=e.set_state,r=e.requestListChats;return function(e){j("POST",{user_to_add:e,id:t},"/api/dialog_adduser",(function(){a({findedUsers:[],isModalAddMemberOpen:!1,valueSearch:""}),r(),n(t)}))}},deleteSelf:function(e){var t=e.chatId,n=e.set_chat_id,a=e.setStateUpComp,r=e.requestListChats;return function(){j("POST",{id:t},"/api/dialog_leave",(function(){a({openDrawerPanel:!1}),n(!1),r()}))}},addAdmin:function(e){var t=e.chatId,n=e.set_state,a=e.requestListChats;return function(e){j("POST",{user_to_add:e,id:t},"/api/dialog_addadmin",(function(){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1}),a(),Object(Xn.j)(t)}),(function(e){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1})}))}},deleteAdmin:function(e){var t=e.chatId,n=e.set_state,a=e.requestListChats;return function(e){j("DELETE",{admin_to_remove:e,id:t},"/api/dialog_removeadmin",(function(){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1}),a()}),(function(e){n({selectedUser:[],isModalAdminOpen:!1,valueSearch:"",isAddAdmin:!1})}))}},setStateFile:function(e){var t=e.set_state;return function(e){var n=new FileReader,a=e.target.files[0];n.addEventListener("load",(function(){t({imageUrl:n.result})}),!1),a&&(n.readAsDataURL(a),t({objAvatarFile:a}))}},changeGroupSet:function(e){var t=e.chatId,n=e.set_state,a=e.objAvatarFile,r=e.requestListChats;return function(e,o){if("title"===e)j("POST",{id:t,title:o},"/api/dialog_edit",(function(){n({valueTitle:"",isModalMainOpen:!1}),r(),Dr.a.success({message:Fr})}));else{var i=new FormData;i.append("file_0",a),i.append("config",JSON.stringify({type:"image"})),i.append("id",t),j("POST",i,"/api/dialog_edit",(function(){n({objAvatarFile:{},isModalPicOpen:!1,imageUrl:""}),r(),Dr.a.success({message:Fr})}))}}}})),ro={admins:{display:"flex",justifyContent:"space-around",alignItems:"flex-end",flexWrap:"wrap",backgroundColor:"#bafdaf",borderTopLeftRadius:20,borderTopRightRadius:20,padding:10},login:{textAlign:"center",backgroundColor:"#4686bf",color:"aliceblue",borderRadius:10,fontSize:12,padding:"0 2px"},members:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:"#bafdaf",borderTopLeftRadius:20,borderTopRightRadius:20,padding:10},buttons:{display:"flex",justifyContent:"space-around",paddingTop:10,paddingBottom:10,backgroundColor:"#ccc"},avatar_contain:{textAlign:"center",display:"flex",justifyContent:"center",cursor:"pointer"},avatarNull:{width:100,height:100,border:"1px dashed",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},oo=ao((function(e){var t,n=e.chatId,a=e.setStateUpComp,o=e.set_state,i=e.isModalDelMemberOpen,l=e.filterUsers,c=e.selectedUser,u=e.deleteSelf,s=e.isAddAdmin,d=e.deleteUser,p=e.valueSearch,f=e.showAllUsers,m=e.isModalAddMemberOpen,g=e.findUser,h=e.findedUsers,y=e.addUser,v=e.isModalAdminOpen,E=e.addAdmin,O=e.deleteAdmin,j=e.changeGroupSet,k=e.isModalMainOpen,_=e.valueTitle,w=e.isModalPicOpen,C=e.imageUrl,S=e.setStateFile,P=e.objAvatarFile,L=Object(Yn.d)((function(e){return e.chat.listChats})).find((function(e){return e.id===n})),N=L.creator,D=L.dialog_admins.filter((function(e){return e!==N.id})).map((function(e){for(var t=0;t<L.users.length;++t)if(e===L.users[t].id)return L.users[t]}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center"}},Jr," "),r.a.createElement("div",{style:{textAlign:"center",fontWeight:"bolder",fontSize:24}},ge()(L.created).format("DD.MM.YYYY"))),"group"===L.dialog_type_name?r.a.createElement("div",{style:Ir({margin:"20px 0",borderRadius:10},ro.buttons)},r.a.createElement(oa.a,{onClick:function(){return o({isModalMainOpen:!0})}},Kr),r.a.createElement(oa.a,{onClick:function(){return o({isModalPicOpen:!0})}},Hr)):null,r.a.createElement("div",null,r.a.createElement("div",null,Wr),r.a.createElement("div",{style:ro.admins},r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",fontSize:20,height:25}},r.a.createElement(b.a,{type:"crown"})),r.a.createElement(aa.a,{icon:"user",src:null===(t=N.photo[0])||void 0===t?void 0:t.src,size:46}),r.a.createElement("div",{style:ro.login},N.login),r.a.createElement("div",{style:{fontSize:10,textAlign:"center"}},Vr)),D.map((function(e){var t;return r.a.createElement("div",{key:e.login+"admins"},r.a.createElement(aa.a,{icon:"user",src:null===(t=e.photo[0])||void 0===t?void 0:t.src,size:46}),r.a.createElement("div",{style:ro.login},e.login),r.a.createElement("div",{style:{fontSize:10,textAlign:"center"}},Br))})))),"group"===L.dialog_type_name&&L.isadmin?r.a.createElement("div",{style:ro.buttons},r.a.createElement(oa.a,{size:"small",type:"primary",onClick:function(){return o({isModalAdminOpen:!0,isAddAdmin:!0})}},Yr),r.a.createElement(oa.a,{size:"small",type:"danger",onClick:function(){return o({isModalAdminOpen:!0})}},qr)):null,r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("div",null,$r),r.a.createElement("div",{style:ro.members},L.users?L.users.map((function(e){var t;return r.a.createElement("div",{key:e.login},r.a.createElement(aa.a,{icon:"user",src:null!==e.photo&&(null===(t=e.photo[0])||void 0===t?void 0:t.src),size:46}),r.a.createElement("div",{style:ro.login},e.login))})):r.a.createElement(Lr.a,null)))),"group"===L.dialog_type_name&&L.isadmin?r.a.createElement("div",{style:ro.buttons},r.a.createElement(oa.a,{size:"small",type:"primary",onClick:function(){return o({isModalAddMemberOpen:!0})}},Xr),r.a.createElement(oa.a,{size:"small",type:"danger",onClick:function(){a({openDrawerPanel:!1}),o({isModalDelMemberOpen:!0})}},Qr)):null,"group"===L.dialog_type_name?r.a.createElement("div",{style:{marginTop:40,textAlign:"center"}},r.a.createElement(Nr.a,{title:Ur,okText:Mr,cancelText:Rr,onConfirm:function(){return u()}},r.a.createElement(oa.a,{type:"danger"},Zr))):null,r.a.createElement(ia.a,{centered:!0,title:Kr,visible:k,onCancel:function(){return o({isModalMainOpen:!1})},onOk:function(){return j("title",_)}},r.a.createElement(ta.a,{value:_,onChange:function(e){return o({valueTitle:e.target.value})}})),r.a.createElement(ia.a,{centered:!0,title:Hr,visible:w,onCancel:function(){return o({isModalPicOpen:!1,objAvatarFile:{},imageUrl:""})},onOk:function(){return j("image",P)}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"avatarChangePic"},r.a.createElement("div",{style:ro.avatar_contain},C?r.a.createElement("img",{src:C,width:400,style:ro.avatarImg}):r.a.createElement("div",{style:ro.avatarNull},eo))),r.a.createElement("input",{type:"file",accept:"image/*",id:"avatarChangePic",style:{visibility:"hidden",height:1},onChange:function(e){return S(e)}}))),r.a.createElement(ia.a,{centered:!0,title:Qr,onCancel:function(){return o({isModalDelMemberOpen:!1,selectedUser:[],valueSearch:""})},visible:i,footer:r.a.createElement(oa.a,{onClick:function(){return o({isModalDelMemberOpen:!1,selectedUser:[],valueSearch:""})}},Rr)},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20,marginTop:20}},r.a.createElement(oa.a,{onClick:function(){return f()},type:"primary"},no),r.a.createElement(Tr,{placeholder:Tr,style:{width:300},onSearch:function(e){return l(e)},value:p,onChange:function(e){return o({valueSearch:e.target.value})}})),r.a.createElement(la.a,{bordered:!0,dataSource:c,renderItem:function(e){var t;return r.a.createElement(la.a.Item,{style:{display:"flex",justifyContent:"space-around"},key:e.id},r.a.createElement(aa.a,{icon:"user",src:null===(t=e.photo[0])||void 0===t?void 0:t.src}),r.a.createElement("div",null,e.login),r.a.createElement(Nr.a,{title:Ur,okText:Mr,cancelText:Rr,onConfirm:function(){return d(e.id)}},r.a.createElement(oa.a,{type:"danger"},Gr)))}})),r.a.createElement(ia.a,{centered:!0,title:Xr,onCancel:function(){return o({isModalAddMemberOpen:!1,valueSearch:"",findedUsers:[]})},visible:m,footer:r.a.createElement(oa.a,{onClick:function(){return o({isModalAddMemberOpen:!1,valueSearch:"",findedUsers:[]})}},Rr)},r.a.createElement("div",{style:{display:"flex",justifyContent:"added",marginBottom:20,marginTop:20}},r.a.createElement(Tr,{placeholder:zr,style:{width:300},onSearch:g,value:p,onChange:function(e){return o({valueSearch:e.target.value})}})),r.a.createElement(la.a,{bordered:!0,dataSource:h,renderItem:function(e){var t;return r.a.createElement(la.a.Item,{style:{display:"flex",justifyContent:"space-around"},key:e.id},r.a.createElement(aa.a,{icon:"user",src:null===(t=e.photo[0])||void 0===t?void 0:t.src}),r.a.createElement("div",null,e.login),r.a.createElement(oa.a,{type:"primary",onClick:function(){return y(e.id)}},to))}})),r.a.createElement(ia.a,{centered:!0,title:s?Yr:qr,visible:v,onCancel:function(){return o({isModalAdminOpen:!1,valueSearch:"",selectedUser:[],isAddAdmin:!1})},footer:r.a.createElement(oa.a,{onClick:function(){return o({isModalAdminOpen:!1,valueSearch:"",selectedUser:[],isAddAdmin:!1})}},Rr)},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20,marginTop:20}},r.a.createElement(oa.a,{onClick:function(){return f()},type:"primary"}," "),r.a.createElement(Tr,{placeholder:zr,style:{width:300},onSearch:function(e){return l(e)},value:p,onChange:function(e){return o({valueSearch:e.target.value})}})),r.a.createElement(la.a,{bordered:!0,dataSource:c,renderItem:function(e){var t;return r.a.createElement(la.a.Item,{style:{display:"flex",justifyContent:"space-around"},key:e.id},r.a.createElement(aa.a,{icon:"user",src:null===(t=e.photo[0])||void 0===t?void 0:t.src}),r.a.createElement("div",null,e.login),s?e.isadmin?r.a.createElement(oa.a,{disabled:!0},Br):r.a.createElement(Nr.a,{title:Ur,okText:Mr,cancelText:Rr,onConfirm:function(){return E(e.id)}},r.a.createElement(oa.a,{type:s?"primary":"danger"},s?to:Gr)):e.isadmin?r.a.createElement(Nr.a,{title:Ur,okText:Mr,cancelText:Rr,onConfirm:function(){return O(e.id)}},r.a.createElement(oa.a,{type:s?"primary":"danger"},s?to:Gr)):r.a.createElement(oa.a,{disabled:!0},$r))}})))})),io=n(1201),lo=n(171);function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var so={},po=((LaNg||{}).chatNotCh||{})[LnG||"EN"]||"You have not selected chat participants",fo=((LaNg||{}).chatCreatedGroup||{})[LnG||"EN"]||"Created",mo=((LaNg||{}).chatInitGroup||{})[LnG||"EN"]||"Initializing a group chat",go=((LaNg||{}).chatInit||{})[LnG||"EN"]||"Chat members",ho=((LaNg||{}).userNotFound||{})[LnG||"EN"]||"user not found",yo=((LaNg||{}).Search||{})[LnG||"EN"]||"Search...",bo=((LaNg||{}).Create||{})[LnG||"EN"]||"Create",vo=((LaNg||{}).uncorrectData||{})[LnG||"EN"]||"uncorrect data",Eo=((LaNg||{}).uploadImage||{})[LnG||"EN"]||"upload image",Oo=((LaNg||{}).chatGroupTitle||{})[LnG||"EN"]||"group title",jo=((LaNg||{}).chatGroupTitleEnter||{})[LnG||"EN"]||"Enter the group title",ko=((LaNg||{}).Next||{})[LnG||"EN"]||"Next",_o=((LaNg||{}).chatGoBack||{})[LnG||"EN"]||"Go back",wo=Object(g.a)(Object(Yn.b)((function(){return{}}),(function(e){return{requestListChats:function(){return e(pr.requestListChats())},actWithModal:function(t){return e(pr.modalInit(t))}}})),Object(g.e)((function(e){var t=e.inState,n=void 0===t?{inputGroupName:"",usersData:[],valueSelect:[],setUsersForSubmit:new Set,objAvatarFile:{},imageUrl:"",fetching:!1,listEmpty:!1,usersDataAccum:[]}:t;return{inputGroupName:n.inputGroupName,usersData:n.usersData,valueSelect:n.valueSelect,setUsersForSubmit:n.setUsersForSubmit,objAvatarFile:n.objAvatarFile,imageUrl:n.imageUrl,fetching:n.fetching,listEmpty:n.listEmpty,usersDataAccum:n.usersDataAccum}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({getListData:function(e){var t=e.set_state,n=e.usersDataAccum;return function(e){if(""!==e)return t({fetching:!0}),so.listUserSelect&&clearTimeout(so.listUserSelect),new Promise((function(t){so.listUserSelect=setTimeout((function(){j("GET",{},"/api/dialogs_usersearch?substr="+e,(function(e){var n=_.sortBy(e.outjson,["login"]);t(n)}))}),100)})).then((function(e){t({fetching:!1}),0===e.length&&t({listEmpty:!0});var a=[],r=e.map((function(e,t){var r,o={login:e.login,avatar:null===e.photo?null:u._url+(null===(r=e.photo[0])||void 0===r?void 0:r.uri),id:e.id};n.length>0&&(n.some((function(t){return t.login===e.login}))||a.push(o));return o}));0===n.length?t({usersData:r,usersDataAccum:r}):t({usersData:r,usersDataAccum:n.concat(a)})}))}},onChangeSelect:function(e){e.usersData;var t=e.set_state,n=e.setUsersForSubmit,a=e.usersDataAccum;return function(e){n.clear(),e.map((function(e){a.forEach((function(t){t.login===e&&n.add(t.id)}))})),t({valueSelect:e,setUsersForSubmit:n})}},setStateFile:function(e){var t=e.set_state;return function(e){var n=new FileReader,a=e.target.files[0];n.addEventListener("load",(function(){t({imageUrl:n.result})}),!1),a&&(n.readAsDataURL(a),t({objAvatarFile:a}))}}}),Object(g.c)({createChatRoom:function(e){var t=e.setUsersForSubmit,n=e.inputGroupName,a=e.objAvatarFile,r=e.usersData,o=e.set_stateUpComponent,i=e.set_state,l=e.requestListChats,c=e.actWithModal;return function(){if(0!==r.length){var e,u=[];t.forEach((function(e){u.push(e)})),(e=new FormData).append("file_0",a),e.append("config",JSON.stringify({type:"image"})),e.append("users",JSON.stringify(u)),e.append("title",n),!(a instanceof File)&&(e={config:{type:"image"},users:u,title:n}),j("POST",e,"/api/dialog_group_create",(function(e){c(!1),l(),o({statusCreateChat:!0}),Dr.a.success({message:fo}),i({setUsersForSubmit:new Set,inputGroupName:"",objAvatarFile:{},usersData:[],valueSelect:[],imageUrl:"",usersDataAccum:[]})}))}else Dr.a.error({message:po})}}})),Co={btn__firstContainer:{textAlign:"center"},btn__secondContainer:{display:"flex",justifyContent:"space-between",marginTop:100},btn:{marginTop:50},option__name:{marginLeft:10},select:{width:"100%"},avatar_contain:{textAlign:"center",display:"flex",justifyContent:"center"},avatarNull:{width:100,height:100,border:"1px dashed",borderRadius:"50%",display:"inline-block",textAlign:"center",position:"relative",top:"50%",cursor:"pointer"},avatarImg:{borderRadius:"50%",border:"1px solid",cursor:"pointer"},listEmpty:{textAlign:"center"}},So=wo((function(e){var t=e.carouselRef,n=e.fetching,a=e.createChatRoom,o=e.setStateFile,i=e.inputGroupName,l=e.set_state,c=e.usersData,u=e.valueSelect,s=e.getListData,d=e.onChangeSelect,p=e.imageUrl,f=e.listEmpty,m=Object(Yn.d)((function(e){return e.chat.statusModalInit})),g=Object(Yn.c)();return r.a.createElement(ia.a,{centered:!0,visible:m,title:mo,onCancel:function(){l({imageUrl:"",inputGroupName:"",usersData:[],usersDataAccum:[]}),g(pr.modalInit(!1))},footer:null},r.a.createElement(io.a,{dots:!1,ref:function(e){return t=e}},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",{style:{position:"relative",left:"40%"},htmlFor:"avatarChatInit"},p?r.a.createElement("img",{src:p,width:100,height:100,style:Co.avatarImg}):r.a.createElement("span",{style:Co.avatarNull},r.a.createElement("span",{style:{position:"absolute",top:"40%",transform:"translate(-50%, -40%)"}},Eo))),r.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",id:"avatarChatInit",style:{visibility:"hidden",height:1},onChange:function(e){return o(e)}})),r.a.createElement("div",null,Oo),r.a.createElement(ta.a,{value:i,placeholder:jo,onChange:function(e){return l({inputGroupName:e.target.value})}})),r.a.createElement("div",{style:Co.btn__firstContainer},r.a.createElement(oa.a,{style:Co.btn,onClick:function(){i.trimLeft()?t.next():(Dr.a.error({message:vo}),l({inputGroupName:event.target.value}))}},ko))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,go),r.a.createElement(lo.a,{notFoundContent:n?r.a.createElement(na.a,{size:"small"}):f?r.a.createElement("div",{style:Co.listEmpty},ho):null,placeholder:yo,mode:"multiple",value:u,onChange:function(e){return d(e)},onSearch:s,style:Co.select,size:"large"},c.map((function(e){return r.a.createElement(lo.a.Option,{key:e.login},null===e.avatar?r.a.createElement(aa.a,{icon:"user"}):r.a.createElement(aa.a,{src:e.avatar}),r.a.createElement("span",{style:Co.option__name},e.login))})))),r.a.createElement("div",{style:Co.btn__secondContainer},r.a.createElement(oa.a,{onClick:function(){return t.prev()}},_o),r.a.createElement(oa.a,{type:"primary",onClick:function(){return a()}},bo)))))}));function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var No={},Do=((LaNg||{}).chatNotCh||{})[LnG||"EN"]||"You have not selected chat participants",xo=((LaNg||{}).chatCreated||{})[LnG||"EN"]||"Created",Io=((LaNg||{}).chatInit||{})[LnG||"EN"]||"Initializing chat",Ao=((LaNg||{}).chatInit||{})[LnG||"EN"]||"Chat members",To=((LaNg||{}).userNotFound||{})[LnG||"EN"]||"user not found",Mo=((LaNg||{}).Search||{})[LnG||"EN"]||"Search...",Fo=((LaNg||{}).Create||{})[LnG||"EN"]||"Create",Go=Object(g.a)(Object(Yn.b)((function(){return{}}),(function(e){return{requestListChats:function(){return e(pr.requestListChats())},actWithModal:function(t){return e(pr.modalInitPerson(t))}}})),Object(g.e)((function(e){var t=e.inState,n=void 0===t?{userData:[],valueSelect:[],arrUserForSubmit:[],fetching:!1,listEmpty:!1}:t;return{userData:n.userData,valueSelect:n.valueSelect,arrUserForSubmit:n.arrUserForSubmit,fetching:n.fetching,listEmpty:!1}}),{set_state:function(e){return function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).map((function(e){return n[e]=t[e]})),n}}}),Object(g.c)({getListData:function(e){var t=e.set_state;return function(e){if(""!==e)return t({fetching:!0}),No.listUserSelect&&clearTimeout(No.listUserSelect),new Promise((function(t){No.listUserSelect=setTimeout((function(){j("GET",{},"/api/dialogs_usersearch?substr="+e,(function(e){var n=_.sortBy(e.outjson,["login"]);t(n)}))}),100)})).then((function(e){t({fetching:!1}),0===e.length&&t({listEmpty:!0});var n=e.map((function(e){var t;return{login:e.login,avatar:null===e.photo?null:u._url+(null===(t=e.photo[0])||void 0===t?void 0:t.uri),id:e.id}}));t({userData:n})}))}},onChangeSelect:function(e){var t=e.userData,n=e.set_state;return function(e){var a=[];t.forEach((function(t){t.login===e&&a.push(t.id)})),n({valueSelect:e,arrUserForSubmit:a})}}}),Object(g.c)({createChatRoom:function(e){var t=e.arrUserForSubmit,n=e.userData,a=e.set_stateUpComponent,r=e.set_state,o=e.requestListChats,i=e.actWithModal;return function(){if(0!==n.length){var e={config:{type:"image"},reciver_user_id:t[0]};j("POST",e,"/api/dialog_personal_create",(function(e){i(!1),o(),a({statusCreateChat:!0}),Dr.a.success({message:xo}),r({arrUserForSubmit:[],userData:[],valueSelect:[]})}))}else Dr.a.error({message:Do})}}})),Ro={btn__firstContainer:{textAlign:"center"},btn__secondContainer:{display:"flex",justifyContent:"center",marginTop:100},btn:{marginTop:50},option__name:{marginLeft:10},select:{width:"100%"},listEmpty:{textAlign:"center"}},Uo=Go((function(e){var t=e.userData,n=e.valueSelect,a=e.fetching,o=e.getListData,i=e.onChangeSelect,l=e.createChatRoom,c=e.listEmpty,u=Object(Yn.d)((function(e){return e.chat.statusModalInitPerson})),s=Object(Yn.c)();return r.a.createElement(ia.a,{centered:!0,visible:u,title:Io,onCancel:function(){return s(pr.modalInitPerson(!1))},footer:null},r.a.createElement("div",null,r.a.createElement("div",null,Ao),r.a.createElement(lo.a,{notFoundContent:a?r.a.createElement(na.a,{size:"small"}):c&&r.a.createElement("div",{style:Ro.listEmpty},To),placeholder:Mo,value:n,onChange:function(e){return i(e)},onSearch:o,style:Ro.select,size:"large",showSearch:!0,autoFocus:!0},t.map((function(e){return r.a.createElement(lo.a.Option,{key:e.login},null===e.avatar?r.a.createElement(aa.a,{icon:"user"}):r.a.createElement(aa.a,{src:e.avatar}),r.a.createElement("span",{style:Ro.option__name},e.login))})))),r.a.createElement("div",{style:Ro.btn__secondContainer},r.a.createElement(oa.a,{type:"primary",onClick:function(){return l()}},Fo)))})),zo=n(1208),Bo=((LaNg||{}).chatWTW||{})[LnG||"EN"]||"Select in the chat list whom you would like to write",Wo=((LaNg||{}).chatOCC||{})[LnG||"EN"]||"or create a chat",Jo=((LaNg||{}).chatCrGroup||{})[LnG||"EN"]||"cretae a group",Ko=((LaNg||{}).chatCrDialog||{})[LnG||"EN"]||"create a dialog",Ho=function(){var e=Object(Yn.c)();return r.a.createElement(zo.a,{style:Vo.thirdLayout},r.a.createElement("div",{style:Vo.containerInit,className:"slide-in-elliptic-top-fwd"},r.a.createElement("div",{style:Vo.textCenter},Bo,","),r.a.createElement("div",{style:Vo.textCenter},Wo),r.a.createElement("div",null,r.a.createElement(oa.a,{style:Vo.sider__btn,onClick:function(){return e(pr.modalInit(!0))},icon:"usergroup-add"},Jo),r.a.createElement(oa.a,{style:Vo.sider__btn,onClick:function(){return e(pr.modalInitPerson(!0))},icon:"user-add"},Ko))))},Vo={thirdLayout:{display:"flex",justifyContent:"center",alignItems:"center",background:"no-repeat url('./files/fon4.jpg')",backgroundOrigin:"border-box",backgroundPosition:"center"},containerInit:{background:"#98cdfb",borderRadius:10,padding:40},textCenter:{textAlign:"center"},sider__btn:{margin:"16px auto",display:"block",width:160}};function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){$o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo=((LaNg||{}).chatCrNM||{})[LnG||"EN"]||"Chat is created. Yet no message",Qo=((LaNg||{}).fileOrImage||{})[LnG||"EN"]||"file/image",Zo=((LaNg||{}).YoU||{})[LnG||"EN"]||"you are",ei=function(){var e=Object(Yn.c)(),t=Object(Yn.d)((function(e){return e.user.chatId})),n=Object(Yn.d)((function(e){return e.chat.listChats}));return Object(a.useEffect)((function(){e(pr.requestListChats())}),[]),r.a.createElement(la.a,{style:ti.sider__list,itemLayout:"horizontal",dataSource:n,renderItem:function(n){var a,o=t===n.id?"#98cdfb":"aliceblue",i=t===n.id&&ti.choicedItem;return r.a.createElement(la.a.Item,{className:"chat__menuItem",style:qo(qo({},ti.sider__listItem),{},{backgroundColor:o}),onClick:function(){return e(Object(Xn.j)(n.id))}},r.a.createElement(la.a.Item.Meta,{avatar:(null===(a=n.photo)||void 0===a?void 0:a.length)>0?r.a.createElement(aa.a,{size:42,className:"chat__avatar",src:u._url+n.photo[0].uri}):"group"===n.dialog_type_name?r.a.createElement(aa.a,{size:42,style:ti.list_avatarIcon,icon:"team"}):r.a.createElement(aa.a,{size:42,style:ti.list_avatarIcon,icon:"user"}),title:r.a.createElement("div",{style:qo({fontSize:18},i)},r.a.createElement("span",null,"group"===n.dialog_type_name&&r.a.createElement(b.a,{type:"team",style:{paddingRight:10}}),n.title),n.unreaded>0&&r.a.createElement("span",{style:ti.title__unreaded},n.unreaded)),description:null===n.last_message?Xo:r.a.createElement("div",null,r.a.createElement("span",{style:ti.description_whom},n.last_message.ismine?Zo:n.last_message.login,":"," "),r.a.createElement("span",null,""===n.last_message.message_text?Qo:n.last_message.message_text.length>79?n.last_message.message_text.slice(0,79).concat("..."):n.last_message.message_text))}))}})},ti={sider__list:{borderRight:"1px solid #c1c1c1",overflow:"auto",maxHeight:"calc(100vh - 116px)"},choicedItem:{padding:"0 10px 0",backgroundColor:"#4586c2",color:"white",display:"inline",borderRadius:10},sider__listItem:{borderBottom:"1px solid grey"},list_avatarIcon:{marginLeft:5},title__unreaded:{color:"aliceblue",position:"absolute",right:30,padding:"1px 7px",backgroundColor:"grey",borderRadius:"50%"},description_whom:{color:"blue"}},ni=zo.a.Sider,ai=((LaNg||{}).chatCrGroup||{})[LnG||"EN"]||"Create a group",ri=((LaNg||{}).chatCrDialog||{})[LnG||"EN"]||"cretae a dialog",oi=((LaNg||{}).chatLists||{})[LnG||"EN"]||"Chat lists",ii=function(){var e=Object(Yn.c)();return r.a.createElement(ni,{width:300,style:li.sider},r.a.createElement("div",{style:li.container_actions},r.a.createElement(ra.a,{title:ai},r.a.createElement(b.a,{style:li.icon,onClick:function(){return e(pr.modalInit(!0))},type:"usergroup-add"})),r.a.createElement(ra.a,{title:ri},r.a.createElement(b.a,{style:li.icon,type:"user-add",onClick:function(){return e(pr.modalInitPerson(!0))}}))),r.a.createElement("div",{style:li.dividerSider},oi),r.a.createElement(ei,null))},li={sider:{backgroundColor:"#3e4f5f"},container_actions:{color:"white",height:64,backgroundColor:"#3e4f5f",borderRight:"#c1c1c1",display:"flex",justifyContent:"space-evenly",alignItems:"center"},icon:{fontSize:30,backgroundColor:"white",color:"black",borderRadius:10,padding:5},dividerSider:{background:"#fff",display:"block",textAlign:"center",borderRight:"1px solid #c1c1c1",borderBottom:"1px solid #c1c1c1",padding:"5px"}},ci=n(1206),ui=zo.a.Content,si=zo.a.Header,di=((LaNg||{}).chatControlPanel||{})[LnG||"EN"]||"Chat control panel",pi=((LaNg||{}).ChaT||{})[LnG||"EN"]||"Chat",fi={mainLayout:{height:"100%"},secondLayout:{backgroundColor:"white"},sider__icon:{position:"absolute",top:25,left:20,color:"aliceblue"},header:{backgroundColor:"#4486c5",display:"flex",justifyContent:"space-between",alignItems:"center"},header__nameChat:{color:"aliceblue",fontSize:25}},mi=ea((function(e){var t=e.set_state,n=e.carouselRef,o=e.openDrawerPanel,i=e.chatId,l=e.chatName,c=e.chatPhotoUri,s=Object(Yn.c)();return Object(a.useEffect)((function(){s(Object(Xn.i)())}),[]),r.a.createElement($n,null,r.a.createElement(f.a,null,r.a.createElement("title",null,pi)),r.a.createElement(zo.a,{style:fi.mainLayout},r.a.createElement(ii,null),i?r.a.createElement(zo.a,{style:fi.secondLayout},r.a.createElement(si,{style:fi.header},r.a.createElement("div",{style:fi.header__nameChat},r.a.createElement("span",{style:{paddingRight:10}},c?r.a.createElement(aa.a,{src:u._url+c,size:42,className:"chat__avatar"}):r.a.createElement(aa.a,{icon:"question",size:42,className:"chat__avatar"})),l),r.a.createElement(oa.a,{onClick:function(){return t({openDrawerPanel:!0})}},di)),r.a.createElement(ui,null,r.a.createElement(Cr,null),r.a.createElement(ci.a,{title:di,onClose:function(){return t({openDrawerPanel:!1})},visible:o,width:516},r.a.createElement(oo,{chatId:i,setStateUpComp:t})))):r.a.createElement(Ho,null),r.a.createElement(So,{set_stateUpComponent:t,carouselRef:n}),r.a.createElement(Uo,{set_stateUpComponent:t})))}));n(1191),t.a=A((function(e){var t=e.user_detail,n=(e.collapsed,e.custom_menu),a=(e.cxs,e.menu_creator_header),l=e.menu_creator;e.menuCollapseStateSave,e.getMenu;return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("meta",{charset:"utf-8"})),r.a.createElement("div",{position:"fixed"},r.a.createElement("div",null,r.a.createElement(v.Breadcrumb,{className:"teal",cols:12},n&&d.a.find(n,(function(e){return"Header Menu"===e.menutype}))?r.a.createElement("ul",null,a(a,d.a.find(n,(function(e){return 2===e.id})).menu,!1)):null))),r.a.createElement(v.Col,{container:!0},r.a.createElement(v.Col,{item:!0},n&&n.filter((function(e){return"Left Menu"===e.menutype})).length>0&&n.filter((function(e){return"Left Menu"===e.menutype}))[0].menu&&n.filter((function(e){return"Left Menu"===e.menutype}))[0].menu.length>0?r.a.createElement(v.SideNav,{id:"SideNav-10",options:{draggable:!0},trigger:r.a.createElement(v.Button,{small:!0,node:"button",icon:r.a.createElement(v.Icon,{small:!0},"menu"),className:"blue"})},!0===c.profile?r.a.createElement(v.SideNavItem,{user:{background:"/files/material_back.jpg",email:t.login||"",image:t.photo||null,name:(t.fam||"")+" "+(t.im||"")},userView:!0}):null,!0===c.profile?r.a.createElement(v.SideNavItem,null,r.a.createElement(o.Link,{to:c.userorg},r.a.createElement(v.Icon,{tiny:!0},"settings"),"  "," ",t.orgname||"")):null,n&&d.a.find(n,(function(e){return"Left Menu"===e.menutype}))?r.a.createElement(v.Collapsible,{accordion:!0},l(l,d.a.find(n,(function(e){return 1===e.id})).menu,!1)):null):null),r.a.createElement(v.Col,{item:!0},r.a.createElement(i.g,null,r.a.createElement(i.d,{path:"/",component:T,exact:!0}),r.a.createElement(i.d,{path:"/home",component:T,exact:!0}),r.a.createElement(i.d,{path:"/login",component:_n,exact:!0}),r.a.createElement(i.d,{path:"/getone/:id_page",component:pn,exact:!0}),r.a.createElement(i.d,{path:"/list/:id",component:wt,exact:!0}),r.a.createElement(i.d,{path:"/tiles/:id",component:wt,exact:!0}),r.a.createElement(i.d,{path:"/composition/:id",component:Dn,exact:!0}),r.a.createElement(i.d,{path:"/trees/:id",component:Tn,exact:!0}),r.a.createElement(i.d,{path:"/report/:id",component:Kn}),r.a.createElement(i.d,{path:"/logout",component:wn,exact:!0}),r.a.createElement(i.d,{path:"/chats",component:mi}),r.a.createElement(i.d,{component:Vn})),r.a.createElement(v.Button,{small:!0,style:{position:"fixed",bottom:20,left:30},onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},icon:r.a.createElement(v.Icon,{tiny:!0},"keyboard_arrow_up")}),r.a.createElement(m.NotificationContainer,null),!0===localStorage.getItem("ischat")||"true"===localStorage.getItem("ischat")?r.a.createElement(o.Link,{to:"/chats"},r.a.createElement(v.Icon,{small:!0,style:{fontSize:40,color:"#1890ff",position:"fixed",bottom:20,right:30}},"message")):null)),r.a.createElement(v.Col,null,r.a.createElement("div",{className:"ant-back-top-inner"})))}))},582:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n(55),r=n(165),o=n(211),i=n(56),l=n(35);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={custom_menu:[],usermenu:[],user_detail:{},isLogin:!0,collapsed:!1,open_keys:[],favorits_menu:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.c:return u(u({},e),{},{user_detail:t.user_detail,custom_menu:t.custom_menu,usermenu:t.usermenu,isLogin:t.status});case l.b:return u(u({},e),{},{favorits_menu:t.payload});case l.g:return u(u({},e),{},{isLogin:t.status});case l.h:return u(u({},e),{},{open_keys:t.keys});case l.f:return u(u({},e),{},{collapsed:t.status});case l.a:return u(u({},e),{},{chatId:t.payload});case l.d:return u(u({},e),{},{is_first_id:t.status});case l.e:return u(u({},e),{},{is_unreaded_exist:t.status});default:return e}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={isLoading:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADED":return m(m({},e),{},{isLoading:t.status});default:return e}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={loading:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATUS":return v(v({},e),{},{loading:t.payload});default:return e}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={getone:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GETONE":return _(_({},e),{},{getone:t.getone});default:return e}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={viewtypes:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return L(L({},e),t.data);default:return e}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={isLoading:!1,data_form:{},data_comp:{}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMPOSITION_DATA":return A(A({},e),{},{isLoading:t.isLoading,data_form:t.data_form,data_comp:t.data_comp});default:return e}},G=Object(a.b)({router:o.routerReducer,helpers:j,user:p,loader:y,page:S,settings:x,composition:F}),R=function(e,t){return G(e,t)},U=Object(i.a)();var z=Object(a.d)(R,Object(a.a)(r.a,Object(o.routerMiddleware)(U)))},589:function(e,t,n){n(590),e.exports=n(766)},766:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),r=n(7),o=n.n(r),i=n(20),l=n(32),c=n(86),u=n(582),s=n(580);o.a.render(a.a.createElement(i.a,{store:u.a},a.a.createElement(c.BrowserRouter,null,a.a.createElement(l.d,{component:s.a}))),document.getElementById("container")),e&&e.hot&&e.hot.accept()}.call(this,n(336)(e))}});